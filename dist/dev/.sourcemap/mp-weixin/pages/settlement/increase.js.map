{"version":3,"sources":["uni-app:///src/main.js","webpack:///./src/pages/settlement/increase.vue?5a46","webpack:///./src/pages/settlement/increase.vue?ce25","webpack:///./src/pages/settlement/increase.vue?2bc2","webpack:///./src/pages/settlement/increase.vue?8858","uni-app:///src/pages/settlement/increase.vue","webpack:///./src/pages/settlement/storeDiscount.vue?f271","webpack:///./src/pages/settlement/storeDiscount.vue?37e8","webpack:///./src/pages/settlement/storeDiscount.vue?d8f6","webpack:///./src/pages/settlement/storeDiscount.vue?40c4","uni-app:///src/pages/settlement/storeDiscount.vue","webpack:///./src/pages/settlement/storeDiscount.vue?bbcb","webpack:///./src/pages/settlement/storeDiscount.vue?2db7","webpack:///./src/pages/settlement/increase.vue?1f0f","webpack:///./src/pages/settlement/increase.vue?7e1f"],"names":["createPage","Page"],"mappings":";;;;;;;;;;;;AAAA;;AACA;;AACA;;;;AACAA,UAAU,CAACC,iBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiI;AACjI;AAC4D;AACL;AACqC;;;AAG5F;AACmI;AACnI,gBAAgB,gJAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,+FAAM;AACR,EAAE,wGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAqc,CAAgB,ieAAG,EAAC,C;;;;;;;;;;;;;;;;;;;ACmFzd;;AACA;;AACA;;AAOA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAGA;AAEA,4BAFA;AAIA,MAJA,kBAIA;AACA;AACA,mBADA;AAEA,qBAFA;AAGA;AAAA;AACA,sBADA;AACA;AACA,uBAFA,CAEA;;AAFA,OAHA;AAOA;AAAA;AACA,qBADA;AAEA,qBAFA;AAGA;AAHA,OAPA;AAYA,4BAZA;AAYA;AACA;AAAA;AACA,0BADA;AACA;AACA,iBAFA,CAEA;;AAFA,OAbA;AAiBA,0BAjBA;AAiBA;AACA;AAAA;AACA,oBADA;AACA;AACA,kBAFA,CAEA;;AAFA,OAlBA;AAsBA,sBAtBA,CAsBA;;AAtBA;AAwBA,GA7BA;AA8BA,QA9BA,oBA8BA;AAEA;AAGA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,GA1CA;AA4CA;AACA,0CADA;AAEA,wBAFA;AAGA,8BAHA;AAIA,sCAJA;AAKA;AALA,GA5CA;AAmDA;AACA,cADA,wBACA;AACA;AACA,yCADA;AAEA,4CAFA;AAGA;AAHA;AAKA,KAPA;AAQA,mBARA,2BAQA,MARA,EAQA;AAAA;;AAAA;AACA;AACA;AADA;;AAGA;AACA;AACA;;AACA;AACA,SAHA,MAGA;AACA;AACA,mCADA;AAEA;AAFA;AAIA;AACA,OAVA;AAWA,KAvBA;AAwBA,oBAxBA,8BAwBA;AAAA;;AAAA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;;AACA;AACA,SATA,MASA;AACA;AACA,mCADA;AAEA;AAFA;AAIA;AACA,OAhBA;AAiBA,KA1CA;AA2CA,qBA3CA,+BA2CA;AAAA;;AAAA;AACA;AACA;AACA;;AACA;AACA,SAHA,MAGA;AACA;AACA,mCADA;AAEA;AAFA;AAIA;AACA,OAVA;AAWA,KAvDA;AAwDA,uBAxDA,iCAwDA;AAAA;;AAAA;AACA;;AACA;AACA;;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA,mCADA;AAEA;AAFA;AAIA;AACA,OAVA;AAWA,KArEA;AAsEA,eAtEA,yBAsEA;AAAA;AACA;AACA;AACA;AACA,wEADA;AAEA;AAFA;AAIA,SALA,MAKA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA,WAFA,MAEA;AACA,gCADA,CACA;AACA;AACA;AACA,OAfA,MAeA;AACA;AACA;AACA,KAzFA;AA0FA,gBA1FA,0BA0FA;AAAA;AACA;AACA;AACA,OAFA,MAEA;AAAA;AACA;AACA;AACA,KAhGA;AAiGA,cAjGA,sBAiGA,IAjGA,EAiGA;AAAA;AACA;AACA;AACA,KApGA;AAqGA,sBArGA,gCAqGA;AAAA;;AAAA;AACA;AACA;AACA;;AACA;;AACA;AACA;;AACA;AACA;;AACA;AACA;AACA,0CADA;AAEA;AACA,0CADA;AAEA,0DAFA;AAGA;AAHA;AAFA;AAQA,WATA,MASA;AACA;AACA,sCADA;AAEA;AACA,0CADA;AAEA,0DAFA;AAGA;AAHA;AAFA;AAQA;AACA,SArBA,MAqBA;AACA;AACA,mCADA;AAEA;AAFA;AAIA;AACA,OA7BA;AA8BA,KAxIA;AAyIA,cAzIA,sBAyIA,CAzIA,EAyIA;AAAA;AACA;;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;;AAEA;AACA,KAlJA;AAmJA,eAnJA,uBAmJA,CAnJA,EAmJA;AAAA;AACA;;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;;AACA;AACA,KA3JA;AA4JA,mBA5JA,6BA4JA;AAAA;AACA;AACA,KA9JA;AA+JA,gBA/JA,wBA+JA,QA/JA,EA+JA;AAAA;AACA;AACA;AACA;AAlKA;AAnDA,C;;;;;;;;;;;;;;AC/FA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAsI;AACtI;AACiE;AACL;AACqC;;;AAGjG;AACmI;AACnI,gBAAgB,gJAAU;AAC1B,EAAE,mFAAM;AACR,EAAE,oGAAM;AACR,EAAE,6GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,wGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,WAAW,qPAEN;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACrDA;AAAA;AAAA;AAAA;AAA0c,CAAgB,seAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eC2E9d;AACA,sEADA;AAEA,MAFA,kBAEA;AACA;AAGA,GANA;AAOA;AACA,mBADA,6BACA;AAAA;AACA;AACA,KAHA;AAIA,eAJA,yBAIA;AAAA;AACA;AACA,KANA;AAOA,oBAPA,8BAOA;AAAA;AACA;AACA,KATA;AAUA,gBAVA,wBAUA,IAVA,EAUA;AAAA;AACA;AACA;AACA;AACA;AAdA,GAPA;AAuBA,SAvBA,qBAuBA,CAEA;AAzBA,C;;;;;;;;;;;;;AC3EA;AAAA;AAAA;AAAA;AAAivB,CAAgB,mvBAAG,EAAC,C;;;;;;;;;;;ACArwB;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;ACNL;AAAA;AAAA;AAAA;AAA4uB,CAAgB,8uBAAG,EAAC,C;;;;;;;;;;;ACAhwB;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/settlement/increase.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/settlement/increase.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./increase.vue?vue&type=template&id=fafd9d02&scoped=true&\"\nvar renderjs\nimport script from \"./increase.vue?vue&type=script&lang=js&\"\nexport * from \"./increase.vue?vue&type=script&lang=js&\"\nimport style0 from \"./increase.vue?vue&type=style&index=0&id=fafd9d02&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fafd9d02\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/settlement/increase.vue\"\nexport default component.exports","export * from \"-!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--14-0!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./increase.vue?vue&type=template&id=fafd9d02&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./increase.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./increase.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"page settlement\">\r\n\t\t<defaultTitle :dto=\"{title:'填写订单',bottomColor:'#E6E6E6'}\"></defaultTitle>\r\n\t\t\t<view class=\"shopName\">\r\n\t\t\t\t{{orderInfo.storeName}}\r\n\t\t\t</view>\r\n\t\t\t<view class=\"goodsCont\">\r\n\t\t\t\t<image :src=\"imgBaseUrls+orderInfo.goodsImage\" mode=\"\"></image>\r\n\t\t\t\t<view class=\"goodsInfo\">\r\n\t\t\t\t\t<view class=\"goodsText ellipsis-two\">\r\n\t\t\t\t\t\t{{orderInfo.goodsName}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"goodsPrice\">\r\n\t\t\t\t\t\t<text>¥{{orderInfo.goodsPrice}}</text>\r\n\t\t\t\t\t\t<text class=\"goodsNum\">x{{orderInfo.goodsNum}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\n\t\t\t\r\n\t\t\t<view class=\"fmGoodsMsg\">\r\n\t\t\t\t<text>运费</text>\r\n\t\t\t\t<text class=\"colorChange\">{{orderInfo.freightAmount?\"￥\"+orderInfo.freightAmount:\"包邮\"}}</text>\r\n\t\t\t</view>\r\n\t\t<view class=\"integralMain\">\r\n\t\t\t<text>使用库豆</text>\r\n\t\t\t<text class=\"intergalInfo\" v-if=\"orderGoldCount.accountGold>0 && orderGoldCount.canUseGold\">库豆{{orderGoldCount.accountGold}},本次可抵用￥{{orderGoldCount.canUseGold}}</text>\r\n\t\t\t<text class=\"intergalInfo\" v-if=\"orderGoldCount.accountGold>0 && !orderGoldCount.canUseGold\">购买的商品不支持使用库豆支付</text>\r\n\t\t\t<text class=\"intergalInfo\" v-if=\"orderGoldCount.accountGold<=0\">本次无可用库豆</text>\r\n\t\t\t<view class=\"intergalBtn\">\r\n\t\t\t\t<switch style=\"transform: scale(0.7,0.7);\" :disabled='orderGoldCount.canUseGold<=0'  :checked=\"deductionFlag.gold\" color='#FF1558' @change=\"goldChange\" />\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"integralMain scoreBox\">\r\n\t\t\t<text>使用积分</text>\r\n\t\t\t<text class=\"intergalInfo\" v-if=\"orderScoreCount.usefulScoreNum>0\">本次可用{{orderScoreCount.usefulScoreNum}},本次可抵用￥{{orderScoreCount.score}}</text>\r\n\t\t\t<text class=\"intergalInfo\" v-if=\"orderScoreCount.usefulScoreNum<=0\">本次无可用积分</text>\r\n\t\t\t<view class=\"intergalBtn\">\r\n\t\t\t\t<switch style=\"transform: scale(0.7,0.7);\" :disabled='orderScoreCount.score<=0' :checked=\"deductionFlag.score\" color='#FF1558' @change=\"scoreChange\" />\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class='deduction'>\r\n\t\t\t<text>商品金额</text>\r\n\t\t\t<text>￥{{orderSummaryInfo.goodsFinalAmount}}</text>\r\n\t\t</view>\r\n\t\t<view class='deduction' v-if=\"orderSummaryInfo.freightAmount>0\">\r\n\t\t\t<text>运费</text>\r\n\t\t\t<text>￥{{orderSummaryInfo.freightAmount}}</text>\r\n\t\t</view>\r\n\t\t<!-- <view class='deduction' v-if='orderSummaryInfo.couponAmount>0'>\r\n\t\t\t<text>优惠券</text>\r\n\t\t\t<text>-￥{{orderSummaryInfo.couponAmount}}</text>\r\n\t\t</view> -->\r\n\t\t<view class='deduction' v-if='orderSummaryInfo.socreAmount>0'>\r\n\t\t\t<text>积分抵扣</text>\r\n\t\t\t<text>-￥{{orderSummaryInfo.socreAmount}}</text>\r\n\t\t</view>\r\n\t\t<view class='deduction' v-if=\"orderSummaryInfo.goldAmount>0\">\r\n\t\t\t<text>库豆抵扣</text>\r\n\t\t\t<text>-￥{{orderSummaryInfo.goldAmount}}</text>\r\n\t\t</view>\n\t\t<view class=\"goPayBox\">\r\n\t\t\t<view class=\"payText\">实付款：<text class=\"symbol\">￥</text><text class=\"payAmount\">{{orderSummaryInfo.payAmount?orderSummaryInfo.payAmount:0}}</text></view>\r\n\t\t\t<view class=\"submitBtn\" @click=\"submitOrder\">提交订单</view>\r\n\t\t</view>\r\n\t\t<!-- 输入密码 -->\r\n\t\t<pswPopup ref='pswPopup' @openForgetPopup='openForgetPopup' @submitPay='setSubmitPsw'></pswPopup>\r\n\t\t<!-- 设置支付密码 -->\r\n\t\t<setPayPwd ref='setPayPwd' :payInfo='orderInfo' @openPswPopup='openPswPopup' @submitPay='setSubmitPsw'></setPayPwd>\r\n\t\t<!-- 忘记密码 -->\r\n\t\t<forgetPayPsw ref='forgetPayPsw' :payInfo='orderInfo' @openPswPopup='openPswPopup' @submitPay='setSubmitPsw'></forgetPayPsw>\r\n\t\t<!-- 输入支付验证码 -->\r\n\t\t<verificationCode ref='verificationCode' :payInfo='orderInfo' @codeSubmit='codeSubmit'></verificationCode>\r\n\t\t<share :shareImageList='shareImage'></share>\n\t\t<!-- #ifdef MP-WEIXIN -->\r\n\t\t\t<view v-if=\"(hideFMCanvas != undefined) && !hideFMCanvas\">\r\n\t\t\t\t<canvas canvas-id='tdcanvas' style='margin-top:200rpx'></canvas>\r\n\t\t\t</view>\r\n\t\t<!-- #endif  -->\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\t\r\n\timport tradeApi from '@/api/trade/index.js';\r\n\timport memberApi from '@/api/member/index.js'\r\n\timport storeCoupons from './storeDiscount.vue'\t//店铺优惠券\r\n\timport storePromotionView from './storePromotionView.vue'\t//促销活动\r\n\timport setPayPwd from '@/pages/pay/setPayPsw/index.vue'\r\n\timport forgetPayPsw from '@/pages/pay/forgetPayPsw/index.vue'\r\n\timport pswPopup from '@/pages/pay/passwordPopup/index.vue'\r\n\timport verificationCode from '@/pages/pay/verificationCode/index.vue'\r\n\t// #ifdef MP-WEIXIN\r\n\timport fmagent from '@/common/js/fmagent.js'\r\n\t// #endif\r\n\t\r\n\texport default {\r\n\t\t//  #ifdef MP-WEIXIN\r\n\t\tmixins:[fmagent],\r\n\t\t// #endif\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\torderInfo: {},\r\n\t\t\t\timgBaseUrls: \"\",\r\n\t\t\t\torderGoldCount: { //库豆\r\n\t\t\t\t\tcanUseGold: \"\", //可抵用金额\r\n\t\t\t\t\taccountGold: \"\", //库豆总额\r\n\t\t\t\t},\r\n\t\t\t\tplatformPromotsParams:{\t//平台优惠券请求参数\r\n\t\t\t\t\tlotteryId:'',\r\n\t\t\t\t\taddressId:'',\r\n\t\t\t\t\torders:[]\r\n\t\t\t\t},\r\n\t\t\t\torderSummaryParams:{},//请求总订单价格参数\r\n\t\t\t\torderScoreCount: { //积分\r\n\t\t\t\t\tusefulScoreNum: \"\", //可用积分\r\n\t\t\t\t\tscore: \"\" //抵扣金额\r\n\t\t\t\t},\r\n\t\t\t\torderSummaryInfo:{},\t//实付金额信息\r\n\t\t\t\tdeductionFlag:{\t//所有抵扣的开关\r\n\t\t\t\t\tscore:false,\t//积分开关\r\n\t\t\t\t\tgold:true,\t//库豆\r\n\t\t\t\t},\n\t\t\t\tsubmitFlag:true,\t//提交开关、做防抖\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\t//#ifdef MP-WEIXIN\r\n\t\t\t\tthis.fmagentInit()\r\n\t\t\t//#endif\r\n\t\t\t\r\n\t\t\tthis.zhuge.track(\"填写订单-落地页\")\r\n\t\t\tfor(let i in this.deductionFlag){\r\n\t\t\t\tthis.deductionFlag[i]=false\r\n\t\t\t}\r\n\t\t\tthis.imgBaseUrls = this.$config.imgBaseUrl;\n\t\t\tlet params = this.initParams()\r\n\t\t\tthis.giftBagPageInit(params)\r\n\t\t},\n\t\t\r\n\t\tcomponents:{\r\n\t\t\tstorePromotionView,\r\n\t\t\tsetPayPwd,\r\n\t\t\tforgetPayPsw,\r\n\t\t\tverificationCode,\r\n\t\t\tpswPopup\n\t\t},\r\n\t\tmethods: {\n\t\t\tinitParams(){\n\t\t\t\treturn {\r\n\t\t\t\t\titemId: this.$Route.query.goodsId,\r\n\t\t\t\t\tgoodsNum: this.$Route.query.goodsNum,\r\n\t\t\t\t\tinviterCode:uni.getStorageSync(\"routerShareNumber\")?uni.getStorageSync(\"routerShareNumber\"):\"\",\n\t\t\t\t}\n\t\t\t},\r\n\t\t\tgiftBagPageInit(params) { //初始化订单信息\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle:\"加载中...\"\r\n\t\t\t\t})\r\n\t\t\t\ttradeApi.giftBagPageInit(params).then(res => {\r\n\t\t\t\t\tif (res.data.code == 200) {\r\n\t\t\t\t\t\tthis.orderInfo = res.data.data;\n\t\t\t\t\t\tthis.giftBagGoldOrder()\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.data.message,\r\n\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\n\t\t\tgiftBagGoldOrder(){\t//购物金可用情况\n\t\t\t\ttradeApi.giftBagGoldOrder(this.initParams()).then(res=>{\n\t\t\t\t\tif (res.data.code == 200) {\n\t\t\t\t\t\tthis.orderSummaryParams.goldAmount=res.data.data.canUseGold\n\t\t\t\t\t\tthis.orderGoldCount = res.data.data;\n\t\t\t\t\t\tif(!this.orderGoldCount.canUseGold){\n\t\t\t\t\t\t\tthis.deductionFlag.gold = false\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.deductionFlag.gold = true\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.giftBagScoreOrder()\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: res.data.message,\n\t\t\t\t\t\t\ticon: \"none\"\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\t\n\t\t\tgiftBagScoreOrder(){\t//积分使用情况\n\t\t\t\ttradeApi.giftBagScoreOrder(this.initParams()).then(res=>{\n\t\t\t\t\tif (res.data.code == 200) {\n\t\t\t\t\t\tthis.orderScoreCount = res.data.data;\n\t\t\t\t\t\tthis.giftBagSummaryOrder()\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: res.data.message,\n\t\t\t\t\t\t\ticon: \"none\"\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\r\n\t\t\tgiftBagSummaryOrder() { //获取总订单价格\n\t\t\t\tthis.orderSummaryParams = Object.assign(this.orderSummaryParams,this.initParams())\n\t\t\t\ttradeApi.giftBagSummaryOrder(this.orderSummaryParams).then(res => {\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\tif (res.data.code == 200) {\r\n\t\t\t\t\t\tthis.orderSummaryInfo = res.data.data;\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.data.message,\r\n\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\n\t\t\tsubmitOrder() { //提交订单判断\n\t\t\t\tif(this.orderSummaryInfo.payAmount==0 && this.deductionFlag.score){\r\n\t\t\t\t\tif(this.orderInfo.riskCheck.riskLevel == \"HIGH\"){\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:\"抱歉检测到本次交易异常，为了您的账号安全，请稍后再试或联系客服处理，联系方式：400-100-8246\",\r\n\t\t\t\t\t\t\ticon:\"none\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}else if(this.orderInfo.riskCheck.riskLevel == \"MID\"){\r\n\t\t\t\t\t\tthis.$refs.verificationCode.openVerificationCode();\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tif(this.orderInfo.riskCheck.firstAddrMobile && !this.orderInfo.riskCheck.monthNewMember && this.orderScoreCount.score>this.orderInfo.riskCheck.unsafeAmt){\r\n\t\t\t\t\t\t\tthis.$refs.verificationCode.openVerificationCode();\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tthis.openPswPopup()//打开密码弹窗\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.giftBagSubmitOrder()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\topenPswPopup(){\t//判断是否已设置过密码\r\n\t\t\t\tif (this.orderInfo.hasPayPwd) {\r\n\t\t\t\t\tthis.$refs.pswPopup.openPswPopup();\r\n\t\t\t\t} else { //没有设置过密码  打开设置密码\r\n\t\t\t\t\tthis.$refs.setPayPwd.openNoPswPopup()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcodeSubmit(code){\t//用户安全等级过低时 触发验证码  点击确定  提交订单\r\n\t\t\t\tthis.$set(this.orderSummaryParams,\"code\",code);\r\n\t\t\t\tthis.submit()\r\n\t\t\t},\r\n\t\t\tgiftBagSubmitOrder(){\t//提交订单\r\n\t\t\t\tif(!this.submitFlag){\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tthis.submitFlag = false\r\n\t\t\t\ttradeApi.giftBagSubmitOrder(this.orderSummaryParams).then(res => {\n\t\t\t\t\tthis.submitFlag = true\r\n\t\t\t\t\tif (res.data.code == 200) {\n\t\t\t\t\t\tthis.$refs.verificationCode.closeVerificationCode()\r\n\t\t\t\t\t\tif(this.orderSummaryInfo.payAmount==0){\r\n\t\t\t\t\t\t\tthis.$Router.replace({\r\n\t\t\t\t\t\t\t\tpath:\"/pages/payment/index\",\r\n\t\t\t\t\t\t\t\tquery:{\r\n\t\t\t\t\t\t\t\t\tpayId:res.data.data.payId,\r\n\t\t\t\t\t\t\t\t\tnewtype:this.$Route.query.newtype||\"\",\n\t\t\t\t\t\t\t\t\tincrease:true\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tthis.$Router.replace({\r\n\t\t\t\t\t\t\t\tpath:\"/pages/pay/index\",\r\n\t\t\t\t\t\t\t\tquery:{\r\n\t\t\t\t\t\t\t\t\tpayId:res.data.data.payId,\r\n\t\t\t\t\t\t\t\t\tnewtype:this.$Route.query.newtype || \"\",\n\t\t\t\t\t\t\t\t\tincrease:true\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.data.message,\r\n\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgoldChange(e) { //库豆开关变化时触发\n\t\t\t\tthis.deductionFlag.gold = e.detail.value\r\n\t\t\t\tif(e.detail.value){\r\n\t\t\t\t\tthis.orderSummaryParams[\"goldAmount\"] = this.orderGoldCount.canUseGold\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.orderSummaryParams[\"goldAmount\"] = 0\r\n\t\t\t\t}\n\t\t\t\t\r\n\t\t\t\tthis.giftBagSummaryOrder()\r\n\t\t\t},\r\n\t\t\tscoreChange(e){\t//积分开关变化时触发\r\n\t\t\t\tthis.deductionFlag.score = e.detail.value\r\n\t\t\t\tif(e.detail.value){\r\n\t\t\t\t\tthis.orderSummaryParams[\"scoreNum\"] = this.orderScoreCount.usefulScoreNum\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.orderSummaryParams[\"scoreNum\"] = 0\r\n\t\t\t\t}\r\n\t\t\t\tthis.giftBagSummaryOrder()\r\n\t\t\t},\r\n\t\t\topenForgetPopup() { //打开忘记支付密码弹窗\r\n\t\t\t\tthis.$refs.forgetPayPsw.openForgetPopup();\r\n\t\t\t},\r\n\t\t\tsetSubmitPsw(password) { //子集修改密码/重置密码/输入密码后点击确定触发  赋值支付密码\r\n\t\t\t\tthis.$set(this.orderSummaryParams,\"password\",password)\r\n\t\t\t\tthis.submit()\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n\t.settlement {\r\n\t\t/* #ifndef MP-WEIXIN */\r\n\t\tpadding-top: 88rpx;\r\n\t\t/* #endif */\r\n\t\tpadding-bottom: calc(120rpx + constant(safe-area-inset-bottom));\r\n\t\tpadding-bottom: calc(120rpx + env(safe-area-inset-bottom));\r\n\t}\r\n\r\n\t.settlementTitle {\r\n\t\twidth: 100%;\r\n\t\tline-height: 40rpx;\r\n\t\tcolor: #333;\r\n\t\tdisplay: flex;\r\n\t\tfont-size: 34rpx;\r\n\t\tfont-weight: 700;\r\n\t}\r\n\r\n\t.telephone {\r\n\t\tmargin-left: 20rpx;\r\n\t}\r\n\r\n\t.addressMain {\r\n\t\twidth: 90%;\r\n\t\tcolor: #333333;\r\n\t\tline-height: 36rpx;\r\n\t\tmargin-top: 24rpx;\r\n\t}\r\n\r\n\t.arrow {\r\n\t\twidth: 10rpx;\r\n\t\theight: 20rpx;\r\n\t\tbackground: url(http://beifa-mall.oss-cn-shanghai.aliyuncs.com/appletsImages/rightArrow.png) no-repeat 50%;\r\n\t\tbackground-size: 10rpx 20rpx;\r\n\t\tposition: absolute;\r\n\t\tright: 24rpx;\r\n\t\ttop: 50%;\r\n\t\tmargin-top: -10rpx;\r\n\t}\r\n\r\n\t.settlementLine {\r\n\t\theight: 8rpx;\r\n\t\twidth: 100%;\r\n\t\tbackground: url(http://beifa-mall.oss-cn-shanghai.aliyuncs.com/appletsImages/pic_ct.png) no-repeat 50%;\r\n\t\tbackground-size: 100% 8rpx;\r\n\t}\r\n\r\n\t.addressChange {\r\n\t\twidth: 100%;\r\n\t\tmargin-bottom: 0.2rem;\r\n\t\tpadding-left: 0.24rem;\r\n\t\tcolor: #FF1558\r\n\t}\r\n\r\n\t.orderMain {\r\n\t\twidth: 100%;\r\n\t\tmargin-bottom: 60rpx;\r\n\t}\r\n\t\r\n\t.shopName {\r\n\t\twidth: 100%;\r\n\t\tline-height: 42rpx;\r\n\t\tpadding: 34rpx 24rpx 12rpx;\r\n\t\tfont-size: 30rpx;\r\n\t\tcolor: #333333;\r\n\t\tfont-weight: 700;\n\t}\r\n\r\n\t.goodsCont {\r\n\t\tposition: relative;\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tpadding: 10rpx 24rpx;\r\n\t}\r\n\r\n\t.goodsCont image {\r\n\t\twidth: 220rpx;\r\n\t\theight: 220rpx;\r\n\t}\r\n\r\n\t.goodsInfo {\r\n\t\tpadding: 20rpx 0;\r\n\t\tmargin-left: 24rpx;\r\n\t\tflex: 1;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.goodsText {\r\n\t\twidth: 100%;\r\n\t\tmax-height: 80rpx;\r\n\t\tcolor: #333333;\r\n\t}\r\n\r\n\t.goodSpce {\r\n\t\twidth: 100%;\r\n\t\theight: 28rpx;\r\n\t\tline-height: 28rpx;\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #999999;\r\n\t\tmargin-top: 12rpx;\r\n\t}\r\n\r\n\t.goodsPrice {\r\n\t\theight: 44rpx;\r\n\t\tline-height: 44rpx;\r\n\t\tposition: absolute;\r\n\t\tbottom: 20rpx;\r\n\t\tcolor: #FF1558;\r\n\t\twidth: 100%;\r\n\t\tfont-size: 30rpx;\r\n\t}\r\n\r\n\t.goodsNum {\r\n\t\tposition: absolute;\r\n\t\tright: 0;\r\n\t\ttop: 0;\r\n\t\tcolor: #999999;\r\n\t\tfont-size: 30rpx;\r\n\t}\r\n\r\n\t.fmGoodsMsg {\r\n\t\twidth: calc(100% - 48rpx);\r\n\t\theight: 88rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\tmargin: 0 auto;\r\n\t\talign-items: center;\r\n\t\tdisplay: flex;\r\n\t\tborder-bottom: 1px solid #E6E6E6;\r\n\t}\r\n\r\n\t.colorChange {\r\n\t\tcolor: rgba(153, 153, 153);\r\n\t\tline-height: 44rpx;\r\n\t\theight: 44rpx;\r\n\t\ttext-align: right;\r\n\t\tfont-size: 28rpx;\r\n\t}\r\n\t\r\n\t.activityBox{\r\n\t\tdisplay: inline-block;\r\n\t\theight: 32rpx;\r\n\t\tline-height: 32rpx;\r\n\t\tfont-size: 22rpx;\r\n\t\ttext-align: center;\r\n\t\tpadding: 0 14rpx;\r\n\t\tborder-radius: 100rpx;\r\n\t\tcolor: #ff7e18;\r\n\t\tbackground: #ffeee1;\r\n\t}\r\n\t.promotionsActivityBox{\r\n\t\tdisplay: inline-block;\r\n\t\theight: 32rpx;\r\n\t\tline-height: 32rpx;\r\n\t\tfont-size: 20rpx;\r\n\t\ttext-align: center;\r\n\t\tpadding: 0 14rpx;\r\n\t\tborder-radius: 100rpx;\r\n\t\tbackground: #242424;\r\n\t\tcolor: #ffdf8c;\r\n\t}\r\n\t.fmGoodsMsg input {\r\n\t\tfont-size: 24rpx;\r\n\t\tflex: 1;\r\n\t\tmargin-left: 20rpx;\r\n\t\theight: 100%;\r\n\t\tline-height: 88rpx;\r\n\t}\r\n\r\n\t.price {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #333333;\r\n\t}\r\n\r\n\t.goPayBox {\r\n\t\twidth: 100%;\r\n\t\theight: 100rpx;\r\n\t\tline-height: 100rpx;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\tdisplay: flex;\r\n\t\tposition: fixed;\r\n\t\tleft: 0;\r\n\t\tbottom: 0;\r\n\t\tbottom: calc(0rpx + constant(safe-area-inset-bottom));\r\n\t\tbottom: calc(0rpx + env(safe-area-inset-bottom));\r\n\t\tborder-top: 1rpx solid #E6E6E6;\n\t\tz-index: 9;\r\n\t}\r\n\r\n\t.payText {\r\n\t\tflex: 1;\r\n\t\tcolor: #4a4a4a;\r\n\t\ttext-align: right;\r\n\t\tmargin-right: 48rpx;\r\n\t\tline-height: 100rpx;\r\n\t}\r\n\r\n\t.submitBtn {\r\n\t\twidth: 252rpx;\r\n\t\theight: 100rpx;\r\n\t\tline-height: 100rpx;\r\n\t\ttext-align: center;\r\n\t\tline-height: 100rpx;\r\n\t\tcolor: #FFFFFF;\r\n\t\tfont-size: 32rpx;\r\n\t\tbackground-color: #FF1558;\r\n\t}\r\n\r\n\t.nullAddress {\r\n\t\tline-height: 40rpx;\r\n\t\tfont-size: 34rpx;\r\n\t\tfont-weight: 700;\r\n\t}\r\n\r\n\t.integralMain {\r\n\t\theight: 88rpx;\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tmargin-left: 24rpx;\r\n\t\talign-items: center;\r\n\t\tborder-bottom: 1rpx solid #E4E4E4;\r\n\t\tpadding-right: 24rpx;\r\n\t}\r\n\t.separatePromotion {\r\n\t\tpadding: 0 24rpx;\r\n\t}\r\n\t.marking_plus{\r\n\t\tdisplay: inline-block;\r\n\t\tbackground: #080f23;\r\n\t\tborder-radius: 8px 8px 8px 2px;\r\n\t\tfont-size: 11px;\r\n\t\tcolor: #ffe9d3;\r\n\t\tpadding: 0 7px;\r\n\t\tmargin-left: 20rpx;\r\n\t}\r\n\t.intergalInfo {\r\n\t\tfont-size: 22rpx;\r\n\t\tcolor: #999999;\r\n\t\tflex: 1;\r\n\t\ttext-align: right;\r\n\t}\r\n\r\n\t.intergalBtn {\r\n\t\twidth: 89rpx;\r\n\t\tmargin-left: 24rpx;\r\n\t\tmargin-right: 24rpx;\r\n\t}\r\n\r\n\t.discountPrice {\r\n\t\tdisplay: flex;\r\n\t\twidth: 100%;\r\n\t\tjustify-content: space-between;\r\n\t\tpadding: 24rpx;\r\n\t}\r\n\r\n\t.priceSymbol {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #FF1558;\r\n\t}\r\n\r\n\t.symbolPrice {\r\n\t\tfont-size: 32rpx;\r\n\t\tcolor: #FF1558;\r\n\t\tmargin-right: 12rpx;\r\n\t}\r\n\t.symbol{\r\n\t\tfont-size: 22rpx;\r\n\t\tcolor: #FF1558;\r\n\t}\r\n\t.payAmount{\r\n\t\tcolor: #FF1558;\r\n\t\tfont-size: 32rpx;\r\n\t}\r\n\t.deduction{\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\tpadding: 0 24rpx;\r\n\t\tcolor: #333333;\r\n\t\theight: 40rpx;\r\n\t\tline-height: 40rpx;\r\n\t}\r\n\t.scoreBox{\r\n\t\tmargin-bottom: 40rpx;\r\n\t}\r\n\t.member_identification{\r\n\t\theight: 26rpx;\r\n\t\twidth: calc(100% - 48rpx);\r\n\t\tmargin: 20rpx auto 10rpx;\r\n\t}\n\t.cartHint{\n\t\twidth: 100%;\n\t\theight: 90rpx;\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tpadding: 0 20rpx;\n\t\tposition: fixed;\n\t\tcolor: #8E5B17;\n\t\tbackground-color: #fbf4ea;\n\t\tfont-size: 24rpx;\n\t\tfont-weight: 400;\n\t\tbottom: calc(100rpx + constant(safe-area-inset-bottom));\r\n\t\tbottom: calc(100rpx + env(safe-area-inset-bottom));\n\t\tz-index: 9;\n\t}\n\t.cartHint text{\n\t\tcolor: #333;\n\t\tfont-weight: 500;\n\t}\n\t.goBuyBtn{\n\t\tcolor: #8E5B17;\n\t\tfont-weight: 500;\n\t}\n\t.cartHint .memberGoodsPrice{\n\t\tcolor: #FF1558;\n\t}\n\t.deliveryTime{\n\t\twidth: calc(100% - 40rpx);\n\t\theight: 58rpx;\n\t\tbackground-color: #FEE5EB;\n\t\tmargin: 5rpx auto;\n\t\tborder-radius: 20rpx;\n\t\tcolor: #FE325C;\n\t\tfont-size: 24rpx;\n\t\tpadding: 0 20rpx;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\t.deliveryTime image{\n\t\twidth: 20rpx;\n\t\theight: 20rpx;\n\t\tmargin-right: 12rpx;\n\t}\r\n</style>\r\n","import { render, staticRenderFns, recyclableRender, components } from \"./storeDiscount.vue?vue&type=template&id=c11e1f56&scoped=true&\"\nvar renderjs\nimport script from \"./storeDiscount.vue?vue&type=script&lang=js&\"\nexport * from \"./storeDiscount.vue?vue&type=script&lang=js&\"\nimport style0 from \"./storeDiscount.vue?vue&type=style&index=0&id=c11e1f56&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c11e1f56\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/settlement/storeDiscount.vue\"\nexport default component.exports","export * from \"-!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--14-0!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./storeDiscount.vue?vue&type=template&id=c11e1f56&scoped=true&\"","var components = {\n  uniPopup: function() {\n    return import(\n      /* webpackChunkName: \"components/uni-popup/uni-popup\" */ \"@/components/uni-popup/uni-popup.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.storeCouponsInfo[_vm.storeId].availableList, function(\n    item,\n    index\n  ) {\n    var $orig = _vm.__get_orig(item)\n\n    var g0 = _vm.$utils.formatDate(item.startTime, \"yyyy.MM.dd\")\n    var g1 = _vm.$utils.formatDate(item.endTime, \"yyyy.MM.dd\")\n    return {\n      $orig: $orig,\n      g0: g0,\n      g1: g1\n    }\n  })\n\n  var l1 = _vm.__map(\n    _vm.storeCouponsInfo[_vm.storeId].unavailableList,\n    function(item, index) {\n      var $orig = _vm.__get_orig(item)\n\n      var g2 = _vm.$utils.formatDate(item.startTime, \"yyyy.MM.dd\")\n      var g3 = _vm.$utils.formatDate(item.endTime, \"yyyy.MM.dd\")\n      return {\n        $orig: $orig,\n        g2: g2,\n        g3: g3\n      }\n    }\n  )\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        l1: l1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./storeDiscount.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./storeDiscount.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"page\">\r\n\t\t<view class=\"disCount\" @click=\"openCouponPopup\">\r\n\t\t\t<view>\r\n\t\t\t\t<text>店铺优惠券</text>\r\n\t\t\t\t<text class=\"couponsNum\">{{storeCouponsInfo[storeId].availableList.length}}张可用</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"discountPrice\" v-for='item,index in storeCouponsInfo[storeId].availableList' v-if=\"chooseStoreId==item.id\" :key='index'>\r\n\t\t\t\t<text v-if=\"item.discountValue\">-￥{{item.discountValue}}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"couponIcon\"></view>\r\n\t\t</view>\r\n\t\t<uni-popup ref=\"couponPopup\" type=\"bottom\">\r\n\t\t\t<view class=\"couponPopup\">\r\n\t\t\t\t<view class=\"popupTitle\">\r\n\t\t\t\t\t{{storeName}}\r\n\t\t\t\t</view>\r\n\t\t\t\t<scroll-view scroll-y=\"true\" class=\"couponMain\">\r\n\t\t\t\t\t<view class=\"everyRow\" v-for='item,index in storeCouponsInfo[storeId].availableList' :key='index'>\r\n\t\t\t\t\t\t<view class=\"couponPrice\">\r\n\t\t\t\t\t\t\t<view class=\"price\">\r\n\t\t\t\t\t\t\t\t<text>￥</text>\r\n\t\t\t\t\t\t\t\t{{item.discountValue}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"type\">\r\n\t\t\t\t\t\t\t\t{{item.condType==1?\"满\":\"每满\"}}{{item.condValue}}使用\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"couponInfo\">\r\n\t\t\t\t\t\t\t<view class=\"couponType\">\r\n\t\t\t\t\t\t\t\t<text class=\"disCountType\">满减券</text>\r\n\t\t\t\t\t\t\t\t<text class=\"couponName\">{{item.name}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"couponTime\">\r\n\t\t\t\t\t\t\t\t{{$utils.formatDate(item.startTime,\"yyyy.MM.dd\")}}-{{$utils.formatDate(item.endTime,\"yyyy.MM.dd\")}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"couponBtnIcon\" @click=\"couponChange(item)\" :class=\"chooseStoreId==item.id?'active':''\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"availableNotUse\" @click=\"clearCoupon\">\r\n\t\t\t\t\t\t不使用优惠券\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"unavailable\">\r\n\t\t\t\t\t\t不可用优惠券\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"everyRow\" v-for='item,index in storeCouponsInfo[storeId].unavailableList' :key='index'>\r\n\t\t\t\t\t\t<view class=\"couponPrice unavailableActive\">\r\n\t\t\t\t\t\t\t<view class=\"price\">\r\n\t\t\t\t\t\t\t\t<text>￥</text>\r\n\t\t\t\t\t\t\t\t{{item.discountValue}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"type\">\r\n\t\t\t\t\t\t\t\t{{item.condType==1?\"满\":\"每满\"}}{{item.condValue}}使用\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"couponInfo\">\r\n\t\t\t\t\t\t\t<view class=\"couponType\">\r\n\t\t\t\t\t\t\t\t<text class=\"disCountType unavailableActive\">满减券</text>\r\n\t\t\t\t\t\t\t\t<text class=\"couponName\">{{item.name}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"couponTime\">\r\n\t\t\t\t\t\t\t\t{{$utils.formatDate(item.startTime,\"yyyy.MM.dd\")}}-{{$utils.formatDate(item.endTime,\"yyyy.MM.dd\")}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t\t<view class=\"sureBtn\" @click=\"closeCouponPopup\">\r\n\t\t\t\t\t完成\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</uni-popup>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tprops: [\"storeCouponsInfo\", \"storeId\", \"storeName\",\"chooseStoreId\"],\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\topenCouponPopup() { //打开店铺优惠券弹窗\r\n\t\t\t\tthis.$refs.couponPopup.open()\r\n\t\t\t},\r\n\t\t\tclearCoupon(){\t//不使用优惠券\r\n\t\t\t\tthis.$emit(\"couponChange\",this.storeId,\"\")\r\n\t\t\t},\r\n\t\t\tcloseCouponPopup(){\t//关闭店铺优惠券弹窗\r\n\t\t\t\tthis.$refs.couponPopup.close()\r\n\t\t\t},\r\n\t\t\tcouponChange(item){\t//优惠券选择发生变化时触发\r\n\t\t\t\tif(item.id!=this.chooseStoreId){\r\n\t\t\t\t\tthis.$emit(\"couponChange\",this.storeId,item.id)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.disCount {\r\n\t\twidth: calc(100% - 44rpx);\r\n\t\tmargin: 0 auto;\r\n\t\theight: 88rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tborder-bottom: 1rpx solid #E6E6E6;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.couponsNum {\r\n\t\theight: 32rpx;\r\n\t\tline-height: 32rpx;\r\n\t\ttext-align: center;\r\n\t\tcolor: #FF1558;\r\n\t\tbackground-color: #ffecf1;\r\n\t\tpadding: 0 14rpx;\r\n\t\tborder-radius: 100rpx;\r\n\t\tmargin-left: 10rpx;\r\n\t}\r\n\r\n\t.couponIcon {\r\n\t\theight: 88rpx;\r\n\t\twidth: 32rpx;\r\n\t\tbackground: url(http://beifa-mall.oss-cn-shanghai.aliyuncs.com/appletsImages/moreD.png) no-repeat 50%;\r\n\t\tbackground-size: 32rpx 8rpx;\r\n\t}\r\n\r\n\t.couponPopup {\r\n\t\theight: 752rpx;\r\n\t\twidth: 100%;\r\n\t\tbackground-color: #FFFFFF;\r\n\t}\r\n\r\n\t.popupTitle {\r\n\t\twidth: 100%;\r\n\t\theight: 100rpx;\r\n\t\tline-height: 100rpx;\r\n\t\tfont-size: 34rpx;\r\n\t\ttext-align: center;\r\n\t}\r\n\t\r\n\t.discountPrice{\r\n\t\tflex: 1;\r\n\t\ttext-align: right;\r\n\t\tmargin-right: 20rpx;\r\n\t}\r\n\t\r\n\t.couponMain {\r\n\t\twidth: 100%;\r\n\t\theight: calc(100% - 200rpx);\r\n\t}\r\n\r\n\t.everyRow {\r\n\t\twidth: 702rpx;\r\n\t\tmargin: 0 auto;\r\n\t\tmargin-bottom: 30rpx;\r\n\t\tborder-radius: 6rpx;\r\n\t\tbox-shadow: 0 0 18px 0 rgba(0, 0, 0, .08);\r\n\t\tdisplay: flex;\r\n\t\theight: 170rpx;\r\n\t\talign-items: center;\r\n\t\tpadding-right: 24rpx;\r\n\t}\r\n\r\n\t.couponPrice {\r\n\t\twidth: 220rpx;\r\n\t\theight: 170rpx;\r\n\t\tpadding: 24rpx;\r\n\t\tbackground: url(http://beifa-mall.oss-cn-shanghai.aliyuncs.com/appletsImages/orderCoup.png) no-repeat 50%;\r\n\t\tbackground-size: 220rpx 170rpx;\r\n\t\ttext-align: center;\r\n\t\tcolor: #FFFFFF;\r\n\t}\r\n\t.couponPrice.unavailableActive{\r\n\t\tbackground: url(http://beifa-mall.oss-cn-shanghai.aliyuncs.com/appletsImages/orderCoupUn.png) no-repeat 50%;\r\n\t}\r\n\t.sureBtn {\r\n\t\twidth: 100%;\r\n\t\theight: 100rpx;\r\n\t\ttext-align: center;\r\n\t\tline-height: 100rpx;\r\n\t\tfont-size: 32rpx;\r\n\t\tcolor: #FFFFFF;\r\n\t\tbackground-color: #FF1558;\r\n\t}\r\n\r\n\t.price {\r\n\t\tfont-size: 60rpx;\r\n\t}\r\n\r\n\t.price text {\r\n\t\tfont-size: 38rpx;\r\n\t}\r\n\r\n\t.type {\r\n\t\tfont-size: 24rpx;\r\n\t\tmargin-top: 4rpx;\r\n\t}\r\n\r\n\t.couponInfo {\r\n\t\tflex: 1;\r\n\t\theight: 170rpx;\r\n\t\tpadding: 26rpx 84rpx 26rpx 24rpx;\r\n\t}\r\n\r\n\t.couponType {\r\n\t\twidth: 100%;\r\n\t\theight: 72rpx;\r\n\t\tline-height: 36rpx;\r\n\t\tcolor: #333333;\r\n\t\tfont-weight: 700;\r\n\t}\r\n\r\n\t.disCountType {\r\n\t\tcolor: #FFFFFF;\r\n\t\tmargin-right: 22rpx;\r\n\t\tpadding: 0 10rpx;\r\n\t\tbackground-color: #FF1558;\r\n\t\theight: 24rpx;\r\n\t\tline-height: 24rpx;\r\n\t\tborder-radius: 100rpx;\r\n\t\tfont-size: 18rpx;\r\n\t}\r\n\t.unavailableActive{\r\n\t\tbackground-color: #DDDDDD;\r\n\t}\r\n\t.couponName {\r\n\t\tfont-weight: 700rpx;\r\n\t\tcolor: #333333;\r\n\t}\r\n\r\n\t.couponTime {\r\n\t\tcolor: #929292;\r\n\t\tfont-size: 22rpx;\r\n\t}\r\n\r\n\t.couponBtnIcon {\r\n\t\twidth: 36rpx;\r\n\t\theight: 36rpx;\r\n\t\tbackground: url(http://beifa-mall.oss-cn-shanghai.aliyuncs.com/appletsImages/oval_3copy4@2x.png) no-repeat 50%;\r\n\t\tbackground-size: 36rpx 36rpx;\r\n\t}\r\n\r\n\t.couponBtnIcon.active {\r\n\t\tbackground: url(http://beifa-mall.oss-cn-shanghai.aliyuncs.com/appletsImages/subr.png) no-repeat 50%;\r\n\t\tbackground-size: 36rpx 36rpx;\r\n\t}\r\n\r\n\t.availableNotUse {\r\n\t\twidth: 702rpx;\r\n\t\theight: 98rpx;\r\n\t\tline-height: 98rpx;\r\n\t\ttext-align: center;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\tcolor: #999999;\r\n\t\tmargin: 0 auto;\r\n\t\tmargin-bottom: 30rpx;\r\n\t\tborder-radius: 6rpx;\r\n\t\tfont-size: 32rpx;\r\n\t\tborder: 1rpx solid #E4E4E4;\r\n\t}\r\n\t\r\n\t.unavailable{\r\n\t\twidth: 100%;\r\n\t\theight: 94rpx;\r\n\t\tline-height: 94rpx;\r\n\t\tpadding: 0 24rpx;\r\n\t\tfont-size: 30rpx;\r\n\t\tcolor: #333333;\r\n\t}\r\n</style>\n","import mod from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./storeDiscount.vue?vue&type=style&index=0&id=c11e1f56&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./storeDiscount.vue?vue&type=style&index=0&id=c11e1f56&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1639368362673\n      var cssReload = require(\"/Users/guojunqiang/Documents/project-bf/new-mall-mobile/node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import mod from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./increase.vue?vue&type=style&index=0&id=fafd9d02&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./increase.vue?vue&type=style&index=0&id=fafd9d02&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1639368362655\n      var cssReload = require(\"/Users/guojunqiang/Documents/project-bf/new-mall-mobile/node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}
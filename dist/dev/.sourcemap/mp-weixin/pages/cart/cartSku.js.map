{"version":3,"sources":["webpack:///./src/pages/cart/cartSku.vue?3e45","webpack:///./src/pages/cart/cartSku.vue?f0db","webpack:///./src/pages/cart/cartSku.vue?b324","webpack:///./src/pages/cart/cartSku.vue?74f5","uni-app:///src/pages/cart/cartSku.vue","webpack:///./src/pages/cart/cartSku.vue?d27b","webpack:///./src/pages/cart/cartSku.vue?d3ae"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgI;AAChI;AAC2D;AACL;AACqC;;;AAG3F;AACmI;AACnI,gBAAgB,gJAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,8FAAM;AACR,EAAE,uGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,kGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,WAAW,qPAEN;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACdA;AAAA;AAAA;AAAA;AAAoc,CAAgB,geAAG,EAAC,C;;;;;;;;;;;;;;;;;;;AC6Bxd;;;;;;;;;;;;;;;;eACA;AACA,uBADA;AAEA,MAFA,kBAEA;AACA;AACA,0CADA;AAEA,sBAFA;AAGA,oBAHA;AAIA;AAJA;AAMA,GATA;AAUA;AACA;AACA,iBAFA,2BAEA;AAAA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA,iBAFA,MAEA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA,6CAfA,CAgBA;;AAhBA,qDAiBA,0BAjBA;AAAA;;AAAA;AAiBA;AAAA;;AACA;AACA;AACA;AACA;AArBA;AAAA;AAAA;AAAA;AAAA;;AAsBA;;AACA;AACA,SAxBA,MAwBA;AACA;AACA,mCADA;AAEA;AAFA;AAIA;AACA,OA/BA;AAgCA,KAtCA;AAuCA,QAvCA,kBAuCA;AACA,iEADA,CAEA;;AACA;;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA,8BAbA,CAcA;;AACA;AACA;;AAEA;AAEA,+DAFA,CAEA;;AACA;;AAEA;AAAA;AAEA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AAEA;AAAA;AACA;AACA;AACA,iBAFA,MAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA,OAxCA,MAwCA;AACA;;AACA;;;AAGA;AACA,iEADA,CAEA;;AACA;AACA;AACA;;AACA;;AACA;AACA;;AACA;AAAA;AACA;AACA;AACA,mBAFA,MAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA,KA1HA;AA2HA;AACA,aA5HA,qBA4HA,IA5HA,EA4HA,KA5HA,EA4HA,CA5HA,EA4HA;AACA;AAAA;AACA;AACA;;AACA;;AAEA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA,OARA,MAQA;AACA;AACA;AACA;AACA;;AACA,4EALA,CAMA;;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,SAVA,MAUA;AACA;AACA;AACA;;AACA;AAEA;AAEA,KApKA;AAqKA,oBArKA,8BAqKA;AAAA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA,KA5KA;AA6KA;AACA,cA9KA,sBA8KA,KA9KA,EA8KA,QA9KA,EA8KA,OA9KA,EA8KA,cA9KA,EA8KA,YA9KA,EA8KA;AACA;AACA,oBADA;AAEA,0BAFA;AAGA,wBAHA;AAIA,sCAJA;AAKA;AALA;AAOA,KAtLA;AAuLA;AACA,cAxLA,wBAwLA;AACA;AACA;AAAA;AACA,sCADA;AAEA;AAFA;AAIA,OALA,MAKA;AACA;AACA,gCADA;AAEA;AAFA;AAIA,OALA,MAKA;AACA;AACA;AACA,wCADA;AAEA,2CAFA;AAGA;AAHA;AAKA;AACA;AAEA,KA7MA;AA8MA,iBA9MA,2BA8MA;AACA;AACA;AAhNA;AAVA,C;;;;;;;;;;;;;;AC9BA;AAAA;AAAA;AAAA;AAA2uB,CAAgB,6uBAAG,EAAC,C;;;;;;;;;;;ACA/vB;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/cart/cartSku.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./cartSku.vue?vue&type=template&id=bb3f0832&scoped=true&\"\nvar renderjs\nimport script from \"./cartSku.vue?vue&type=script&lang=js&\"\nexport * from \"./cartSku.vue?vue&type=script&lang=js&\"\nimport style0 from \"./cartSku.vue?vue&type=style&index=0&id=bb3f0832&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bb3f0832\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/cart/cartSku.vue\"\nexport default component.exports","export * from \"-!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--14-0!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cartSku.vue?vue&type=template&id=bb3f0832&scoped=true&\"","var components = {\n  uniPopup: function() {\n    return import(\n      /* webpackChunkName: \"components/uni-popup/uni-popup\" */ \"@/components/uni-popup/uni-popup.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cartSku.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cartSku.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"page\">\r\n\t\t<uni-popup ref=\"skuPopup\" type=\"bottom\">\r\n\t\t\t<view class=\"skuBox\">\r\n\t\t\t\t<view class=\"closeBtn\" @click=\"closeSkuPopup\"></view>\r\n\t\t\t\t<view class=\"goodsInfo\">\r\n\t\t\t\t\t<image  mode=\"aspectFill\"  :src=\"imgBaseUrls+operateObj.goodsImg\"></image>\r\n\t\t\t\t\t<view class=\"goodsSpces\">\r\n\t\t\t\t\t\t<view class=\"goodsPrice\"><text>￥{{operateObj.price}}</text></view>\r\n\t\t\t\t\t\t<view class=\"goodsStock\">库存{{operateObj.storage}}件</view>\r\n\t\t\t\t\t\t<view class=\"goodsSpceSku\" v-if=\"keyName\">请选择：{{keyName}}</view>\r\n\t\t\t\t\t\t<view class=\"goodsSpceSku\" v-else>已选：{{operateObj.saleFieldValue}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<scroll-view scroll-y=true class=\"spceBox\">\r\n\t\t\t\t\t<view class=\"spceList\" v-for=\"item,index in goodsSpceSku.goodsSkuSaleKeyDtos\" :key='item.id'>\r\n\t\t\t\t\t\t<view class=\"spceTitle\">{{item.keyName}}</view>\r\n\t\t\t\t\t\t<view class=\"spceLabel\">\r\n\t\t\t\t\t\t\t<text v-for=\"list,i in item.skuDtos\" :key='i' :class=\"{'active':list.flag,'null':list.noStorage}\" @click='skuChange(list,index,i)'>{{list.saleName}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t\t<view class=\"newSubmit\" @click=\"sureChange\">确  定</view>\r\n\t\t\t</view>\r\n\t\t</uni-popup>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport goodsApi from '@/api/goods/index.js';\r\n\texport default {\r\n\t\tprops:['chooseSpec'],\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\timgBaseUrls: this.$config.imgBaseUrl,\r\n\t\t\t\tgoodsSpceSku:{},\r\n\t\t\t\toperateObj:{},\r\n\t\t\t\tkeyName:'',\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\t// 初始选中\r\n\t\t\tfindCartGoods(){\r\n\t\t\t\tlet chooseSpec = this.chooseSpec\r\n\t\t\t\tthis.keyName = ''\r\n\t\t\t\tthis.setOperate(chooseSpec.price,chooseSpec.goodsImg,chooseSpec.storage,chooseSpec.saleFieldValue)\r\n\t\t\t\tgoodsApi.findCartGoods(chooseSpec.itemId).then(res=>{\r\n\t\t\t\t\tif(res.data.code==200){\r\n\t\t\t\t\t\tfor(let i=0;i<res.data.data.goodsSkuSaleKeyDtos.length;i++){\r\n\t\t\t\t\t\t\tthis.$set(res.data.data.goodsSkuSaleKeyDtos[i],\"skuDtos\",[])\r\n\t\t\t\t\t\t\tfor(let j=0;j<res.data.data.goodsSkuSaleDtos.length;j++){\r\n\t\t\t\t\t\t\t\tif(res.data.data.goodsSkuSaleKeyDtos[i].id == res.data.data.goodsSkuSaleDtos[j].id){\r\n\t\t\t\t\t\t\t\t\t\t// 初始化\r\n\t\t\t\t\t\t\t\t\tif(chooseSpec.saleFieldValue.indexOf(res.data.data.goodsSkuSaleDtos[j].saleName)>-1){\r\n\t\t\t\t\t\t\t\t\t\tres.data.data.goodsSkuSaleDtos[j].flag = true\r\n\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\tres.data.data.goodsSkuSaleDtos[j].flag = false\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tres.data.data.goodsSkuSaleKeyDtos[i].skuDtos.push(res.data.data.goodsSkuSaleDtos[j]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.goodsSpceSku = res.data.data\r\n\t\t\t\t\t\t// 初始化\r\n\t\t\t\t\t\tfor(let i of res.data.data.goodsSkuDTOS){\r\n\t\t\t\t\t\t\tif(chooseSpec.goodsId == i.id){\r\n\t\t\t\t\t\t\t\tthis.operateObj.saleFieldIds = i.saleFieldValue\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.init()\r\n\t\t\t\t\t\tthis.$refs.skuPopup.open()\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:res.data.message,\r\n\t\t\t\t\t\t\ticon:\"none\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tinit(){\r\n\t\t\t\tlet saleFieldIds = this.operateObj.saleFieldIds.split(',')\r\n\t\t\t\t\t// 判断是否多个类型都有值\r\n\t\t\t\t\tlet keyName = []\r\n\t\t\t\t\tfor(let j in  this.goodsSpceSku.goodsSkuSaleKeyDtos){\r\n\t\t\t\t\t\tkeyName.push(this.goodsSpceSku.goodsSkuSaleKeyDtos[j].keyName)\r\n\t\t\t\t\t\tfor(let k in saleFieldIds){\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif(this.goodsSpceSku.goodsSkuSaleKeyDtos[j].id == saleFieldIds[k].split(':')[0]){\r\n\t\t\t\t\t\t\t\tkeyName.splice(keyName.indexOf(this.goodsSpceSku.goodsSkuSaleKeyDtos[j].keyName),1)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.keyName = keyName.join(' ')\r\n\t\t\t\t\tthis.resetStockNumber()\r\n\t\t\t\t\t// 价格查询\r\n\t\t\t\t\tif(!this.keyName){\r\n\t\t\t\t\t\tlet lastId = this.goodsSpceSku.goodsSkuSaleKeyDtos[this.goodsSpceSku.goodsSkuSaleKeyDtos.length-1].id\r\n\r\n\t\t\t\t\t\tfor(let k in this.goodsSpceSku.goodsSkuSaleKeyDtos) {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlet temp = this.goodsSpceSku.goodsSkuSaleKeyDtos[k] // key \r\n\t\t\t\t\t\t\t\tlet saleFieldIds_temp = JSON.parse(JSON.stringify(saleFieldIds)) \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tfor(let l in temp.skuDtos){ // \r\n\r\n\t\t\t\t\t\t\t\t\tfor(let i in saleFieldIds){\r\n\t\t\t\t\t\t\t\t\t\tif(saleFieldIds[i].split(':')[0] == lastId){\r\n\t\t\t\t\t\t\t\t\t\t\tsaleFieldIds_temp[i] = temp.skuDtos[l].id+':'+temp.skuDtos[l].saleName\r\n\t\t\t\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tfor(let m in this.goodsSpceSku.goodsSkuDTOS){\r\n\t\t\t\t\t\t\t\t\t\tlet obj = this.goodsSpceSku.goodsSkuDTOS[m]\r\n\t\t\t\t\t\t\t\t\t\tlet len = obj.saleFieldValue.split(',').length\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tif(obj.saleFieldValue.split(',').sort().toString() == saleFieldIds_temp.sort().toString() ){ // 改库存\r\n\t\t\t\t\t\t\t\t\t\t\tif( obj.stockNumber == 0 && temp.skuDtos[l].saleName == obj.saleFieldValue.split(',')[len-1].split(':')[1]){\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.$set(temp.skuDtos[l],'noStorage',true)\r\n\t\t\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.$set(temp.skuDtos[l],'noStorage',false)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\tif(obj.saleFieldValue.split(',').sort().toString() == saleFieldIds.sort().toString()){\r\n\t\t\t\t\t\t\t\t\t\t\tlet name = ''\r\n\t\t\t\t\t\t\t\t\t\t\tthis.$set(this.operateObj,'goodsId',obj.id)\r\n\t\t\t\t\t\t\t\t\t\t\tthis.$set(this.operateObj,'status',obj.status)\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tfor(let k in obj.goodsSkuSaleDto){\r\n\t\t\t\t\t\t\t\t\t\t\t\tname += obj.goodsSkuSaleDto[k].saleName+' '\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tthis.setOperate(obj.price,obj.saleImage,obj.stockNumber,name,obj.saleFieldValue)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else if(keyName.length <=  1){\r\n\t\t\t\t\t\t// 进行库存判断\t\r\n\t\t\t\t\t\t/* \r\n\t\t\t\t\t\t *  查询当前选中的，有且只有一项未选中，判断当前类型进行库存判断，设置storage 为 0\r\n\t\t\t\t\t\t*/\r\n\t\t\t\t\t\tfor(let k in this.goodsSpceSku.goodsSkuSaleKeyDtos) {\r\n\t\t\t\t\t\t\tlet temp = this.goodsSpceSku.goodsSkuSaleKeyDtos[k]\r\n\t\t\t\t\t\t\t// 当前id 不在 选中里\r\n\t\t\t\t\t\t\tif(!(saleFieldIds.join(',').indexOf(temp.id)>-1)){\r\n\t\t\t\t\t\t\t\tfor(let l in temp.skuDtos){\r\n\t\t\t\t\t\t\t\t\tlet saleFieldIds_temp = saleFieldIds[0]?JSON.parse(JSON.stringify(saleFieldIds)):[] \r\n\t\t\t\t\t\t\t\t\tsaleFieldIds_temp.push(temp.skuDtos[l].id+':'+temp.skuDtos[l].saleName)\r\n\t\t\t\t\t\t\t\t\tfor(let m in this.goodsSpceSku.goodsSkuDTOS){\r\n\t\t\t\t\t\t\t\t\t\tlet obj = this.goodsSpceSku.goodsSkuDTOS[m]\r\n\t\t\t\t\t\t\t\t\t\tif(obj.saleFieldValue.split(',').sort().toString() == saleFieldIds_temp.sort().toString() ){ // 改库存\r\n\t\t\t\t\t\t\t\t\t\t\tif( obj.stockNumber == 0){\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.$set(temp.skuDtos[l],'noStorage',true)\r\n\t\t\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.$set(temp.skuDtos[l],'noStorage',false)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 类型切换\r\n\t\t\tskuChange(item,index,i){\r\n\t\t\t\tif(item.noStorage){ // 无库存 不能点击\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tlet saleFieldIds = this.operateObj.saleFieldIds?this.operateObj.saleFieldIds.split(','):[]\r\n\r\n\t\t\t\tif(item.flag){\r\n\t\t\t\t\t// 取消选中\r\n\t\t\t\t\tthis.goodsSpceSku.goodsSkuSaleKeyDtos[index].skuDtos[i].flag = false\r\n\t\t\t\t\tfor(let i in saleFieldIds){\r\n\t\t\t\t\t\tif(saleFieldIds[i].split(':')[0] == item.id){\r\n\t\t\t\t\t\t\tsaleFieldIds.splice(i,1)\r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\t// 选中\r\n\t\t\t\t\tfor(let k in this.goodsSpceSku.goodsSkuSaleKeyDtos[index].skuDtos){\r\n\t\t\t\t\t\tthis.goodsSpceSku.goodsSkuSaleKeyDtos[index].skuDtos[k].flag = false\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.goodsSpceSku.goodsSkuSaleKeyDtos[index].skuDtos[i].flag = true\r\n\t\t\t\t\t// 商品id \r\n\t\t\t\t\tlet bol = true\r\n\t\t\t\t\tif(saleFieldIds.length){\r\n\t\t\t\t\t\tfor(let i in saleFieldIds){\r\n\t\t\t\t\t\t\tif(saleFieldIds[i].split(':')[0] == item.id){\r\n\t\t\t\t\t\t\t\tbol = false\r\n\t\t\t\t\t\t\t\tsaleFieldIds[i] = item.id+':'+item.saleName\r\n\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(bol){\r\n\t\t\t\t\t\t\tsaleFieldIds.push(item.id+':'+item.saleName)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tsaleFieldIds.push(item.id+':'+item.saleName)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.operateObj.saleFieldIds = saleFieldIds.join(',')\r\n\r\n\t\t\t\tthis.init()\r\n\t\t\t\t\t\r\n\t\t\t},\r\n\t\t\tresetStockNumber(){\t// 重置库存\r\n\t\t\t\tfor(let k in this.goodsSpceSku.goodsSkuSaleKeyDtos) {\r\n\t\t\t\t\tlet temp = this.goodsSpceSku.goodsSkuSaleKeyDtos[k]\r\n\t\t\t\t\tfor(let l in temp.skuDtos){\r\n\t\t\t\t\t\tthis.$set(temp.skuDtos[l],'noStorage',false)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 设置最终结果obj\r\n\t\t\tsetOperate(price,goodsImg,storage,saleFieldValue,saleFieldIds){\r\n\t\t\t\tthis.operateObj = { ...this.operateObj,\r\n\t\t\t\t\tprice,\r\n\t\t\t\t\tgoodsImg,\r\n\t\t\t\t\tstorage,\r\n\t\t\t\t\tsaleFieldValue,\r\n\t\t\t\t\tsaleFieldIds:saleFieldIds\r\n\t\t\t\t}\t\r\n\t\t\t},\r\n\t\t\t// 确定\r\n\t\t\tsureChange(){\r\n\t\t\t\tif(this.keyName){\r\n\t\t\t\t\tuni.showToast({  // 未选择\r\n\t\t\t\t\t\ttitle: '请选择：'+this.keyName,\r\n\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t})\r\n\t\t\t\t}else if(this.operateObj.storage<=0){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '加入购物车的数量大于库存量',\r\n\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t})\r\n\t\t\t\t}else{\r\n\t\t\t\t\tlet num = this.operateObj.storage*1 >= this.chooseSpec.num*1 ?  this.chooseSpec.num*1 : 1\r\n\t\t\t\t\tthis.$emit('changeCart',{...this.operateObj,\r\n\t\t\t\t\t\tcartId:this.chooseSpec.cartId,\r\n\t\t\t\t\t\tgoodsPrice:this.operateObj.price,\r\n\t\t\t\t\t\tnum:num\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.$refs.skuPopup.close()\r\n\t\t\t\t}\t\r\n\r\n\t\t\t},\n\t\t\tcloseSkuPopup(){\n\t\t\t\tthis.$refs.skuPopup.close()\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t\r\n\t}\r\n</script>\r\n\r\n<style scoped> \r\n.skuBox{\r\n\t\twidth: 100%;\r\n\t\theight: 850rpx;\r\n\t\tmin-height: 752rpx;\r\n\t\t/* #ifndef MP-WEIXIN  */\r\n\t\tbottom: 100rpx;\r\n\t\t/* #endif */\r\n\t\tbackground-color: #FFFFFF;\r\n\t\tposition: relative;\r\n\t}\r\n\t.closeBtn{\r\n\t\twidth: 60rpx;\r\n\t\theight: 60rpx;\r\n\t\tbackground: url(http://beifa-mall.oss-cn-shanghai.aliyuncs.com/appletsImages/group_2@2x.png) no-repeat 50%;\r\n\t\tbackground-size: 40rpx;\r\n\t\tposition: absolute;\r\n\t\ttop: 10rpx;\r\n\t\tright: 10rpx;\r\n\t}\r\n\t.goodsInfo{\r\n\t\tpadding-top: 28rpx;\r\n\t}\r\n\t.goodsInfo image{\r\n\t\twidth: 200rpx;\r\n\t\theight: 200rpx;\r\n\t\tborder-radius: 6rpx;\r\n\t\tborder: 1px solid #E4E4E4;\r\n\t\tmargin-left: 28rpx;\r\n\t}\r\n\t.goodsSpces{\r\n\t\twidth: calc(100% - 264rpx);\r\n\t\tmargin-left: 24rpx;\r\n\t\tdisplay: inline-block;\r\n\t}\r\n\t.spceList{\r\n\t\tpadding: 30rpx 0 36rpx;\r\n\t\tmargin-left: 25rpx;\r\n\t\tborder-bottom: 1px solid #E4E4E4;\r\n\t}\r\n\t.spceTitle{\r\n\t\tfont-size: 30rpx;\r\n\t\tcolor: #333333;\r\n\t\tline-height: 32rpx;\r\n\t}\r\n\t.spceLabel{\r\n\t\twidth: 98%;\r\n\t}\r\n\t.spceLabel text{\r\n\t\tmin-width: 126rpx;\r\n\t\tborder-radius: 35rpx;\r\n\t\tpadding: 0 16rpx;\r\n\t\theight: 50rpx;\r\n\t\tline-height: 50rpx;\r\n\t\ttext-align: center;\r\n\t\tmargin-right: 24rpx;\r\n\t\tdisplay: inline-block;\r\n\t\tmargin-top: 24rpx;\r\n\t\tfont-size: 26rpx;\r\n\t\tbackground-color: #f5f5f9;\r\n\t}\r\n\t.spceLabel text.active{\r\n\t\tbackground: #ff1558;\r\n\t\tcolor: #FFFFFF;\r\n\t}\r\n\t\r\n\t.spceLabel text.null{\r\n\t\tbackground: #F5F5F9;\r\n\t\tcolor: #CCCCCC;\r\n\t\tborder: none;\r\n\t}\r\n\t.goodsStock,.goodsSpceSku{\r\n\t\tcolor: #666666;\r\n\t\tmargin-top: 7rpx;\r\n\t\tfont-size: 24rpx;\r\n\t\tline-height: 31rpx;\r\n\t}\r\n\t.goodsSpceSku{\r\n\t\tcolor: #333333;\r\n\t}\r\n\t.goodsPrice{\r\n\t\tfont-size: 32rpx;\r\n\t\tcolor: #FF1558;\r\n\t\tline-height: 42rpx;\r\n\t}\r\n\t.goodsPrice text{\r\n\t\tfont-size: 24rpx;\r\n\t}\r\n\t.spceBox{\r\n\t\theight: 524rpx;\r\n\t\twidth: 100%;\r\n\t}\r\n\t\r\n\t.newSubmit{\r\n\t\tbackground: #e61446;\r\n\t\twidth: 100%;\r\n\t\tfont-size: 16px;\r\n\t\ttext-align: center;\r\n\t\tcolor: #fff;\r\n\t\tposition: absolute;\r\n\t\tbottom: 2px;\r\n\t\tz-index: 999;\r\n\t\theight: 44px;\r\n\t\tline-height: 44px;\r\n\t}\r\n\t\r\n</style>\r\n","import mod from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cartSku.vue?vue&type=style&index=0&id=bb3f0832&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cartSku.vue?vue&type=style&index=0&id=bb3f0832&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1639368369877\n      var cssReload = require(\"/Users/guojunqiang/Documents/project-bf/new-mall-mobile/node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}
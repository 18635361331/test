{"version":3,"sources":["uni-app:///src/main.js","webpack:///./src/pages/giftCardPay/index.vue?6641","webpack:///./src/pages/giftCardPay/index.vue?f7b1","webpack:///./src/pages/giftCardPay/index.vue?1283","webpack:///./src/pages/giftCardPay/index.vue?2155","uni-app:///src/pages/giftCardPay/index.vue","webpack:///./src/pages/giftCardPay/index.vue?2e5a","webpack:///./src/pages/giftCardPay/index.vue?5fb0"],"names":["createPage","Page"],"mappings":";;;;;;;;;;;;AAAA;;AACA;;AACA;;;;AACAA,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AACsC;;;AAG1F;AACmI;AACnI,gBAAgB,gJAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAkc,CAAgB,8dAAG,EAAC,C;;;;;;;;;;;;;;;;;;;ACuBtd;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;eACA;AACA,MADA,kBACA;AACA;AACA;AACA;AADA,OADA;AAIA,iBAJA;AAIA;AACA,eALA;AAMA,oBANA;AAMA;AACA,qBAPA,CAOA;;AAPA;AASA,GAXA;AAYA,QAZA,oBAYA;AAUA;AAEA;AACA;AAEA,GA3BA;AA4BA,QA5BA,oBA4BA;AACA;AACA,GA9BA;AA+BA;AACA,gBADA,wBACA,IADA,EACA;AACA;AACA,KAHA;AAIA,kBAJA,4BAIA;AAAA;AACA;AACA,KANA;AAOA,mBAPA,6BAOA;AAAA;;AACA;AACA;AACA;;AAAA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AAHA;AAKA;AACA;AAEA,KAvBA;AAwBA,kBAxBA,4BAwBA;AAAA;;AAAA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA,mCADA;AAEA;AAFA;AAIA;AACA,OATA;AAUA,KAnCA;AAoCA,wBApCA,gCAoCA,IApCA,EAoCA;AAAA;;AAAA;AACA;AACA,kBADA;AAEA,2CAFA;AAGA;AAHA,SAIA,IAJA,CAIA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA,mCADA;AAEA;AAFA;AAIA;AACA,OAbA;AAcA,KAnDA;AAoDA,kBApDA,0BAoDA,MApDA,EAoDA;AAAA;AACA;;AACA;AACA,2BADA;AAEA,mCAFA;AAGA,iCAHA;AAIA,+BAJA;AAKA,+BALA;AAMA,iCANA;AAOA;AACA;AACA,SATA;AAUA;AACA;AAEA;AAbA;AAeA,KArEA;AAsEA,eAtEA,uBAsEA,IAtEA,EAsEA;AAAA;;AAAA;AACA;AACA;AACA,uBADA;AAEA;AAFA;AAIA;AACA,sCADA;AAEA;AACA;AADA;AAFA;AAMA,OAXA,MAWA;AACA;AACA,gCADA;AAEA;AAFA;AAIA;AACA;AACA;AADA;AAGA,SAJA,EAIA,GAJA;AAKA;AACA;AA7FA;AA/BA,C;;;;;;;;;;;;;;ACzBA;AAAA;AAAA;AAAA;AAA25B,CAAgB,s4BAAG,EAAC,C;;;;;;;;;;;ACA/6B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/giftCardPay/index.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/giftCardPay/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=367138fc&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=367138fc&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"367138fc\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/giftCardPay/index.vue\"\nexport default component.exports","export * from \"-!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--14-0!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=367138fc&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"page\">\n\t\t<defaultTitle :dto=\"defaultTitleDto\"></defaultTitle>\n\t\t<view class=\"pay-cont\">\n\t\t\t<view class=\"order-price\">订单金额 <text class=\"tag\">￥</text><text class=\"payNum\">{{payNum}}</text></view>\n\t\t\t <!-- #ifndef MP-WEIXIN -->\n\t\t\t<view class=\"my-wallet-info zfb\" v-if=\"!isWxFlag\" @click=\"walletChange('zfb')\">\n\t\t\t\t<view class=\"wallet-icon\"></view>\n\t\t\t\t<view class=\"wallet-text\">支付宝支付</view>\n\t\t\t\t<text class=\"select\" :class=\"{cur:typeFlag==2}\"></text>\n\t\t\t</view>\n\t\t\t<!-- #endif -->\n\t\t\t<view class=\"my-wallet-info wx\" v-if=\"isWxFlag\" @click=\"walletChange('wx')\">\n\t\t\t\t<view class=\"wallet-icon\"></view>\n\t\t\t\t<view class=\"wallet-text\">微信支付</view>\n\t\t\t\t<text class=\"select\" :class=\"{cur:typeFlag==1}\"></text>\n\t\t\t</view>\n\t\t\t<view class=\"submit-pay\" @click=\"submitPayChange\">提交支付</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\timport appApi from '@/api/app/index.js';\n\timport payMentApi from '@/api/payment/index.js'\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tdefaultTitleDto: {\n\t\t\t\t\ttitle: '支付方式'\n\t\t\t\t},\n\t\t\t\ttypeFlag: 1, // 1 微信 2 支付宝\n\t\t\t\tpayNum: 0,\n\t\t\t\tisWxFlag: true, //是否在微信浏览器中  1为小程序   true公众号  false 普通浏览器\n\t\t\t\tsubmitBol:true,//防重复提交\n\t\t\t}\n\t\t},\n\t\tonLoad() {\n\t\t// #ifdef H5\n\t\t\tlet ua = navigator.userAgent.toLowerCase();\n\t\t\tif (ua.match(/MicroMessenger/i) == \"micromessenger\") {\n\t\t\t\tthis.isWxFlag = true //在微信浏览器中\n\t\t\t} else {\n\t\t\t\tthis.isWxFlag = false //不在微信浏览器中\n\t\t\t\tthis.typeFlag = 2\n\t\t\t}\n\t\t//#endif\n\t\t/*微信小程序*/\n\t\t//#ifdef MP-WEIXIN\n\t\t\tthis.isWxFlag = true\n\t\t\tthis.typeFlag = 1\n\t\t// #endif\n\t\t},\n\t\tonShow() {\n\t\t\tthis.giftcardAmount();\n\t\t},\n\t\tmethods: {\n\t\t\twalletChange(type) { \n\t\t\t\tthis.typeFlag = type;\n\t\t\t},\n\t\t\tcloseAuthorize() { //关闭授权\n\t\t\t\tthis.$refs.authorize.close()\n\t\t\t},\n\t\t\tsubmitPayChange(){\n\t\t\t\tif(!this.submitBol){\n\t\t\t\t\treturn false\n\t\t\t\t};\n\t\t\t\tthis.submitBol = false\n\t\t\t\tuni.showLoading({\n\t\t\t\t  title: \"加载中...\"\n\t\t\t\t});\n\t\t\t\tuni.login({\n\t\t\t\t\tsuccess:(data)=>{\n\t\t\t\t\t\tthis.buildMiniPrepPaySign(data.code)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tthis.submitBol = true\n\t\t\t\tuni.hideLoading()\n\t\t\t\t\n\t\t\t},\n\t\t\tgiftcardAmount(){\t//获取支付信息\n\t\t\t\tappApi.giftcardAmount(this.$Route.query.payId).then(res=>{\n\t\t\t\t\tif(res.data.code==200){\n\t\t\t\t\t\tthis.payNum = res.data.data\n\t\t\t\t\t}else{\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle:res.data.message,\n\t\t\t\t\t\t\ticon:\"none\"\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tbuildMiniPrepPaySign(code){\t//获取微信支付信息\n\t\t\t\tpayMentApi.buildMiniPrepPaySign({\n\t\t\t\t\tcode: code,\n\t\t\t\t\torderPayId:this.$Route.query.payId,\n\t\t\t\t\torderType: \"card\"\n\t\t\t\t}).then(res=>{\n\t\t\t\t\tif(res.data.code==200){\n\t\t\t\t\t\tthis.requestpayment(res.data.data)\n\t\t\t\t\t}else{\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle:res.data.message,\n\t\t\t\t\t\t\ticon:\"none\"\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\trequestpayment(params) { //小程序支付\n\t\t\t\tlet _this = this;\n\t\t\t\tuni.requestPayment({\n\t\t\t\t\tprovider: \"payment\",\n\t\t\t\t\ttimeStamp: params.timeStamp,\n\t\t\t\t\tnonceStr: params.nonceStr,\n\t\t\t\t\tpackage: params.package,\n\t\t\t\t\tpaySign: params.paySign,\n\t\t\t\t\tsignType: params.signType,\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t_this.payCallBack(true)\n\t\t\t\t\t},\n\t\t\t\t\tfail: function(res) {\n\t\t\t\t\t\t_this.payCallBack(false)\n\t\t\t\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tpayCallBack(flag){\t //支付成功或失败的回调\n\t\t\t\tif(flag){\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: \"支付成功\",\n\t\t\t\t\t\ticon: \"none\"\n\t\t\t\t\t})\n\t\t\t\t\tthis.$Router.replace({\n\t\t\t\t\t\tpath: \"/pages/payment/index\",\n\t\t\t\t\t\tquery:{\n\t\t\t\t\t\t\ttype:\"giftCard\"\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}else{\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: \"已取消支付,正在前往订单页\",\n\t\t\t\t\t\ticon: \"none\"\n\t\t\t\t\t})\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.$Router.replace({\n\t\t\t\t\t\t\tpath: \"/pages/myGiftCardOrderList/index\",\n\t\t\t\t\t\t})\n\t\t\t\t\t}, 500)\n\t\t\t\t}\n\t\t\t},\n\t\t}\n\t}\n</script>\n\n<style scoped lang=\"scss\">\n\tpage {\n\t\tbackground: #f5f5f5;\n\t}\n\n\t.pay-cont {\n\t\t/* #ifndef MP-WEIXIN */\n\t\tpadding-top: 88rpx;\n\t\t/* #endif */\n\t}\n\n\t.order-price {\n\t\twidth: 100%;\n\t\theight: 100rpx;\n\t\tline-height: 100rpx;\n\t\tpadding: 0 30rpx;\n\t\tfont-size: 28rpx;\n\t\tcolor: #686868;\n\t\tletter-spacing: 0;\n\t\tbackground: #FFFFFF;\n\t\tdisplay: flex;\n\n\t\ttext {\n\t\t\tfont-size: 36rpx;\n\t\t\tline-height: 100rpx;\n\t\t\tcolor: #ff1558;\n\t\t}\n\n\t\t.tag {\n\t\t\tmargin-left: auto;\n\t\t\tfont-size: 24rpx;\n\t\t\tline-height: 108rpx;\n\t\t}\n\t}\n\n\t.my-wallet-info {\n\t\tdisplay: block;\n\t\twidth: 100%;\n\t\theight: 120rpx;\n\t\tpadding: 0 26rpx;\n\t\tbackground: #FFFFFF;\n\t\tborder-bottom: 1px solid #EEEEEE;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\n\t.wallet-icon {\n\t\twidth: 110rpx;\n\t\theight: 110rpx;\n\n\t\t.zfb & {\n\t\t\tbackground:url(#{$img-oss}icon_zhi.png) no-repeat 50%;\n\t\t\tbackground-size: 50rpx 50rpx;\n\t\t}\n\n\t\t.wx & {\n\t\t\tbackground:url(#{$img-oss}icon_weixin.png) no-repeat 50%;\n\t\t\tbackground-size: 50rpx 50rpx;\n\t\t}\n\t}\n\n\t.select {\n\t\t$height1: 36rpx;\n\t\tdisplay: block;\n\t\twidth: $height1;\n\t\theight: $height1;\n\t\tbackground:url(#{$img-oss}oval_3copy4@2x.png) no-repeat 50%;\n\t\tbackground-size: $height1 $height1;\n\t\tmargin-left: auto;\n\n\t\t&.cur {\n\t\t\tbackground:url(#{$img-oss}subr.png) no-repeat 50%;\n\t\t\tbackground-size: $height1 $height1;\n\t\t}\n\t}\n\n\t.submit-pay {\n\t\twidth: 100%;\n\t\theight: 98rpx;\n\t\tline-height: 98rpx;\n\t\tfont-size: 32rpx;\n\t\tcolor: #fff;\n\t\ttext-align: center;\n\t\tbackground-color: #ff1558;\n\t\tposition: fixed;\n\t\tbottom: 0;\n\t\tmargin: 0 auto;\n\t\tz-index: 9999;\n\t}\n\t.authorizeView {\n\t\twidth: 500rpx;\n\t\tbackground-color: #FFFFFF;\n\t\tborder-radius: 8rpx;\n\t\tpadding: 30rpx;\n\t}\n\t.authorizaImage {\n\t\twidth: 200rpx;\n\t\theight: 200rpx;\n\t\tmargin: 0 auto;\n\t\ttext-align: center;\n\t\tpadding: 20rpx 0;\n\t\tposition: relative;\n\t}\n\t\n\t.authorBtnImage {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tbackground: url(http://beifa-mall.oss-cn-shanghai.aliyuncs.com/appletsImages/headBg2.png) no-repeat 50%;\n\t\tbackground-size: 100%;\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\ttop: 0;\n\t\tz-index: 1;\n\t}\n\t\n\t.authorTopImage {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tbackground: url(http://beifa-mall.oss-cn-shanghai.aliyuncs.com/appletsImages/headBg1.png) no-repeat 50%;\n\t\tbackground-size: 100%;\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\ttop: 0;\n\t\tz-index: 20;\n\t}\n\t.noApplyInfoBtn {\n\t\tbackground-color:#fff ;\n\t\tborder: 1px solid #ccc;\n\t\tmargin: 20rpx auto 0 ;\n\t}\n\t\n\t.authorizaBtnBox {\n\t\twidth: 85%;\n\t\theight: 80rpx;\n\t\tline-height: 80rpx;\n\t\tfont-size: 36rpx;\n\t\tborder-radius: 40rpx;\n\t\ttext-align: center;\n\t}\n\t.authUserImage {\n\t\twidth: 120rpx;\n\t\theight: 120rpx;\n\t\tposition: absolute;\n\t\ttop: 38rpx;\n\t\tleft: 40rpx;\n\t\tz-index: 10;\n\t\tborder-radius: 50%;\n\t\toverflow: hidden;\n\t}\n</style>\n","import mod from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=367138fc&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=367138fc&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1639368372092\n      var cssReload = require(\"/Users/guojunqiang/Documents/project-bf/new-mall-mobile/node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}
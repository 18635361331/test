{"version":3,"sources":["uni-app:///src/main.js","webpack:///./src/pages/login/index.vue?4a00","webpack:///./src/pages/login/index.vue?9fe3","webpack:///./src/pages/login/index.vue?0d24","webpack:///./src/pages/login/index.vue?e6c3","uni-app:///src/pages/login/index.vue","webpack:///./src/pages/login/index.vue?dece","webpack:///./src/pages/login/index.vue?3f28"],"names":["createPage","Page"],"mappings":"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","file":"pages/login/index.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/login/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=4586967a&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/login/index.vue\"\nexport default component.exports","export * from \"-!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--14-0!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=4586967a&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.chooseType = \"quick\"\n    }\n\n    _vm.e1 = function($event) {\n      _vm.chooseType = \"pass\"\n    }\n\n    _vm.e2 = function($event) {\n      _vm.passwordFlag = !_vm.passwordFlag\n    }\n\n    _vm.e3 = function($event) {\n      _vm.passwordFlag = !_vm.passwordFlag\n    }\n\n    _vm.e4 = function($event) {\n      _vm.telephone ? \"\" : _vm.otherLogin()\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"page loginBox\">\r\n\t\t<!-- #ifndef MP-WEIXIN -->\r\n\t\t<view class=\"closeBtn\" @click=\"goBack(1)\">\r\n\t\t\t<image src=\"http://beifa-mall.oss-cn-shanghai.aliyuncs.com/appletsImages/group_2@2x.png\"></image>\r\n\t\t</view>\r\n\t\t<!-- #endif  -->\r\n\t\t<view class=\"loginType\">\r\n\t\t\t<text @click=\"chooseType='quick'\" :class=\"chooseType=='quick'?'active':''\">快捷登录</text>\r\n\t\t\t<text @click=\"chooseType='pass'\" :class=\"chooseType=='pass'?'active':''\">密码登录</text>\r\n\t\t</view>\r\n\t\t<view class=\"loginFrom\" v-if=\"chooseType=='quick'\">\r\n\t\t\t<view class=\"quickInput\">\r\n\t\t\t\t<input type=\"text\" v-model=\"quick.telephone\" placeholder=\"请输入手机号\" />\r\n\t\t\t</view>\r\n\t\t\t<view class=\"quickInput\">\r\n\t\t\t\t<input type=\"text\" v-model=\"quick.captcha\" class=\"passWord\" placeholder=\"请输入验证码\" />\r\n\t\t\t\t<text v-if=\"!countdown.count\" class=\"getCode\" @click=\"captcha\">获取验证码</text>\r\n\t\t\t\t<text v-if=\"countdown.count\" class=\"getCode countDown\">{{countdown.count}}秒后重新获取</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"loginFrom\" v-if=\"chooseType=='pass'\">\r\n\t\t\t<view class=\"quickInput\">\r\n\t\t\t\t<input type=\"text\" v-model=\"account.loginName\" placeholder=\"请输入账号/手机号\" />\r\n\t\t\t</view>\r\n\t\t\t<view class=\"quickInput\">\r\n\t\t\t\t<input v-if=\"passwordFlag\" type=\"text\" v-model=\"account.password\" class=\"passWord\" placeholder=\"请输入密码\" />\r\n\t\t\t\t<input v-else type=\"password\" v-model=\"account.password\" class=\"passWord\" placeholder=\"请输入密码\" />\r\n\t\t\t\t\r\n\t\t\t\t<view class=\"getCode\">\r\n\t\t\t\t\t<image @click=\"passwordFlag=!passwordFlag\" v-if=\"passwordFlag\" src=\"http://beifa-mall.oss-cn-shanghai.aliyuncs.com/appletsImages/eyes@2x.png\"\r\n\t\t\t\t\t mode=\"\"></image>\r\n\t\t\t\t\t<image @click=\"passwordFlag=!passwordFlag\" v-if=\"!passwordFlag\" src=\"http://beifa-mall.oss-cn-shanghai.aliyuncs.com/appletsImages/shape@2x.png\"\r\n\t\t\t\t\t mode=\"\"></image>\r\n\t\t\t\t\t<view class=\"forgeBtn\" @click=\"goToForgetPwd\">忘记密码</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"loginBtn\" @click=\"judgeSubmit\">\r\n\t\t\t<text>登录</text>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"otherLogin\">\r\n\t\t\t<view class=\"otherLoginLine\"></view>\r\n\t\t\t<view class=\"otherLoginText\">其他方式登录</view>\r\n\t\t</view>\r\n\t\t<view class=\"otherLoginBtn\" @click=\"telephone?'':otherLogin()\">\r\n\t\t\t<wxLogin v-if='telephone' @wechatMiniAuth='getUserInfo'></wxLogin>\r\n\t\t\t<image src=\"http://beifa-mall.oss-cn-shanghai.aliyuncs.com/appletsImages/wechat_s_login@2x.png?123\" mode=\"\"></image>\r\n\t\t\t<view>微信</view>\r\n\t\t</view>\r\n\t\t<view class=\"loginAgreement\">\r\n\t\t\t登录即代表您同意<text @click='openPopup'>《文器库商城用户协议》</text>\r\n\t\t</view>\r\n\t\t<agreementPopup ref='agreementPopup'></agreementPopup>\r\n\t\t<!-- #ifdef MP-WEIXIN -->\r\n\t\t\t<view v-if=\"(hideFMCanvas != undefined) && !hideFMCanvas\">\r\n\t\t\t\t<canvas canvas-id='tdcanvas' style='margin-top:200rpx'></canvas>\r\n\t\t\t</view>\r\n\t\t<!-- #endif  -->\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport agreementPopup from './agreementPopup.vue'\r\n\timport memberApi from '@/api/member/index.js'\r\n\timport wechatApi from '@/api/wechat/index.js'\r\n\timport wxLogin from '@/common/model/wxLogin/index.vue'\r\n\t\r\n\t// #ifdef MP-WEIXIN\r\n\timport fmagent from '@/common/js/fmagent.js'\r\n\t// #endif\r\n\t\r\n\texport default {\r\n\t\t//  #ifdef MP-WEIXIN\r\n\t\tmixins:[fmagent],\r\n\t\t// #endif\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tpasswordFlag: false,\r\n\t\t\t\tchooseType: \"quick\",\r\n\t\t\t\tquick: {\t//快捷登录\r\n\t\t\t\t\ttelephone: \"\",\r\n\t\t\t\t\tcaptcha: \"\"\r\n\t\t\t\t},\r\n\t\t\t\taccount: {\t//账号密码登录\r\n\t\t\t\t\tloginName: \"\",\r\n\t\t\t\t\tpassword: \"\"\r\n\t\t\t\t},\r\n\t\t\t\tcountdown: {\t//倒计时\r\n\t\t\t\t\tinter: \"\",\r\n\t\t\t\t\tcount: 0\r\n\t\t\t\t},\r\n\t\t\t\tauthorizeFlag:true,\t//是否已授权\r\n\t\t\t\ttelephone:\"\",\t//授权手机号\r\n\t\t\t\tretry:1\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tjudgeSubmit() { //判断登录类型\r\n\t\t\t\tif (this.chooseType == 'quick') { //快捷登录\r\n\t\t\t\t\tthis.quickLogin()\r\n\t\t\t\t} else { //密码登录\r\n\t\t\t\t\tthis.accountLogin()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcaptcha() { //获取验证码\r\n\t\t\t\tif (!(/^\\d{11}$/.test(this.quick.telephone))) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: \"请输入正确的手机号\",\r\n\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.countDownTime();\r\n\t\t\t\tmemberApi.captcha({\r\n\t\t\t\t\ttelephone: this.quick.telephone,\r\n\t\t\t\t\ttype: \"0\"\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.data.code == 200) {} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.data.message,\r\n\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tcountDownTime() {\t//倒计时开始\r\n\t\t\t\tthis.countdown.count = 60\r\n\t\t\t\tthis.countdown.inter = setInterval(() => {\r\n\t\t\t\t\tthis.countdown.count--;\r\n\t\t\t\t\tif (!this.countdown.count) {\r\n\t\t\t\t\t\tclearInterval(this.countdown.inter)\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 1000)\r\n\t\t\t},\r\n\t\t\taccountLogin() { //密码登录\r\n\t\t\t\tif (!this.account.loginName) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请输入账号或手机号',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!this.account.password) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: \"请输入密码\",\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tmemberApi.accountLogin({\r\n\t\t\t\t\tloginName: this.account.loginName,\r\n\t\t\t\t\tpassword: this.account.password,\r\n\t\t\t\t\tinviteCode:uni.getStorageSync(\"routerShareNumber\")?uni.getStorageSync(\"routerShareNumber\"):\"\",\t//分享者的id   \r\n\t\t\t\t\tinviteType:\"\"\t//分享类型\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.data.code == 200) {\r\n\t\t\t\t\t\tthis.zhuge.identify(res.data.data.telephone)\r\n\t\t\t\t\t\tthis.loginStore(res.data.data)\r\n\t\t\t\t\t\tthis.judgeLoginType(res)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.data.message,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\twechatH5Login(code){\t//微信登陆 h5\r\n\t\t\t\tmemberApi.wechatH5Login(code).then(res=>{\r\n\t\t\t\t\tif(res.data.code==200){\r\n\t\t\t\t\t\tthis.loginStore(res.data.data)\r\n\t\t\t\t\t\tthis.judgeLoginType(res)\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:res.data.message,\r\n\t\t\t\t\t\t\ticon:\"none\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tjudgeLoginType(res){\t//登录后类型判断\r\n\t\t\t\tif (!res.data.data.hasBindTel) {\r\n\t\t\t\t\tthis.$Router.push({\r\n\t\t\t\t\t\tpath: \"/pages/phoneCheck/index\",\r\n\t\t\t\t\t\tquery: {\r\n\t\t\t\t\t\t\tloginName: res.data.data.userName,\r\n\t\t\t\t\t\t\toperateCode: res.data.data.bindTelCode,\r\n\t\t\t\t\t\t\tisLogin: true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (res.data.data.needResetPwd) {\r\n\t\t\t\t\t\tthis.$Router.push({\r\n\t\t\t\t\t\t\tpath: \"/pages/modifyPwdForLogin/index\",\r\n\t\t\t\t\t\t\tquery: {\r\n\t\t\t\t\t\t\t\tloginName: res.data.data.userName,\r\n\t\t\t\t\t\t\t\ttelephone: res.data.data.telephone,\r\n\t\t\t\t\t\t\t\tresetPwdCode: res.data.data.resetPwdCode,\r\n\t\t\t\t\t\t\t\tisLogin: true\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else if (res.data.data.needVerifyTel) {\r\n\t\t\t\t\t\tthis.$Router.push({\r\n\t\t\t\t\t\t\tpath: \"/pages/modifyPwdForLogin/index\",\r\n\t\t\t\t\t\t\tquery: {\r\n\t\t\t\t\t\t\t\tloginName: res.data.data.userName,\r\n\t\t\t\t\t\t\t\ttelephone: res.data.data.telephone,\r\n\t\t\t\t\t\t\t\tresetPwdCode: res.data.data.resetPwdCode,\r\n\t\t\t\t\t\t\t\tverifyTel: true,\r\n\t\t\t\t\t\t\t\tisLogin: true\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: \"登录成功\",\r\n\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthis.goBack(1)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tquickLogin() { //快捷登录\r\n\t\t\t\tif (!(/^\\d{11}$/.test(this.quick.telephone))) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: \"请输入正确的手机号\",\r\n\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!(/^\\d{6}$/.test(this.quick.captcha))) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: \"验证码输入有误\",\r\n\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\n\t\t\t\tconsole.log(11111111)\n\t\t\t\tconsole.log(uni.getStorageSync(\"routerShareNumber\"))\r\n\t\t\t\tmemberApi.quickLogin({\r\n\t\t\t\t\ttelephone: this.quick.telephone,\r\n\t\t\t\t\tcaptcha: this.quick.captcha,\r\n\t\t\t\t\tinviteCode:uni.getStorageSync(\"routerShareNumber\")?uni.getStorageSync(\"routerShareNumber\"):\"\",\r\n\t\t\t\t\tinviteType:uni.getStorageSync(\"routerShareNumber\")?1:\"\"\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.data.code == 200) {\r\n\t\t\t\t\t\tthis.zhuge.identify(this.quick.telephone)\r\n\t\t\t\t\t\tthis.loginStore(res.data.data)\r\n\t\t\t\t\t\tif (!res.data.data.hasSetPwd) {\r\n\t\t\t\t\t\t\tthis.$Router.push({\r\n\t\t\t\t\t\t\t\tpath: \"/pages/registerSetPassword/index\",\r\n\t\t\t\t\t\t\t\tquery: {\r\n\t\t\t\t\t\t\t\t\ttelephone: this.quick.telephone,\r\n\t\t\t\t\t\t\t\t\toperateCode: res.data.data.setPwdCode\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (res.data.data.needResetPwd) {\r\n\t\t\t\t\t\t\t\tthis.$Router.push({\r\n\t\t\t\t\t\t\t\t\tpath: \"/pages/modifyPwdForLogin/index\",\r\n\t\t\t\t\t\t\t\t\tquery: {\r\n\t\t\t\t\t\t\t\t\t\tloginName: res.data.data.userName,\r\n\t\t\t\t\t\t\t\t\t\ttelephone: res.data.data.telephone,\r\n\t\t\t\t\t\t\t\t\t\tresetPwdCode: res.data.data.resetPwdCode,\r\n\t\t\t\t\t\t\t\t\t\tisLogin: true\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: \"登录成功\",\r\n\t\t\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tthis.goBack(1)\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.data.message,\r\n\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\totherLogin(){\t//其它方式登录\r\n\t\t\t\t//#ifdef MP-WEIXIN\r\n\t\t\t\t\tthis.$Router.push({\r\n\t\t\t\t\t\tpath:\"/pages/authorization/index\",\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t//#endif\r\n\t\t\t\t/*公众号*/\r\n\t\t\t\tthis.h5UniLogin();\r\n\t\t\t},\r\n\t\t\tgetUserInfo(res){\r\n\t\t\t\tuni.login({\r\n\t\t\t\t\tsuccess:(data)=>{\r\n\t\t\t\t\t\tlet params = {\r\n\t\t\t\t\t\t\tencryptedData:res.encryptedData,\r\n\t\t\t\t\t\t\tiv:res.iv,\r\n\t\t\t\t\t\t\tcode:data.code,\r\n\t\t\t\t\t\t\ttelephone:uni.getStorageSync(\"userInfoTelphone\"),\r\n\t\t\t\t\t\t\tinviteCode:uni.getStorageSync(\"routerShareNumber\")?uni.getStorageSync(\"routerShareNumber\"):\"\",\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.wechatMiniAuth(params)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\th5UniLogin() {\r\n\t\t\t\twechatApi.wxPubAppId().then(res=>{\r\n\t\t\t\t\tif(res.data.code==200){\r\n\t\t\t\t\t\tlet urls = 'https://' + location.host + location.pathname;\r\n\t\t\t\t\t\tlocation.href = ('https://open.weixin.qq.com/connect/oauth2/authorize?appid='+res.data.data+'&redirect_uri=' + encodeURIComponent(urls) + '&response_type=code&scope=snsapi_userinfo');\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:res.data.message,\r\n\t\t\t\t\t\t\ticon:\"none\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\twechatMiniAuth(params){\r\n\t\t\t\tmemberApi.wechatMiniAuth(params).then(res=>{\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\tif(res.data.code==200){\r\n\t\t\t\t\t\tthis.zhuge.identify(res.data.data.telephone)\r\n\t\t\t\t\t\tthis.loginStore(res.data.data)\r\n\t\t\t\t\t\tthis.judgeLoginType(res)\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tif(this.retry>3){\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle:res.data.message,\r\n\t\t\t\t\t\t\t\ticon:\"none\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.retry++\r\n\t\t\t\t\t\tthis.getUserInfo(params)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetSetting(){\r\n\t\t\t\tlet _this= this\r\n\t\t\t\tuni.getSetting({\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tif(!res.authSetting['scope.userInfo']){\r\n\t\t\t\t\t\t\t_this.authorizeFlag = false\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t_this.authorizeFlag = true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgoToForgetPwd(){\t//忘记支付密码\r\n\t\t\t\tthis.$Router.push({path:'/pages/forgetPassword/index'})\r\n\t\t\t},\r\n\t\t\topenPopup(){\t//打开会员服务协议\r\n\t\t\t\tthis.$refs.agreementPopup.openPopup()\r\n\t\t\t},\r\n\t\t\tloginStore(params){\t//登陆后存值\r\n\t\t\t\tuni.setStorageSync(\"sessionId\", params.sessionId);\r\n\t\t\t\tuni.setStorageSync(\"shareNumber\",params.shareNumber)\r\n\t\t\t\tuni.setStorageSync(\"userInfo\", JSON.stringify(params))\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(option) {\r\n\t\t\tif(option.code && !uni.getStorageSync(\"hasCode\")){\r\n\t\t\t\tuni.setStorageSync(\"hasCode\",true)\r\n\t\t\t\tthis.wechatH5Login(option.code)\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.telephone = uni.getStorageSync(\"userInfoTelphone\")\r\n\t\t\tthis.zhuge.track(\"登录页面\")\r\n\t\t\t/*微信小程序*/\r\n\t\t\t//#ifdef MP-WEIXIN\r\n\t\t\t\tthis.getSetting()\r\n\t\t\t\tthis.fmagentInit()\r\n\t\t\t//#endif\t\t\r\n\t\t},\r\n\t\tcomponents:{\r\n\t\t\tagreementPopup,\r\n\t\t\twxLogin\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.closeBtn {\r\n\t\twidth: 88rpx;\r\n\t\theight: 88rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.closeBtn image {\r\n\t\twidth: 44rpx;\r\n\t\theight: 44rpx;\r\n\t}\r\n\r\n\t.loginType {\r\n\t\tpadding: 0 65rpx;\r\n\t\tpadding-top: 40rpx;\r\n\t\t/* #ifndef MP-WEIXIN */\r\n\t\tpadding-top: 24rpx;\r\n\t\t/* #endif */\r\n\t\theight: 80rpx;\r\n\t}\r\n\r\n\t.loginType text {\r\n\t\tpadding-bottom: 24rpx;\r\n\t\tmargin-right: 40rpx;\r\n\t\tcolor: #333;\r\n\t\tfont-size: 32rpx;\r\n\t\ttransition: font .15s;\r\n\t}\r\n\r\n\t.loginType text.active {\r\n\t\tfont-weight: 700;\r\n\t\tfont-size: 60rpx;\r\n\t\tcolor: #000;\r\n\t\tline-height: 70rpx;\r\n\t}\r\n\r\n\t.loginFrom {\r\n\t\twidth: 100%;\r\n\t\tpadding: 0 65rpx;\r\n\t\tpadding-top: 40rpx;\r\n\t}\r\n\r\n\t.quickInput {\r\n\t\twidth: 100%;\r\n\t\theight: 90rpx;\r\n\t\tmargin: 22rpx 0;\r\n\t\tborder-bottom: 1px solid #E6E6E6;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.quickInput input {\r\n\t\theight: 100%;\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.quickInput .passWord {\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 460rpx;\r\n\t\theight: 90rpx;\r\n\t\tpadding-right: 40rpx;\r\n\t\tborder: none;\r\n\t\tlist-style: none;\r\n\t\tbackground: none;\r\n\t\toutline: none;\r\n\t}\r\n\r\n\t.getCode {\r\n\t\tcolor: rgb(51, 51, 51);\r\n\t\twidth: 175rpx;\r\n\t\tfont-size: 30rpx;\r\n\t\ttext-align: right;\r\n\t}\r\n\r\n\t.countDown {\r\n\t\tfont-size: 28rpx;\r\n\t\twidth: 226rpx;\r\n\t}\r\n\r\n\t.getCode image {\r\n\t\twidth: 40rpx;\r\n\t\tvertical-align: middle;\r\n\t\theight: 40rpx;\r\n\t\tmargin-right: 10rpx;\r\n\t}\r\n\r\n\t.loginBtn {\r\n\t\tmargin: 120rpx auto 0;\r\n\t\ttext-align: center;\r\n\t\tline-height: 88rpx;\r\n\t\theight: 88rpx;\r\n\t\tborder-radius: 70rpx;\r\n\t\tbackground: linear-gradient(201deg, #FF3E71 0%, #D72044 99%, #D72044 100%);\r\n\t\tbox-shadow: 0px 10px 30px rgba(252, 1, 78, 0.3);\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 36rpx;\r\n\t\twidth: calc(100% - 130rpx);\r\n\t\ttext-align: center;\r\n\t}\r\n\t.loginBtn text{\r\n\t\tcolor: #FFFFFF;\r\n\t\topacity: 0.6;\r\n\t}\r\n\t.otherLoginBtn{\r\n\t\ttext-align: center;\r\n\t\tmargin-top: 98rpx;\r\n\t\tposition: relative;\r\n\t}\r\n\t.otherLoginBtn image{\r\n\t\twidth: 50rpx;\r\n\t\theight: 50rpx;\r\n\t}\r\n\t.otherLoginBtn view{\r\n\t\ttext-align: center;\r\n\t\tcolor: #999999;\r\n\t\tmargin-top: 10rpx;\r\n\t\tfont-size: 24rpx;\r\n\t}\r\n\t.otherLogin{\r\n\t\twidth: calc(100% - 48rpx);\r\n\t\tmargin: 0 auto;\r\n\t\theight: 33rpx;\r\n\t\ttext-align: center;\r\n\t\tmargin-top: 170rpx;\r\n\t\tposition: relative;\r\n\t}\r\n\t.otherLoginLine{\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tbottom: 0;\r\n\t\twidth: calc(100% - 120rpx);\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tmargin: auto;\r\n\t\theight: 1rpx;\r\n\t\tbackground-color: #E4E4E4;\r\n\t}\r\n\t.otherLoginText{\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tmargin: auto;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\twidth: 200rpx;\r\n\t\tcolor:#999999;\r\n\t}\r\n\t.loginAgreement{\r\n\t\tmargin-top: 100rpx;\r\n\t\ttext-align: center;\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #999999;\r\n\t}\r\n\t.loginAgreement text{\r\n\t\tcolor: #FF1558;\r\n\t}\r\n\t.forgeBtn{\r\n\t\tdisplay: inline-block;\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1639368368471\n      var cssReload = require(\"/Users/guojunqiang/Documents/project-bf/new-mall-mobile/node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}
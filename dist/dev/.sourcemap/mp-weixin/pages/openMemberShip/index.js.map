{"version":3,"sources":["uni-app:///src/main.js","webpack:///./src/pages/openMemberShip/index.vue?31c6","webpack:///./src/pages/openMemberShip/index.vue?31a7","webpack:///./src/pages/openMemberShip/index.vue?f3ba","webpack:///./src/pages/openMemberShip/index.vue?3228","uni-app:///src/pages/openMemberShip/index.vue","webpack:///./src/pages/openMemberShip/index.vue?db94","webpack:///./src/pages/openMemberShip/index.vue?a74b"],"names":["createPage","Page"],"mappings":"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","file":"pages/openMemberShip/index.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/openMemberShip/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=1075aa5c&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=1075aa5c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1075aa5c\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/openMemberShip/index.vue\"\nexport default component.exports","export * from \"-!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--14-0!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=1075aa5c&scoped=true&\"","var components = {\n  uniPopup: function() {\n    return import(\n      /* webpackChunkName: \"components/uni-popup/uni-popup\" */ \"@/components/uni-popup/uni-popup.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.userInfo.smallIcon.indexOf(\"http\")\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"page commonPageTitle\">\r\n\t\t<!-- #ifndef MP-WEIXIN -->\r\n\t\t<view class=\"collectTitle\">\r\n\t\t\t<view class=\"goBackBtn\" @click=\"backHref\"></view>\r\n\t\t\t<view class=\"title\">\r\n\t\t\t\t{{isEnterprise?'企业':'VIP'}}会员\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- #endif  -->\r\n\t\t<view class=\"infoBox\">\r\n\t\t\t<view class=\"userInfo\">\r\n\t\t\t\t<view v-if=\"userInfo.smallIcon && userInfo.smallIcon.indexOf('http')!='-1'\" :style=\"{backgroundImage:'url('+userInfo.smallIcon+')'}\" class=\"userInfoTitleImage\"></view>\r\n\t\t\t\t<view v-else-if=\"userInfo.smallIcon\" :style=\"{backgroundImage:'url('+imgBaseUrls+userInfo.smallIcon+')'}\" class=\"userInfoTitleImage\"></view>\r\n\t\t\t\t<view v-else class=\"userInfoTitleImage\" :style=\"{backgroundImage:'url(http://beifa-mall.oss-cn-shanghai.aliyuncs.com/appletsImages/default_phone.png)'}\"></view>\r\n\t\t\t\t<view class=\"userInfoText\">\r\n\t\t\t\t\t<view class=\"userName\">\r\n\t\t\t\t\t\t{{userInfo.nickName?userInfo.nickName:userInfo.userName}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"priceBox\">\r\n\t\t\t\t<text>年费</text>\r\n\t\t\t\t<text v-if=\"plusInfo.mokaConfigDTO\">￥{{plusInfo.mokaConfigDTO.plusPrice}}</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"membrGiftTitle\">\r\n\t\t\t{{isEnterprise?'企业':'VIP'}}会员{{plusInfo.privilegeUnitDTOList?plusInfo.privilegeUnitDTOList.length:0}}大权益\r\n\t\t</view>\r\n\t\t<view class=\"memberIncome\">\r\n\t\t\t<memberRights v-if=\"plusInfo.privilegeUnitDTOList\" :privilegeUnitDTOList='plusInfo.privilegeUnitDTOList' color=\"#000\"></memberRights>\r\n\t\t</view>\r\n\t\t<enterpriseInfo v-if='isEnterprise' :enterpriseInfo='enterpriseInfo' :selectAddressParams='selectAddressParams' @addressChange='addressChange' @enterpriseInfoChange='enterpriseInfoChange'></enterpriseInfo>\r\n\t\t<view class=\"invitationCode\">\r\n\t\t\t<text>邀请码</text>\r\n\t\t\t<input type=\"text\" v-model=\"shareCode\" placeholder=\"请输入邀请码\" placeholder-style=\"color:#ccc\" maxlength=\"7\" />\r\n\t\t</view>\r\n\t\t<view class=\"memberHint\">\r\n\t\t\t<view>\r\n\t\t\t\t<text class=\"hint\"></text>\r\n\t\t\t\t购买即视为同意<text @click='openPopup'>文器库商城会员服务协议</text>\r\n\t\t\t</view>\r\n\t\t\t<view>\r\n\t\t\t\t<text class=\"hint\"></text>\r\n\t\t\t\t会员一经开通不支持退款/取消，敬请谅解\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"buyNow fixedPosition\">\r\n\t\t\t<view class=\"buyNowBtn\" :class=\"isEnterprise?'active':''\" v-if=\"plusInfo.mokaConfigDTO\" @click=\"getShareInfo\">\r\n\t\t\t\t立即支付￥{{plusInfo.mokaConfigDTO.plusPrice}}\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<uni-popup ref=\"memberPopup\" type=\"center\">\r\n\t\t\t<defaultPopup @cancel='closeMemberPopup' @sure='createMemberOrder'>\r\n\t\t\t\t<view class=\"shareBox\">\r\n\t\t\t\t\t<view class=\"shareTitle\">\r\n\t\t\t\t\t\t邀请人\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"shareInfo\">\r\n\t\t\t\t\t\t<text class=\"share\">邀请人昵称</text>\r\n\t\t\t\t\t\t<text>{{invitationUserInfo.name}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"shareInfo\">\r\n\t\t\t\t\t\t<text class=\"share\">邀请人手机号</text>\r\n\t\t\t\t\t\t<text>{{invitationUserInfo.mobile}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</defaultPopup>\r\n\t\t</uni-popup>\r\n\t\t<agreementPopup ref='agreementPopup' :enterprise='isEnterprise'></agreementPopup>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport memberApi from '@/api/member/index.js'\r\n\timport memberConfig from '@/common/js/memberConfig.js'\r\n\timport defaultPopup from '@/components/defaultPopup/index.vue'\r\n\timport agreementPopup from './agreementPopup.vue'\r\n\timport enterpriseInfo from './enterpriseInfo.vue'\r\n\timport memberRights from '@/common/model/memberRights.vue'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tplusInfo: { //会员权益  金额信息\r\n\r\n\t\t\t\t},\r\n\t\t\t\tuserInfo:{\t//用户信息\r\n\t\t\t\t\t\r\n\t\t\t\t},\r\n\t\t\t\tshareCode: \"\", //邀请码\r\n\t\t\t\tinvitationUserInfo: { //邀请人信息\r\n\r\n\t\t\t\t},\r\n\t\t\t\tselectAddressParams:{\t//地址选择数据\r\n\t\t\t\t\t\r\n\t\t\t\t},\r\n\t\t\t\tenterpriseInfo:{\t//公司信息\r\n\t\t\t\t\tlicenseInfo:\"\",\r\n\t\t\t\t},\r\n\t\t\t\timgBaseUrls:\"\",\r\n\t\t\t\tisEnterprise:false\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetPlusUnitInfo() { //获取vip会员权益/金额\r\n\t\t\t\tmemberApi.getPlusUnitInfo({id: memberConfig.mokaStatus}).then(res => {\r\n\t\t\t\t\tif (res.data.code == 200) {\r\n\t\t\t\t\t\tthis.plusInfo = res.data.data\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.data.message,\r\n\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetEnterprise(){\t//获取企业会员权益/金额\r\n\t\t\t\tmemberApi.getEnterprise(memberConfig.enterpriseMember).then(res=>{\r\n\t\t\t\t\tif(res.data.code==200){\r\n\t\t\t\t\t\tthis.plusInfo = res.data.data\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.data.message,\r\n\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\taddressChange(params){\t//企业会员地址更换时触发\r\n\t\t\t\tthis.selectAddressParams = params\r\n\t\t\t},\r\n\t\t\tenterpriseInfoChange(params){\t//企业会员信息变更时触发\r\n\t\t\t\tthis.enterpriseInfo = params\r\n\t\t\t},\r\n\t\t\tgetShareInfo() { //会员权益邀请人信息\r\n\t\t\t\tif(!this.shareCode){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:\"请填写邀请码\",\r\n\t\t\t\t\t\ticon:\"none\"\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif(this.$Route.query.enterprise){\t//企业会员\r\n\t\t\t\t\tif(!this.enterpriseInfo.companyName){\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:\"请填写公司昵称\",\r\n\t\t\t\t\t\t\ticon:\"none\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(!this.selectAddressParams.provinceId){\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:\"请选择经营地址\",\r\n\t\t\t\t\t\t\ticon:\"none\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(!this.enterpriseInfo.licenseInfo){\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:\"请填写营业执照\",\r\n\t\t\t\t\t\t\ticon:\"none\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.getInviterBaseInfoByCode()\r\n\t\t\t\t}else{//个人会员\r\n\t\t\t\t\tthis.getInviterBaseInfoByCode()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetInviterBaseInfoByCode(){\t//获取个人会员邀请人信息\r\n\t\t\t\tmemberApi.getInviterBaseInfoByCode(this.shareCode).then(res => {\r\n\t\t\t\t\tif (res.data.code == 200) {\r\n\t\t\t\t\t\tthis.invitationUserInfo = res.data.data\r\n\t\t\t\t\t\tthis.$refs.memberPopup.open();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.data.message,\r\n\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tcloseMemberPopup() { //关闭会员弹窗\r\n\t\t\t\tthis.$refs.memberPopup.close()\r\n\t\t\t},\r\n\t\t\topenPopup(){\t//打开会员服务协议\r\n\t\t\t\tthis.$refs.agreementPopup.openPopup()\r\n\t\t\t},\r\n\t\t\tcreateMemberOrder(){\r\n\t\t\t\tif(this.$Route.query.enterprise){\t//企业会员\r\n\t\t\t\t\tthis.createEnterprise()\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.plusCreateOrder()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcreateEnterprise(){\t//创建企业会员订单\r\n\t\t\t\tlet params = JSON.parse(JSON.stringify(this.enterpriseInfo));\r\n\t\t\t\tparams.inviteCode = this.shareCode;\r\n\t\t\t\tparams.inviterType = this.invitationUserInfo.inviteType;\r\n\t\t\t\tparams.totalFee = this.plusInfo.mokaConfigDTO.plusPrice;\r\n\t\t\t\tparams.inviterId = this.invitationUserInfo.inviteId;\r\n\t\t\t\tparams.districtId = this.selectAddressParams.townId?this.selectAddressParams.townId:this.selectAddressParams.districtId\r\n\t\t\t\tmemberApi.createEnterprise(params).then(res=>{\r\n\t\t\t\t\tif(res.data.code==200){\r\n\t\t\t\t\t\tthis.$refs.memberPopup.close();\r\n\t\t\t\t\t\tthis.$Router.replace({\r\n\t\t\t\t\t\t\tpath:\"/pages/memberPay/index\",\r\n\t\t\t\t\t\t\tquery:{\r\n\t\t\t\t\t\t\t\torderPayId:res.data.data.orderId,\r\n\t\t\t\t\t\t\t\tpayPrice:this.plusInfo.mokaConfigDTO.plusPrice,\r\n\t\t\t\t\t\t\t\tgoodsId:this.$Route.query.goodsId?this.$Route.query.goodsId:\"\",\r\n\t\t\t\t\t\t\t\tenterprise:true\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.data.message,\r\n\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tplusCreateOrder(){\t//创建个人会员订单\r\n\t\t\t\tmemberApi.plusCreateOrder({shareCode:this.shareCode,orderTotal:this.plusInfo.mokaConfigDTO.plusPrice,shareType:this.invitationUserInfo.inviteType,mokaId:memberConfig.mokaStatus,shareId:this.invitationUserInfo.inviteId}).then(res=>{\r\n\t\t\t\t\tif(res.data.code==200){\r\n\t\t\t\t\t\tthis.$refs.memberPopup.close();\r\n\t\t\t\t\t\tthis.$Router.replace({\r\n\t\t\t\t\t\t\tpath:\"/pages/memberPay/index\",\r\n\t\t\t\t\t\t\tquery:{\r\n\t\t\t\t\t\t\t\torderPayId:res.data.data.id,\r\n\t\t\t\t\t\t\t\tpayPrice:res.data.data.payAmount,\r\n\t\t\t\t\t\t\t\tgoodsId:this.$Route.query.goodsId?this.$Route.query.goodsId:\"\"\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:res.data.message,\r\n\t\t\t\t\t\t\ticon:\"none\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tenterpriseInfoStatus(){\t//企业会员信息\r\n\t\t\t\tmemberApi.enterpriseInfo().then(res=>{\r\n\t\t\t\t\tif(res.data.code==200){\r\n\t\t\t\t\t\tif(res.data.data.auditStatus==0){\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle:\"您的会员正在审核中\",\r\n\t\t\t\t\t\t\t\ticon:\"none\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tthis.backHref()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.data.message,\r\n\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tbackHref(){\r\n\t\t\t\tif(getCurrentPages().length>1){\r\n\t\t\t\t\tthis.goBack(1)\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.$Router.replace({path:'/pages/memberGiftBag/index'})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\t// 地址栏参数  为真为企业会员 否则为个人会员\r\n\t\t\tthis.imgBaseUrls = this.$config.imgBaseUrl;\r\n\t\t\tthis.userInfo = uni.getStorageSync(\"userInfo\")?JSON.parse(uni.getStorageSync(\"userInfo\")):\"\";\r\n\t\t\tif(uni.getStorageSync(\"sessionId\")){\r\n\t\t\t\tif(this.userInfo.plusFlag){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:\"您已经是会员\",\r\n\t\t\t\t\t\ticon:\"none\"\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.backHref()\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.enterpriseInfoStatus()\r\n\t\t\t\t}\r\n\t\t\t\tif(this.$Route.query.enterprise){\r\n\t\t\t\t\tthis.getEnterprise()\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.getPlusUnitInfo();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(query) {\t//扫码进入该页面后获取分享码\r\n\t\t\ttry{\r\n\t\t\t\tif(query && query.scene){\r\n\t\t\t\t\tthis.$Router.replace({\r\n\t\t\t\t\t\tpath:\"/pages/openMemberShip/index\",\r\n\t\t\t\t\t\tquery:{\r\n\t\t\t\t\t\t\tshareNumber:decodeURIComponent(query.scene).split(\",\")[0],\r\n\t\t\t\t\t\t\tenterprise:decodeURIComponent(query.scene).split(\",\")[1]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t}catch(err){\r\n\t\t\t\tuni.switchTab({\r\n\t\t\t\t\turl:\"/pages/index/index\"\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tthis.isEnterprise = this.$Route.query.enterprise?true:false;\r\n\t\t\tlet title = this.isEnterprise?\"企业会员\":\"VIP会员\";\r\n\t\t\tuni.setNavigationBarTitle({\r\n\t\t\t\ttitle:title\r\n\t\t\t})\r\n\t\t\tthis.zhuge.track(title+\"-落地页\")\r\n\t\t\tif(this.$Route.query.shareNumber){\r\n\t\t\t\tthis.shareCode = this.$Route.query.shareNumber\r\n\t\t\t\tuni.setStorageSync(\"shareNumber\",this.$Route.query.shareNumber)\r\n\t\t\t}\r\n\t\t\ttry{\r\n\t\t\t\tif(uni.getStorageSync(\"shareNumber\")){\r\n\t\t\t\t\tthis.shareCode  = uni.getStorageSync(\"shareNumber\")\r\n\t\t\t\t}\r\n\t\t\t}catch(e){\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tif(!uni.getStorageSync(\"sessionId\")){\r\n\t\t\t\tthis.$Router.push({\r\n\t\t\t\t\tpath:\"/pages/login/index\"\r\n\t\t\t\t})\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents:{\r\n\t\t\tagreementPopup,\r\n\t\t\tdefaultPopup,\r\n\t\t\tenterpriseInfo,\r\n\t\t\tmemberRights\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.commonPageTitle {\r\n\t\tbackground-color: #F5F5F5;\r\n\t\t/* #ifndef MP-WEIXIN */\r\n\t\tpadding-top: 88rpx;\r\n\t\t/* #endif */\r\n\t\tmin-height: 100vh;\r\n\t\tpadding-bottom: 120rpx;\r\n\t}\r\n\r\n\t.collectTitle {\r\n\t\tbackground-color: #F5F5F5;\r\n\t}\r\n\t.infoBox {\r\n\t\tpadding: 0 30rpx;\r\n\t}\r\n\r\n\t.userInfo {\r\n\t\twidth: 100%;\r\n\t\theight: 195rpx;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\tborder-radius: 16rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tpadding: 0 20rpx;\r\n\t}\r\n\r\n\t.userInfoText {\r\n\t\tflex: 1;\r\n\t\tmargin-left: 32rpx;\r\n\t}\r\n\t\r\n\t.membrGiftTitle {\r\n\t\twidth: 100%;\r\n\t\tfont-size: 40rpx;\r\n\t\tpadding: 20rpx 30rpx;\r\n\t\tmargin-top: 64rpx;\r\n\t}\r\n\t\r\n\t.userInfoTitleImage{\r\n\t\twidth: 120rpx;\r\n\t\theight: 120rpx;\r\n\t\tborder-radius: 50%;\r\n\t\tbackground-position: 50%;\r\n\t\tbackground-size: cover;\r\n\t\tbackground-repeat: no-repeat;\r\n\t\tz-index: 10;\r\n\t}\r\n\r\n\t.userName {\r\n\t\tfont-size: 36rpx;\r\n\t\tline-height: 48rpx;\r\n\t\theight: 48rpx;\r\n\t\tcolor: #000000;\r\n\t}\r\n\r\n\t.invitees {\r\n\t\tline-height: 37rpx;\r\n\t\tcolor: #333333;\r\n\t}\r\n\r\n\t.priceBox {\r\n\t\twidth: 100%;\r\n\t\theight: 160rpx;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\tborder: 4rpx solid #E4E4E4;\r\n\t\tborder-radius: 16rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tmargin-top: 16rpx;\r\n\t\tpadding: 0 36rpx;\r\n\t}\r\n\r\n\t.invitationCode {\r\n\t\twidth:calc(100% - 60rpx);\r\n\t\theight: 98rpx;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\tborder-radius: 16rpx;\r\n\t\tline-height: 98rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tpadding: 0 20rpx;\r\n\t\tmargin: 0 auto;\r\n\t\tmargin-top: 16rpx;\r\n\t}\r\n\r\n\t.invitationCode input {\r\n\t\tflex: 1;\r\n\t\tmargin-left: 24rpx;\r\n\t}\r\n\r\n\t.memberIncome{\r\n\t\twidth: calc(100% - 60rpx);\r\n\t\tbackground-color: #FFFFFF;\r\n\t\tmargin: 0 auto;\r\n\t\tborder-radius: 8rpx;\r\n\t\tpadding: 40rpx 0;\r\n\t}\r\n\t\r\n\t.buyNow {\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\theight: calc(100rpx + constant(safe-area-inset-bottom));\r\n\t\theight: calc(100rpx + env(safe-area-inset-bottom));\r\n\t\tbackground-color: #FFFFFF;\r\n\t\twidth: 100%;\r\n\t\tpadding: 0 30rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tz-index: 1;\r\n\t}\r\n\r\n\t.buyNowBtn {\r\n\t\twidth: 100%;\r\n\t\theight: 78rpx;\r\n\t\tbackground-color: #fdc900;\r\n\t\tcolor: #000000;\r\n\t\tborder-radius: 52rpx;\r\n\t\tfont-size: 30rpx;\r\n\t\ttext-align: center;\r\n\t\tline-height: 78rpx;\r\n\t}\r\n\t\r\n\t.buyNowBtn.active{\r\n\t\tbackground: linear-gradient(90deg, #F1BD9B 0%, #F8D8CA 100%);\r\n\t}\r\n\r\n\t.shareBox {\r\n\t\tpadding-top: 40rpx;\r\n\t}\r\n\t\r\n\t.shareTitle{\r\n\t\twidth: 100%;\r\n\t\ttext-align: center;\r\n\t\tline-height: 48rpx;\r\n\t\tcolor: #000000;\r\n\t\tfont-size: 36rpx;\r\n\t}\r\n\t.shareInfo{\r\n\t\tmargin-top: 20rpx;\r\n\t\tpadding-left: 30rpx;\r\n\t}\r\n\t.shareInfo .share{\r\n\t\tcolor: #888888;\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 200rpx;\r\n\t}\r\n\t.memberHint{\r\n\t\tmargin: 36rpx auto;\r\n\t\twidth: calc(100% - 60rpx);\r\n\t}\r\n\t.memberHint view{\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tmargin-bottom: 18rpx;\r\n\t\tcolor: #999999;\r\n\t}\r\n\t.memberHint view text{\r\n\t\tcolor: #F19E4B;\r\n\t\tmargin-left: 10rpx;\r\n\t}\r\n\t.memberHint view .hint{\r\n\t\tmargin-left: 0;\r\n\t\tmargin-right: 20rpx;\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 12rpx;\r\n\t\theight: 12rpx;\r\n\t\tborder-radius: 50%;\r\n\t\tbackground-color: #FCC38B;\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=1075aa5c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=1075aa5c&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1627870584817\n      var cssReload = require(\"/Users/guojunqiang/Documents/project-bf/new-mall-mobile/node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}
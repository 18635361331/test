{"version":3,"sources":["uni-app:///src/main.js","webpack:///./src/pages/createAddress/index.vue?2eea","webpack:///./src/pages/createAddress/index.vue?26d2","webpack:///./src/pages/createAddress/index.vue?3f64","webpack:///./src/pages/createAddress/index.vue?024e","uni-app:///src/pages/createAddress/index.vue","webpack:///./src/pages/createAddress/index.vue?ebc3","webpack:///./src/pages/createAddress/index.vue?1495"],"names":["createPage","Page"],"mappings":";;;;;;;;;;;;AAAA;;AACA;;AACA;;;;AACAA,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AACqC;;;AAGzF;AACmI;AACnI,gBAAgB,gJAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,WAAW,qPAEN;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACdA;AAAA;AAAA;AAAA;AAAkc,CAAgB,8dAAG,EAAC,C;;;;;;;;;;;;;;;;;;;AC6Ctd;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAEA;AACA,MADA,kBACA;AACA;AACA,gBADA;AAIA;AACA,qBADA;AAEA;AAFA;AAJA;AASA,GAXA;AAYA,QAZA,oBAYA;AACA;AACA;AACA;AADA;AAGA;;AACA;AACA;AACA;AACA,GArBA;AAsBA;AACA,kBADA,4BACA;AAAA;;AAAA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA,mCADA;AAEA;AAFA;AAIA;AACA,OATA;AAUA,KAZA;AAaA,eAbA,yBAaA;AAAA;AACA;AACA;AACA,sBADA;AAEA;AAFA;AAIA;AACA;;AACA;AACA;AACA,sBADA;AAEA;AAFA;AAIA;AACA;;AACA;AACA;AACA,sBADA;AAEA;AAFA;AAIA;AACA;;AACA;AACA;AACA,sBADA;AAEA;AAFA;AAIA;AACA;;AACA;AACA;AACA,sBADA;AAEA;AAFA;AAIA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KA3DA;AA4DA,iBA5DA,2BA4DA;AAAA;;AAAA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA,wBADA;AAEA;AAFA;AAIA;AACA,OATA;AAUA,KAvEA;AAwEA,iBAxEA,2BAwEA;AAAA;;AAAA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA,mCADA;AAEA;AAFA;AAIA;AACA,OATA;AAUA,KAnFA;AAoFA,mBApFA,2BAoFA,GApFA,EAoFA;AAAA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA,KA5FA;AA6FA,gBA7FA,wBA6FA,CA7FA,EA6FA;AAAA;AACA;AACA,KA/FA;AAgGA,eAhGA,yBAgGA;AAAA;AACA;AACA,KAlGA;AAmGA,iBAnGA,2BAmGA;AAAA;AACA;AACA,KArGA;AAsGA,iBAtGA,yBAsGA,IAtGA,EAsGA;AAAA;AACA;AACA;AACA;;AACA;AACA;AA3GA,GAtBA;AAmIA;AACA;AADA;AAnIA,C;;;;;;;;;;;;;;AC/CA;AAAA;AAAA;AAAA;AAAyuB,CAAgB,2uBAAG,EAAC,C;;;;;;;;;;;ACA7vB;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/createAddress/index.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/createAddress/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=0cf7b6f2&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=0cf7b6f2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0cf7b6f2\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/createAddress/index.vue\"\nexport default component.exports","export * from \"-!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--14-0!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=0cf7b6f2&scoped=true&\"","var components = {\n  uniPopup: function() {\n    return import(\n      /* webpackChunkName: \"components/uni-popup/uni-popup\" */ \"@/components/uni-popup/uni-popup.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"page address\">\r\n\t\t<defaultTitle :dto=\"defaultTitleDto\"></defaultTitle>\r\n\r\n\t\t<view class=\"createAddress\">\r\n\t\t\t<view class=\"everyBox\">\r\n\t\t\t\t<text>收货人：</text>\r\n\t\t\t\t<input class=\"whereAddress\" type=\"text\" v-model=\"params.name\" />\r\n\t\t\t</view>\r\n\t\t\t<view class=\"everyBox\">\r\n\t\t\t\t<text>联系方式：</text>\r\n\t\t\t\t<input class=\"whereAddress\" type=\"text\" v-model=\"params.telephone\" />\r\n\t\t\t</view>\r\n\t\t\t<view class=\"everyBox\" @click=\"openAddress\">\r\n\t\t\t\t<text>所在地区：</text>\r\n\t\t\t\t<text class=\"whereAddress ellipsis-one\" v-if=\"params.provinceName\">{{params.provinceName}}{{params.cityName}}{{params.districtName}}{{params.townName}}</text>\r\n\t\t\t\t<text class=\"whereAddress\" v-else>选择所在区域</text>\r\n\t\t\t\t<view class=\"arrow\"></view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"everyBox\">\r\n\t\t\t\t<text>详细地址：</text>\r\n\t\t\t\t<input class=\"whereAddress detailed\" placeholder=\"请输入详细地址\" placeholderClass=\"placeholder\" type=\"text\" v-model=\"params.address\" />\r\n\t\t\t</view>\r\n\t\t\t<view class=\"everyBox defaultBtn\">\r\n\t\t\t\t<text>设为默认地址</text>\r\n\t\t\t\t <switch color=\"#ff1558\" @change='switchChange' :checked=\"params.isDefault?true:false\" />\r\n\t\t\t</view>\r\n\t\t\t<view class=\"addressHint\">每次下单时会使用该地址</view>\r\n\t\t</view>\r\n\t\t<view class=\"saveAddress\" @click=\"saveAddress\">保存地址</view>\r\n\t\t<uni-popup ref=\"addressPopup\" type=\"bottom\">\r\n\t\t\t<view class=\"addressPopup\">\r\n\t\t\t\t<view class=\"addressPopupTitle\">\r\n\t\t\t\t\t<text>请选择所在地区</text>\r\n\t\t\t\t\t<text class=\"cancel\" @click=\"closeAddPopup\">取消</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"createAddressBox\">\r\n\t\t\t\t\t<selectAddress :defaultAddress='params' @addressChange='addressChange'></selectAddress>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</uni-popup>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport memberApi from '@/api/member/index.js';\r\n\timport selectAddress from '@/common/model/selectAddress.vue'\r\n\texport default{\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\tparams:{\r\n\t\t\t\t\t\r\n\t\t\t\t},\r\n\t\t\t\tdefaultTitleDto:{\r\n\t\t\t\t\ttitle:'收货地址',\r\n\t\t\t\t\tbottomColor:'#E6E6E6'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.zhuge.track(\"创建地址\")\r\n\t\t\tuni.setNavigationBarTitle({\r\n\t\t\t\ttitle:this.$Route.query.id?'编辑收货地址':'新建收货地址'\r\n\t\t\t})\r\n\t\t\tthis.defaultTitleDto.title = this.$Route.query.id?'编辑收货地址':'新建收货地址'\r\n\t\t\tif(this.$Route.query.id){\r\n\t\t\t\tthis.addressDetails()\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\taddressDetails(){\t//获取地址详情\r\n\t\t\t\tmemberApi.addressDetails(this.$Route.query.id).then(res=>{\r\n\t\t\t\t\tif(res.data.code==200){\r\n\t\t\t\t\t\tthis.params = res.data.data\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:res.data.message,\r\n\t\t\t\t\t\t\ticon:\"none\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsaveAddress(){\t//保存地址\r\n\t\t\t\tif(!this.params.name){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon:\"none\",\r\n\t\t\t\t\t\ttitle:\"请填写收货人姓名\"\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(!this.checkTextLength(this.params.name)){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon:\"none\",\r\n\t\t\t\t\t\ttitle:\"收货人姓名长度最多为50位中文，100个字符\"\r\n\t\t\t\t\t})\r\n\t\t\t\t  return;\r\n\t\t\t\t}\r\n\t\t\t\tif(!(/^\\d{11}$/.test(this.params.telephone))){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon:\"none\",\r\n\t\t\t\t\t\ttitle:\"请填写正确的手机号\"\r\n\t\t\t\t\t})\r\n\t\t\t\t  return;\r\n\t\t\t\t}\r\n\t\t\t\tif(!this.params.address){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon:\"none\",\r\n\t\t\t\t\t\ttitle:\"请填写详细收货地址\"\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(this.params.address.length<5||this.params.address.length>100){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon:\"none\",\r\n\t\t\t\t\t\ttitle:\"详细地址信息需填写5-100个字符\"\r\n\t\t\t\t\t})\r\n\t\t\t\t  return;\r\n\t\t\t\t}\r\n\t\t\t\tfor(let i in this.params){\r\n\t\t\t\t\tif(!this.params[i]){\r\n\t\t\t\t\t\tdelete this.params[i]\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(this.$Route.query.id){\r\n\t\t\t\t\tthis.addressUpdate()\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.addressCreate()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\taddressUpdate(){\t//更新地址\r\n\t\t\t\tmemberApi.addressUpdate(this.params).then(res=>{\r\n\t\t\t\t\tif(res.data.code==200){\r\n\t\t\t\t\t\tthis.goBack(1)\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ticon:\"none\",\r\n\t\t\t\t\t\t\ttitle:res.data.message\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\taddressCreate(){\t//创建地址\r\n\t\t\t\tmemberApi.addressCreate(this.params).then(res=>{\r\n\t\t\t\t\tif(res.data.code==200){\r\n\t\t\t\t\t\tthis.goBack(1)\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:res.data.message,\r\n\t\t\t\t\t\t\ticon:\"none\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tcheckTextLength(val) {\t//判断字符长度\r\n\t\t\t\tlet bytes = 0\r\n\t\t\t\tfor (let i = 0; i < val.length; i++, ++bytes) {\r\n\t\t\t\t\tif (val.charCodeAt(i) > 255) {\r\n\t\t\t\t\t\t++bytes\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn bytes\r\n\t\t\t},\r\n\t\t\tswitchChange(e){\t//默认地址选中状态的变更\r\n\t\t\t\tthis.params.isDefault = e.target.value?1:0\r\n\t\t\t},\r\n\t\t\topenAddress(){\t//打开地址选择弹窗\t\r\n\t\t\t\tthis.$refs.addressPopup.open();\r\n\t\t\t},\r\n\t\t\tcloseAddPopup(){\t//关闭地址选择弹窗\r\n\t\t\t\tthis.$refs.addressPopup.close();\r\n\t\t\t},\r\n\t\t\taddressChange(item){\t//地址更改时触发\r\n\t\t\t\tfor(let i in item){\r\n\t\t\t\t\tthis.$set(this.params,i,item[i])\r\n\t\t\t\t}\r\n\t\t\t\tthis.$refs.addressPopup.close();\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents:{\r\n\t\t\tselectAddress\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.address{\r\n\t\tbackground-color: #F5F5F5;\r\n\t\theight: 100vh;\r\n\t}\r\n\t.collectTitle{\r\n\t\tposition: relative;\r\n\t}\r\n\t\r\n\t.createAddress{\r\n\t\twidth: 100%;\r\n\t\tpadding-bottom: 24rpx;\r\n\t}\r\n\t.everyBox{\r\n\t\twidth: 100%;\r\n\t\theight: 115rpx;\r\n\t\tline-height: 115rpx;\r\n\t\tposition: relative;\r\n\t\tpadding-left: 28rpx;\r\n\t\tdisplay: flex;\r\n\t\tcolor: #686868;\r\n\t\talign-items: center;\r\n\t\tborder-bottom: 1px solid #E4E4E4;\r\n\t\tbackground-color: #FFFFFF;\r\n\t}\r\n\t.everyBox input{\r\n\t\tfont-size: 28rpx;\r\n\t}\r\n\t.whereAddress{\r\n\t\tflex: 1;\r\n\t\toverflow: hidden;\r\n\t}\r\n\t.arrow{\r\n\t\twidth: 76rpx;\r\n\t\theight: 32rpx;\r\n\t\tbackground: url(http://beifa-mall.oss-cn-shanghai.aliyuncs.com/appletsImages/rightArrow.png) no-repeat 50%;\r\n\t\tbackground-size: 12rpx 24rpx;\r\n\t}\r\n\t.defaultBtn{\r\n\t\tjustify-content: space-between;\r\n\t\tpadding-right: 20rpx;\r\n\t}\r\n\t.addressHint{\r\n\t\twidth: 100%;\r\n\t\theight: 24rpx;\r\n\t\tcolor: #9b9b9b;\r\n\t\tpadding-top: 10rpx;\r\n\t\tpadding-left: 31rpx;\r\n\t}\r\n\t.saveAddress{\r\n\t\twidth: calc(100% - 60rpx);\r\n\t\theight: 88rpx;\r\n\t\ttext-align: center;\r\n\t\tline-height: 88rpx;\r\n\t\tbackground-color: #ff1558;\r\n\t\tmargin: 20rpx auto;\r\n\t\tborder-radius: 71rpx;\r\n\t\tmargin-top: 100rpx;\r\n\t\tcolor: #FFFFFF;\r\n\t\tfont-size: 36rpx;\r\n\t}\r\n\t.detailed{\r\n\t\tpadding-right: 30rpx;\r\n\t}\r\n\t.addressPopup{\r\n\t\twidth: 100%;\r\n\t\theight: 840rpx;\r\n\t\tbackground-color: #FFFFFF;\r\n\t}\r\n\t.addressPopupTitle{\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\tpadding:  0 20rpx;\r\n\t\theight: 88rpx;\r\n\t\talign-items: center;\r\n\t\tborder-bottom: 1px solid #E6E6E6;\r\n\t}\r\n\t.cancel{\r\n\t\tcolor: rgb(153,153,153);\r\n\t}\r\n\t.createAddressBox{\r\n\t\theight: calc(100% - 88rpx);\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=0cf7b6f2&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=0cf7b6f2&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1639368368396\n      var cssReload = require(\"/Users/guojunqiang/Documents/project-bf/new-mall-mobile/node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}
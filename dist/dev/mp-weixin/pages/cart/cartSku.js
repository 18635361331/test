(global["webpackJsonp"] = global["webpackJsonp"] || []).push([["pages/cart/cartSku"],{

/***/ 1047:
/*!************************************!*\
  !*** ./src/pages/cart/cartSku.vue ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _cartSku_vue_vue_type_template_id_bb3f0832_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./cartSku.vue?vue&type=template&id=bb3f0832&scoped=true& */ 1048);
/* harmony import */ var _cartSku_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./cartSku.vue?vue&type=script&lang=js& */ 1050);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _cartSku_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _cartSku_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/* harmony import */ var _cartSku_vue_vue_type_style_index_0_id_bb3f0832_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./cartSku.vue?vue&type=style&index=0&id=bb3f0832&scoped=true&lang=css& */ 1052);
/* harmony import */ var _node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */ 33);

var renderjs





/* normalize component */

var component = Object(_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _cartSku_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],
  _cartSku_vue_vue_type_template_id_bb3f0832_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"],
  _cartSku_vue_vue_type_template_id_bb3f0832_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  "bb3f0832",
  null,
  false,
  _cartSku_vue_vue_type_template_id_bb3f0832_scoped_true___WEBPACK_IMPORTED_MODULE_0__["components"],
  renderjs
)

component.options.__file = "pages/cart/cartSku.vue"
/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 1048:
/*!*******************************************************************************!*\
  !*** ./src/pages/cart/cartSku.vue?vue&type=template&id=bb3f0832&scoped=true& ***!
  \*******************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_14_0_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_cartSku_vue_vue_type_template_id_bb3f0832_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--14-0!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cartSku.vue?vue&type=template&id=bb3f0832&scoped=true& */ 1049);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_14_0_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_cartSku_vue_vue_type_template_id_bb3f0832_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_14_0_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_cartSku_vue_vue_type_template_id_bb3f0832_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return _node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_14_0_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_cartSku_vue_vue_type_template_id_bb3f0832_scoped_true___WEBPACK_IMPORTED_MODULE_0__["recyclableRender"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "components", function() { return _node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_14_0_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_cartSku_vue_vue_type_template_id_bb3f0832_scoped_true___WEBPACK_IMPORTED_MODULE_0__["components"]; });



/***/ }),

/***/ 1049:
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--14-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./src/pages/cart/cartSku.vue?vue&type=template&id=bb3f0832&scoped=true& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return recyclableRender; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "components", function() { return components; });
var components = {
  uniPopup: function() {
    return Promise.all(/*! import() | components/uni-popup/uni-popup */[__webpack_require__.e("common/vendor"), __webpack_require__.e("components/uni-popup/uni-popup")]).then(__webpack_require__.bind(null, /*! @/components/uni-popup/uni-popup.vue */ 1031))
  }
}
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
}
var recyclableRender = false
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ 1050:
/*!*************************************************************!*\
  !*** ./src/pages/cart/cartSku.vue?vue&type=script&lang=js& ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_babel_loader_lib_index_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_cartSku_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/babel-loader/lib!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cartSku.vue?vue&type=script&lang=js& */ 1051);
/* harmony import */ var _node_modules_babel_loader_lib_index_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_cartSku_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_babel_loader_lib_index_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_cartSku_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_babel_loader_lib_index_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_cartSku_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_babel_loader_lib_index_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_cartSku_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_node_modules_babel_loader_lib_index_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_cartSku_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 1051:
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./src/pages/cart/cartSku.vue?vue&type=script&lang=js& ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _index = _interopRequireDefault(__webpack_require__(/*! @/api/goods/index.js */ 92));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === "undefined" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

var _default = {
  props: ['chooseSpec'],
  data: function data() {
    return {
      imgBaseUrls: this.$config.imgBaseUrl,
      goodsSpceSku: {},
      operateObj: {},
      keyName: ''
    };
  },
  methods: {
    // 初始选中
    findCartGoods: function findCartGoods() {
      var _this = this;

      var chooseSpec = this.chooseSpec;
      this.keyName = '';
      this.setOperate(chooseSpec.price, chooseSpec.goodsImg, chooseSpec.storage, chooseSpec.saleFieldValue);

      _index.default.findCartGoods(chooseSpec.itemId).then(function (res) {
        if (res.data.code == 200) {
          for (var i = 0; i < res.data.data.goodsSkuSaleKeyDtos.length; i++) {
            _this.$set(res.data.data.goodsSkuSaleKeyDtos[i], "skuDtos", []);

            for (var j = 0; j < res.data.data.goodsSkuSaleDtos.length; j++) {
              if (res.data.data.goodsSkuSaleKeyDtos[i].id == res.data.data.goodsSkuSaleDtos[j].id) {
                // 初始化
                if (chooseSpec.saleFieldValue.indexOf(res.data.data.goodsSkuSaleDtos[j].saleName) > -1) {
                  res.data.data.goodsSkuSaleDtos[j].flag = true;
                } else {
                  res.data.data.goodsSkuSaleDtos[j].flag = false;
                }

                res.data.data.goodsSkuSaleKeyDtos[i].skuDtos.push(res.data.data.goodsSkuSaleDtos[j]);
              }
            }
          }

          _this.goodsSpceSku = res.data.data; // 初始化

          var _iterator = _createForOfIteratorHelper(res.data.data.goodsSkuDTOS),
              _step;

          try {
            for (_iterator.s(); !(_step = _iterator.n()).done;) {
              var _i = _step.value;

              if (chooseSpec.goodsId == _i.id) {
                _this.operateObj.saleFieldIds = _i.saleFieldValue;
              }
            }
          } catch (err) {
            _iterator.e(err);
          } finally {
            _iterator.f();
          }

          _this.init();

          _this.$refs.skuPopup.open();
        } else {
          uni.showToast({
            title: res.data.message,
            icon: "none"
          });
        }
      });
    },
    init: function init() {
      var saleFieldIds = this.operateObj.saleFieldIds.split(','); // 判断是否多个类型都有值

      var keyName = [];

      for (var j in this.goodsSpceSku.goodsSkuSaleKeyDtos) {
        keyName.push(this.goodsSpceSku.goodsSkuSaleKeyDtos[j].keyName);

        for (var k in saleFieldIds) {
          if (this.goodsSpceSku.goodsSkuSaleKeyDtos[j].id == saleFieldIds[k].split(':')[0]) {
            keyName.splice(keyName.indexOf(this.goodsSpceSku.goodsSkuSaleKeyDtos[j].keyName), 1);
          }
        }
      }

      this.keyName = keyName.join(' ');
      this.resetStockNumber(); // 价格查询

      if (!this.keyName) {
        var lastId = this.goodsSpceSku.goodsSkuSaleKeyDtos[this.goodsSpceSku.goodsSkuSaleKeyDtos.length - 1].id;

        for (var _k in this.goodsSpceSku.goodsSkuSaleKeyDtos) {
          var temp = this.goodsSpceSku.goodsSkuSaleKeyDtos[_k]; // key 

          var saleFieldIds_temp = JSON.parse(JSON.stringify(saleFieldIds));

          for (var l in temp.skuDtos) {
            // 
            for (var i in saleFieldIds) {
              if (saleFieldIds[i].split(':')[0] == lastId) {
                saleFieldIds_temp[i] = temp.skuDtos[l].id + ':' + temp.skuDtos[l].saleName;
              }
            }

            for (var m in this.goodsSpceSku.goodsSkuDTOS) {
              var obj = this.goodsSpceSku.goodsSkuDTOS[m];
              var len = obj.saleFieldValue.split(',').length;

              if (obj.saleFieldValue.split(',').sort().toString() == saleFieldIds_temp.sort().toString()) {
                // 改库存
                if (obj.stockNumber == 0 && temp.skuDtos[l].saleName == obj.saleFieldValue.split(',')[len - 1].split(':')[1]) {
                  this.$set(temp.skuDtos[l], 'noStorage', true);
                } else {
                  this.$set(temp.skuDtos[l], 'noStorage', false);
                }
              }

              if (obj.saleFieldValue.split(',').sort().toString() == saleFieldIds.sort().toString()) {
                var name = '';
                this.$set(this.operateObj, 'goodsId', obj.id);
                this.$set(this.operateObj, 'status', obj.status);

                for (var _k2 in obj.goodsSkuSaleDto) {
                  name += obj.goodsSkuSaleDto[_k2].saleName + ' ';
                }

                this.setOperate(obj.price, obj.saleImage, obj.stockNumber, name, obj.saleFieldValue);
              }
            }
          }
        }
      } else if (keyName.length <= 1) {
        // 进行库存判断	

        /* 
         *  查询当前选中的，有且只有一项未选中，判断当前类型进行库存判断，设置storage 为 0
        */
        for (var _k3 in this.goodsSpceSku.goodsSkuSaleKeyDtos) {
          var _temp = this.goodsSpceSku.goodsSkuSaleKeyDtos[_k3]; // 当前id 不在 选中里

          if (!(saleFieldIds.join(',').indexOf(_temp.id) > -1)) {
            for (var _l in _temp.skuDtos) {
              var _saleFieldIds_temp = saleFieldIds[0] ? JSON.parse(JSON.stringify(saleFieldIds)) : [];

              _saleFieldIds_temp.push(_temp.skuDtos[_l].id + ':' + _temp.skuDtos[_l].saleName);

              for (var _m in this.goodsSpceSku.goodsSkuDTOS) {
                var _obj = this.goodsSpceSku.goodsSkuDTOS[_m];

                if (_obj.saleFieldValue.split(',').sort().toString() == _saleFieldIds_temp.sort().toString()) {
                  // 改库存
                  if (_obj.stockNumber == 0) {
                    this.$set(_temp.skuDtos[_l], 'noStorage', true);
                  } else {
                    this.$set(_temp.skuDtos[_l], 'noStorage', false);
                  }
                }
              }
            }
          }
        }
      }
    },
    // 类型切换
    skuChange: function skuChange(item, index, i) {
      if (item.noStorage) {
        // 无库存 不能点击
        return;
      }

      var saleFieldIds = this.operateObj.saleFieldIds ? this.operateObj.saleFieldIds.split(',') : [];

      if (item.flag) {
        // 取消选中
        this.goodsSpceSku.goodsSkuSaleKeyDtos[index].skuDtos[i].flag = false;

        for (var _i2 in saleFieldIds) {
          if (saleFieldIds[_i2].split(':')[0] == item.id) {
            saleFieldIds.splice(_i2, 1);
          }
        }
      } else {
        // 选中
        for (var k in this.goodsSpceSku.goodsSkuSaleKeyDtos[index].skuDtos) {
          this.goodsSpceSku.goodsSkuSaleKeyDtos[index].skuDtos[k].flag = false;
        }

        this.goodsSpceSku.goodsSkuSaleKeyDtos[index].skuDtos[i].flag = true; // 商品id 

        var bol = true;

        if (saleFieldIds.length) {
          for (var _i3 in saleFieldIds) {
            if (saleFieldIds[_i3].split(':')[0] == item.id) {
              bol = false;
              saleFieldIds[_i3] = item.id + ':' + item.saleName;
            }
          }

          if (bol) {
            saleFieldIds.push(item.id + ':' + item.saleName);
          }
        } else {
          saleFieldIds.push(item.id + ':' + item.saleName);
        }
      }

      this.operateObj.saleFieldIds = saleFieldIds.join(',');
      this.init();
    },
    resetStockNumber: function resetStockNumber() {
      // 重置库存
      for (var k in this.goodsSpceSku.goodsSkuSaleKeyDtos) {
        var temp = this.goodsSpceSku.goodsSkuSaleKeyDtos[k];

        for (var l in temp.skuDtos) {
          this.$set(temp.skuDtos[l], 'noStorage', false);
        }
      }
    },
    // 设置最终结果obj
    setOperate: function setOperate(price, goodsImg, storage, saleFieldValue, saleFieldIds) {
      this.operateObj = _objectSpread(_objectSpread({}, this.operateObj), {}, {
        price: price,
        goodsImg: goodsImg,
        storage: storage,
        saleFieldValue: saleFieldValue,
        saleFieldIds: saleFieldIds
      });
    },
    // 确定
    sureChange: function sureChange() {
      if (this.keyName) {
        uni.showToast({
          // 未选择
          title: '请选择：' + this.keyName,
          icon: "none"
        });
      } else if (this.operateObj.storage <= 0) {
        uni.showToast({
          title: '加入购物车的数量大于库存量',
          icon: "none"
        });
      } else {
        var num = this.operateObj.storage * 1 >= this.chooseSpec.num * 1 ? this.chooseSpec.num * 1 : 1;
        this.$emit('changeCart', _objectSpread(_objectSpread({}, this.operateObj), {}, {
          cartId: this.chooseSpec.cartId,
          goodsPrice: this.operateObj.price,
          num: num
        }));
        this.$refs.skuPopup.close();
      }
    },
    closeSkuPopup: function closeSkuPopup() {
      this.$refs.skuPopup.close();
    }
  }
};
exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),

/***/ 1052:
/*!*********************************************************************************************!*\
  !*** ./src/pages/cart/cartSku.vue?vue&type=style&index=0&id=bb3f0832&scoped=true&lang=css& ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_cli_service_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_cartSku_vue_vue_type_style_index_0_id_bb3f0832_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src??ref--6-oneOf-1-3!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cartSku.vue?vue&type=style&index=0&id=bb3f0832&scoped=true&lang=css& */ 1053);
/* harmony import */ var _node_modules_vue_cli_service_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_cartSku_vue_vue_type_style_index_0_id_bb3f0832_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_cli_service_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_cartSku_vue_vue_type_style_index_0_id_bb3f0832_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_cli_service_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_cartSku_vue_vue_type_style_index_0_id_bb3f0832_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_cli_service_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_cartSku_vue_vue_type_style_index_0_id_bb3f0832_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_node_modules_vue_cli_service_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_cartSku_vue_vue_type_style_index_0_id_bb3f0832_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 1053:
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./src/pages/cart/cartSku.vue?vue&type=style&index=0&id=bb3f0832&scoped=true&lang=css& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
    if(false) { var cssReload; }
  

/***/ })

}]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/cart/cartSku.js.map
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'pages/cart/cartSku-create-component',
    {
        'pages/cart/cartSku-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('1')['createComponent'](__webpack_require__(1047))
        })
    },
    [['pages/cart/cartSku-create-component']]
]);

(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-setPwdForPay-index"],{"132c":function(t,e,a){var n=a("f5d5");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("50b75878",n,!0,{sourceMap:!1,shadowMode:!1})},"5cfa":function(t,e,a){"use strict";var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("5315")),o=(n(a("a057")),{data:function(){return{userInfo:{},countdown:{inter:"",count:0},params:{captcha:"",telephone:"",type:6},nextFlag:0,operateCode:"",payPwd:"",aginPayPwd:""}},onShow:function(){this.zhuge.track("忘记支付密码-落地页"),this.account()},methods:{account:function(){var t=this;i.default.account().then((function(e){200==e.data.code?(t.userInfo=e.data.data,t.params.telephone=e.data.data.telephone):uni.showToast({title:e.data.message,icon:"none"})}))},captcha:function(){this.countDownTime(),i.default.captcha({telephone:this.params.telephone,type:this.params.type}).then((function(t){200==t.data.code||uni.showToast({title:t.data.message,icon:"none"})}))},countDownTime:function(){var t=this;this.countdown.count=60,this.countdown.inter=setInterval((function(){t.countdown.count--,t.countdown.count||clearInterval(t.countdown.inter)}),1e3)},verifyCaptcha:function(){var t=this;this.params.captcha?i.default.verifyCaptcha(this.params).then((function(e){200==e.data.code?(t.nextFlag=1,t.operateCode=e.data.data):uni.showToast({title:e.data.message,icon:"none"})})):uni.showToast({title:"验证码不能为空!",icon:"none"})},valPayPwd:function(){this.payPwd.length>=6&&(this.nextFlag=2)},aginPayPwdChange:function(){this.aginPayPwd.length>=6&&this.aginPayPwd!=this.payPwd&&(this.nextFlag=1,uni.showToast({title:"两次密码输入不一致，请重新设置",icon:"none"}),this.payPwd="",this.aginPayPwd="")},resetPayPwd:function(){var t=this;i.default.resetPayPwd({operateCode:this.operateCode,payPassword:this.payPwd}).then((function(e){200==e.data.code?(uni.showToast({title:"密码重置成功",icon:"none"}),t.goBack(1)):uni.showToast({title:e.data.message,icon:"none"})}))}}});e.default=o},"5e90":function(t,e,a){"use strict";var n=a("132c"),i=a.n(n);i.a},"9a513":function(t,e,a){"use strict";var n;a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"page commonPageTitle"},[a("v-uni-view",{staticClass:"collectTitle"},[t.nextFlag?t._e():a("v-uni-view",{staticClass:"goBackBtn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goBack(1)}}}),t.nextFlag?a("v-uni-view",{staticClass:"cancel",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goBack(1)}}},[t._v("取消")]):t._e(),a("v-uni-view",{staticClass:"title"},[t._v("忘记支付密码")])],1),t.nextFlag?t._e():a("v-uni-view",{staticClass:"editBox"},[a("v-uni-view",[t._v("本次操作需要短信确认")]),a("v-uni-view",[t._v("验证码将发送至手机"+t._s(t.userInfo.hiddenTelephone))]),a("v-uni-view",{staticClass:"setPwdCde"},[a("v-uni-input",{attrs:{type:"text",placeholderClass:"placeholder",placeholder:"请输入验证码"},model:{value:t.params.captcha,callback:function(e){t.$set(t.params,"captcha",e)},expression:"params.captcha"}}),t.countdown.count?t._e():a("v-uni-view",{staticClass:"sendCode",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.captcha.apply(void 0,arguments)}}},[t._v("获取验证码")]),t.countdown.count?a("v-uni-view",{staticClass:"countDown"},[t._v(t._s(t.countdown.count)+"秒后重新获取")]):t._e()],1),a("v-uni-view",{staticClass:"nextBtn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.verifyCaptcha.apply(void 0,arguments)}}},[t._v("下一步")])],1),1==t.nextFlag?a("v-uni-view",{staticClass:"surePswBox"},[a("v-uni-view",{staticClass:"verification"},[t._v("设置支付密码，用于提现验证")]),a("v-uni-view",{staticClass:"passwordBox"},[t._l(6,(function(e,n){return a("v-uni-view",{key:n,staticClass:"everyPswBox"},[n<=(t.payPwd.length?t.payPwd.length-1:-1)?a("v-uni-text",[t._v("*")]):t._e()],1)})),a("v-uni-input",{attrs:{type:"number",maxlength:"6"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.valPayPwd.apply(void 0,arguments)}},model:{value:t.payPwd,callback:function(e){t.payPwd=e},expression:"payPwd"}})],2),a("v-uni-view",{staticClass:"pswHint"},[t._v("为了保护您的账号安全，支付密码和支付密码尽量不要相同")])],1):t._e(),2==t.nextFlag?a("v-uni-view",{staticClass:"surePswBox"},[a("v-uni-view",{staticClass:"verification"},[t._v("请再次确认支付密码")]),a("v-uni-view",{staticClass:"passwordBox"},[t._l(6,(function(e,n){return a("v-uni-view",{key:n,staticClass:"everyPswBox"},[n<=(t.aginPayPwd.length?t.aginPayPwd.length-1:-1)?a("v-uni-text",[t._v("*")]):t._e()],1)})),a("v-uni-input",{attrs:{type:"number",unselectable:"on",maxlength:"6"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.aginPayPwdChange.apply(void 0,arguments)}},model:{value:t.aginPayPwd,callback:function(e){t.aginPayPwd=e},expression:"aginPayPwd"}})],2),a("v-uni-view",{staticClass:"submitBtn",class:t.aginPayPwd.length<6?"disabled":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.resetPayPwd.apply(void 0,arguments)}}},[t._v("完成")])],1):t._e()],1)},o=[]},a057:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={checkPassword:function(t){return!(!this.isDiffStr(t)||!/^(?=.*[0-9].*)(?=.*[a-z].*)(?=.*[A-Z].*).{8,20}$/.test(t))},isDiffStr:function(t){return!!/^([a-zA-Z0-9]|[@#!_~\-\$\*]){0,20}$/.test(t)},checkPwdIntensity:function(t){return this.checkPassword(t)?t.length>=8&&t.length<=10?/[@#!$*_~-]/im.test(t)?"2":"1":t.length>=11&&t.length<=13?/[@#!$*_~-]/im.test(t)?"3":"2":t.length>=14&&t.length<=20?"3":void 0:"0"}};e.default=n},babe:function(t,e,a){"use strict";a.r(e);var n=a("5cfa"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},cfa8:function(t,e,a){"use strict";a.r(e);var n=a("9a513"),i=a("babe");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("5e90");var c,s=a("f0c5"),d=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,"a061cf4c",null,!1,n["a"],c);e["default"]=d.exports},f5d5:function(t,e,a){var n=a("4bad");e=n(!1),e.push([t.i,".commonPageTitle[data-v-a061cf4c]{\npadding-top:%?88?%\n}.collectTitle[data-v-a061cf4c]{border-bottom:%?1?% solid #e6e6e6}.cancel[data-v-a061cf4c]{width:%?88?%;height:%?88?%;text-align:center;line-height:%?88?%}.editBox[data-v-a061cf4c]{width:100%;padding:%?112?% %?64?% 0;color:#333}.setPwdCde[data-v-a061cf4c]{width:100%;height:%?90?%;border-bottom:%?1?% solid #eee;display:-webkit-box;display:-webkit-flex;display:flex;margin-top:%?48?%}.setPwdCde uni-input[data-v-a061cf4c]{-webkit-box-flex:1;-webkit-flex:1;flex:1;height:100%;margin-right:%?22?%;line-height:%?90?%}.sendCode[data-v-a061cf4c]{width:%?160?%;text-align:right;font-size:%?30?%;line-height:%?88?%}.nextBtn[data-v-a061cf4c],.complete[data-v-a061cf4c]{width:100%;height:%?88?%;background:#ff1558;line-height:%?88?%;color:#fff;border-radius:%?100?%;margin-top:%?112?%;font-size:%?32?%;text-align:center}.countDown[data-v-a061cf4c]{width:%?210?%;font-size:%?28?%;line-height:%?88?%}.surePswBox[data-v-a061cf4c]{padding:%?100?% %?50?%}.verification[data-v-a061cf4c]{width:100%;font-size:%?36?%;color:#333;text-align:center;margin-bottom:%?94?%}.passwordBox[data-v-a061cf4c]{width:100%;height:%?100?%;display:-webkit-box;display:-webkit-flex;display:flex;line-height:%?100?%;position:relative}.everyPswBox[data-v-a061cf4c]{width:16%;margin-right:%?10?%;width:%?100?%;height:%?100?%;text-align:center;line-height:%?100?%;border:%?1?% solid #dbdbdb;color:#333;border-radius:%?16?%}.passwordBox uni-input[data-v-a061cf4c]{position:absolute;width:100%;height:%?100?%;opacity:.01;color:#fff;left:0;font-size:0}.pswHint[data-v-a061cf4c]{width:100%;text-align:center;font-size:%?24?%;color:#787878;margin-top:%?31?%}.submitBtn[data-v-a061cf4c]{width:100%;height:%?88?%;background-color:#ff1558;color:#fff;border-radius:%?100?%;text-align:center;line-height:%?88?%;font-size:%?32?%;margin-top:%?170?%}.submitBtn.disabled[data-v-a061cf4c]{background-color:#d8d8d8}",""]),t.exports=e}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-search-index"],{"2d07":function(e,t,a){"use strict";var i;a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return i}));var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"page commonPageTitle"},[a("v-uni-view",{staticClass:"collectTitle"},[a("v-uni-view",{staticClass:"goBackBtn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goBack(1)}}}),a("v-uni-view",{staticClass:"title",class:e.isWeiXinApplets?"active":""},[a("v-uni-view",{staticClass:"searcIcon"}),a("v-uni-input",{staticClass:"searchInput",attrs:{type:"text",focus:!0,placeholderClass:"placeholderValue",placeholder:e.placeholderValue},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.linkWords.apply(void 0,arguments)}},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}}),e.searchValue?a("v-uni-view",{staticClass:"clearIcon",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.searchValue=""}}}):e._e()],1),a("v-uni-view",{staticClass:"searchBtn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goToItemList({name:e.searchValue?e.searchValue:e.placeholderValue})}}},[e._v("搜索")])],1),e.searchValue?e._e():a("v-uni-view",{staticClass:"historyBox"},[e.historyList.length?a("v-uni-view",{staticClass:"searchTitle"},[a("v-uni-text",[e._v("最近搜索")]),a("v-uni-text",{staticClass:"delHistoryIcon",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.delHistorySearch.apply(void 0,arguments)}}})],1):e._e(),e.historyList.length?a("v-uni-view",{staticClass:"searchLabel"},e._l(e.historyList,(function(t,i){return a("v-uni-view",{key:i,staticClass:"everySearch"},[0==t.searchType?a("v-uni-text",{on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.goToItemList({name:t.searchWord})}}},[e._v(e._s(t.searchWord))]):e._e(),1==t.searchType?a("v-uni-text",{on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.goToShopList({name:t.searchWord})}}},[e._v(e._s('"'+t.searchWord+'"')+"店铺")]):e._e(),2==t.searchType?a("v-uni-text",{on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.goToGoodsListCategory({name:t.searchWord,frontCategoryId:t.searchTypeId})}}},[e._v('"'+e._s(t.searchWord)+'"分类')]):e._e(),3==t.searchType?a("v-uni-text",{on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.goToGoodsListBrand({name:t.searchWord,brandId:t.searchTypeId})}}},[e._v('"'+e._s(t.searchWord)+'"品牌')]):e._e()],1)})),1):e._e()],1),e.searchValue?e._e():a("v-uni-view",{staticClass:"historyBox"},[a("v-uni-view",{staticClass:"searchTitle"},[a("v-uni-text",[e._v("热门推荐")])],1),a("v-uni-view",{staticClass:"searchLabel"},e._l(e.hostList,(function(t,i){return a("v-uni-view",{key:i,staticClass:"everySearch",on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.goToItemList({name:t.value})}}},[e._v(e._s(t.value))])})),1)],1),e.searchValue?a("v-uni-view",{staticClass:"searchList"},[e.searchList.storeExist?a("v-uni-view",{staticClass:"everySearchView",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goToShopList({name:e.searchValue})}}},[a("v-uni-text",{staticClass:"searchType"},[e._v("店铺")]),a("v-uni-text",{staticClass:"searchText"},[e._v("搜索“"+e._s(e.searchValue)+"”相关店铺")]),a("v-uni-text",{staticClass:"searchIcon"})],1):e._e(),e._l(e.searchList.frontCategories,(function(t,i){return e.searchList.frontCategories?a("v-uni-view",{key:i,staticClass:"everySearchView",on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.goToGoodsListCategory(t)}}},[a("v-uni-text",{staticClass:"searchType"},[e._v("分类")]),a("v-uni-text",{staticClass:"searchText"},[e._v(e._s(t.name))]),a("v-uni-text",{staticClass:"searchIcon"})],1):e._e()})),e._l(e.searchList.brands,(function(t,i){return e.searchList.brands?a("v-uni-view",{key:i,staticClass:"everySearchView",on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.goToGoodsListBrand(t)}}},[a("v-uni-text",{staticClass:"searchType"},[e._v("品牌")]),a("v-uni-text",{staticClass:"searchText"},[e._v(e._s(t.name))]),a("v-uni-text",{staticClass:"searchIcon"})],1):e._e()})),e._l(e.searchList.keyWords,(function(t,i){return e.searchList.keyWords?a("v-uni-view",{key:i,staticClass:"everySearchView",on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.goToItemList(t)}}},[a("v-uni-text",{staticClass:"searchType"},[e._v("商品")]),a("v-uni-text",{staticClass:"searchText"},[e._v(e._s(t.name))]),a("v-uni-text",{staticClass:"searchIcon"})],1):e._e()}))],2):e._e()],1)},n=[]},4527:function(e,t,a){"use strict";var i=a("edea"),s=a.n(i);s.a},"65ad":function(e,t,a){var i=a("4bad");t=i(!1),t.push([e.i,".commonPageTitle[data-v-a0d595f4]{padding-top:%?88?%}.collectTitle[data-v-a0d595f4]{-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.collectTitle .title[data-v-a0d595f4]{width:calc(100% - %?60?%);height:%?60?%;line-height:%?60?%;margin-top:%?14?%;border-radius:%?54?%;background-color:#f5f5f5;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;position:relative}.collectTitle .title.active[data-v-a0d595f4]{margin-left:%?20?%}.searcIcon[data-v-a0d595f4]{width:%?60?%;height:%?60?%;margin-left:%?24?%;background:url(http://beifa-mall.oss-cn-shanghai.aliyuncs.com/appletsImages/coupon_popover_search_180820@2x.png) no-repeat 50%;background-size:%?28?% %?30?%}.searchInput[data-v-a0d595f4]{width:100%;height:%?60?%;margin-left:%?2?%;\n\t/* padding-top: 10rpx; */font-size:%?26?%;padding:%?4?% 0;line-height:%?48?%;text-align:left}.clearIcon[data-v-a0d595f4]{width:%?74?%;height:%?60?%;background:url(http://beifa-mall.oss-cn-shanghai.aliyuncs.com/appletsImages/search_back@2x.png) no-repeat 50%;background-size:%?26?% %?26?%}.searchBtn[data-v-a0d595f4]{width:%?108?%;height:%?88?%;line-height:%?88?%;text-align:center;font-size:%?26?%;margin-left:%?10?%;color:#333}.historyBox[data-v-a0d595f4]{width:100%;margin-top:%?50?%;position:relative}.searchTitle[data-v-a0d595f4]{display:-webkit-box;display:-webkit-flex;display:flex;font-size:%?34?%;font-weight:700;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:0 %?24?%}.delHistoryIcon[data-v-a0d595f4]{width:%?40?%;height:%?40?%;line-height:%?40?%;background:url(http://beifa-mall.oss-cn-shanghai.aliyuncs.com/appletsImages/remove@2x.png) no-repeat 50%;background-size:%?40?% %?40?%}.searchLabel[data-v-a0d595f4]{width:100%;padding:0 %?24?%;padding-top:%?40?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap}.everySearch[data-v-a0d595f4]{padding:%?14?% %?30?%;margin-right:%?24?%;background:#f5f5f5;margin-bottom:%?24?%;border-radius:%?50?%}.searchList[data-v-a0d595f4]{width:100%;height:calc(100vh - %?88?%);padding:0 %?24?%}.everySearchView[data-v-a0d595f4]{width:100%;height:%?120?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.searchIcon[data-v-a0d595f4]{width:%?64?%;height:%?64?%;background:url(http://beifa-mall.oss-cn-shanghai.aliyuncs.com/appletsImages/coupon_popover_search_180820@2x.png) no-repeat 50%;background-size:%?40?% %?40?%}.searchType[data-v-a0d595f4]{padding-left:%?12?%;color:#ccc}.searchText[data-v-a0d595f4]{-webkit-box-flex:1;-webkit-flex:1;flex:1;color:#333;margin-left:%?32?%}",""]),e.exports=t},"986b":function(e,t,a){"use strict";var i=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(a("5530")),n=i(a("efb0")),o=i(a("b775")),r={searchCustom:function(e,t){return o.default.post(n.default.searchCustom,(0,s.default)((0,s.default)({},e),t))},historySearch:function(){return o.default.get(n.default.historySearch,{})},hotWords:function(){return o.default.get(n.default.hotWords,{})},linkWords:function(e){return o.default.post(n.default.linkWords,e)},delHistorySearch:function(){return o.default.delete(n.default.historySearch,{})},searchStore:function(e){return o.default.post(n.default.searchStore,e)},defaultWords:function(){return o.default.get(n.default.defaultWords,{})}};t.default=r},9954:function(e,t,a){"use strict";var i=a("4ea4");a("a434"),a("ac1f"),a("5319"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(a("986b")),n={data:function(){return{historyList:[],hostList:[],searchValue:"",placeholderValue:"",searchList:[],isWeiXinApplets:!1}},onShow:function(){this.zhuge.track("搜索-落地页"),this.placeholderValue=this.$Route.query.searchValue,uni.getStorageSync("sessionId")&&this.historySearch(),this.hotWords(),this.searchValue&&this.linkWords()},methods:{historySearch:function(){var e=this;s.default.historySearch().then((function(t){200==t.data.code?e.historyList=t.data.data:uni.showToast({title:t.data.message,icon:"none"})}))},hotWords:function(){var e=this;s.default.hotWords().then((function(t){200==t.data.code?e.hostList=t.data.data:uni.showToast({title:t.data.message,icon:"none"})}))},linkWords:function(){var e=this;s.default.linkWords({param:this.searchValue,storeId:""}).then((function(t){200==t.data.code?e.searchList=t.data.data:uni.showToast({title:t.data.message,icon:"none"})}))},delHistorySearch:function(){var e=this;s.default.delHistorySearch().then((function(t){200==t.data.code?e.historyList.splice(0):uni.showToast({title:t.data.data,icon:"none"})}))},goToGoodsListCategory:function(e){this.$Router.replace({path:"/pages/goodsList/index",query:{searchValue:e.name,frontCategoryId:e.frontCategoryId}})},goToItemList:function(e){this.$Router.replace({path:"/pages/goodsList/index",query:{searchValue:e.name,param:e.name,originWord:e.name,record:!0}})},goToGoodsListBrand:function(e){this.$Router.replace({path:"/pages/goodsList/index",query:{searchValue:e.name,brandId:e.brandId}})},goToShopList:function(e){this.$Router.replace({path:"/pages/shopList/index",query:{name:e.name}})}}};t.default=n},da1a:function(e,t,a){"use strict";a.r(t);var i=a("9954"),s=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(n);t["default"]=s.a},edea:function(e,t,a){var i=a("65ad");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=a("4f06").default;s("a52c0d58",i,!0,{sourceMap:!1,shadowMode:!1})},efb0:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={searchCustom:"/search/custom/item",historySearch:"/search/custom/historySearch",hotWords:"/search/custom/hotWords",linkWords:"/search/custom/linkWords",searchStore:"/search/custom/store",defaultWords:"/search/custom/defaultWords"},s=i;t.default=s},efe3:function(e,t,a){"use strict";a.r(t);var i=a("2d07"),s=a("da1a");for(var n in s)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(n);a("4527");var o,r=a("f0c5"),c=Object(r["a"])(s["default"],i["b"],i["c"],!1,null,"a0d595f4",null,!1,i["a"],o);t["default"]=c.exports}}]);
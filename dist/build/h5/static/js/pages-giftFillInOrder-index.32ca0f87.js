(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-giftFillInOrder-index"],{"3a03":function(t,a,e){var i=e("c9a2");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("4f06").default;n("708a48f6",i,!0,{sourceMap:!1,shadowMode:!1})},6431:function(t,a,e){"use strict";var i=e("4ea4");e("e25e"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=i(e("92c6")),o={data:function(){return{defaultTitleDto:{title:"填写订单"},query:null,needRealname:!1,htUserName:"",htUserCode:"",imgBaseUrls:this.$config.imgBaseUrl,detTime:"",cardsOrderData:null,goPayButton:!0}},methods:{togglePopup:function(t){1==t?this.$refs.authenticationPopup.open():this.$refs.authenticationPopup.close()},tel:function(){uni.makePhoneCall({phoneNumber:"400-100-82466"})},place:function(t,a,e){var i=this;n.default.orderPlace({batchId:t,issueNum:parseInt(a),orderKey:e}).then((function(t){(t.data.code=200)&&(i.cardsOrderData=t.data.data,i.needRealname=t.data.data.needRealName,i.htUserName=t.data.data.defaultName,i.htUserCode=t.data.data.defaultIdNum,i.detTime=i.$utils.formatDate(t.data.data.deadTime,"yyyy-MM-dd"))}))},goPay:function(){var t=this;if(!this.goPayButton)return!1;if(this.needRealname){if(""==this.htUserName||null==this.htUserName)return uni.showToast({title:"请输入真实姓名",icon:"none"}),!1;if(""==this.htUserCode||null==this.htUserCode)return uni.showToast({title:"身份证信息与姓名不一致",icon:"none"}),!1;if(!this.$utils.IdentityCodeValid(this.htUserCode))return uni.showToast({title:"身份证信息与姓名不一致",icon:"none"}),!1}this.goPayButton=!1,n.default.orderGoPay({batchId:this.query.batchId,issueNum:parseInt(this.query.issueNum),orderKey:this.query.orderKey,realName:this.htUserName,realIdNum:this.htUserCode}).then((function(a){t.goPayButton=!0,200==a.data.code?t.$Router.push({path:"/pages/giftCardPay/index",query:{payId:a.data.data}}):uni.showToast({title:a.data.message,icon:"none"})}))}},onLoad:function(t){this.query=t,this.place(t.batchId,t.issueNum,t.orderKey)}};a.default=o},b7c1:function(t,a,e){"use strict";e.d(a,"b",(function(){return n})),e.d(a,"c",(function(){return o})),e.d(a,"a",(function(){return i}));var i={uniPopup:e("1c89").default},n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",{staticClass:"page giftCardList"},[e("defaultTitle",{attrs:{dto:t.defaultTitleDto}}),e("v-uni-view",{staticClass:"tips-info"},[e("v-uni-text",[t._v("以下礼卡为电子卡,支付成功后请在我的礼卡中查看卡号。")])],1),t.needRealname?e("v-uni-view",{staticClass:"realName-cont"},[e("v-uni-view",{staticClass:"realName-tit"},[e("v-uni-text",{staticClass:"des",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.togglePopup(1)}}},[t._v("实名认证")]),e("v-uni-text",{staticClass:"info"},[t._v("商务厅要求购买礼卡金额超1000元需实名认证")])],1),e("v-uni-view",{staticClass:"realName-input"},[e("v-uni-input",{attrs:{type:"text",placeholder:"真实姓名"},model:{value:t.htUserName,callback:function(a){t.htUserName=a},expression:"htUserName"}}),t.htUserName?e("v-uni-text",{on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.htUserName=""}}}):t._e()],1),e("v-uni-view",{staticClass:"realName-input"},[e("v-uni-input",{attrs:{type:"text",placeholder:"身份证号码"},model:{value:t.htUserCode,callback:function(a){t.htUserCode=a},expression:"htUserCode"}}),t.htUserCode?e("v-uni-text",{on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.htUserCode=""}}}):t._e()],1)],1):t._e(),t.cardsOrderData?e("v-uni-view",{staticClass:"card-detail fn-clear"},[e("v-uni-view",{staticClass:"card-pic"},[e("v-uni-image",{staticClass:"card-img",attrs:{src:t.imgBaseUrls+t.cardsOrderData.cover,alt:"图片加载失败"}}),e("v-uni-text",[t._v("面值"+t._s(t.cardsOrderData.faceValue)+"元")])],1),e("v-uni-view",{staticClass:"card-info"},[e("v-uni-view",{staticClass:"info-title"},[t._v(t._s(t.cardsOrderData.cardName))]),e("v-uni-view",{staticClass:"remark"},[t._v(t._s(t.cardsOrderData.scope)+"；有效期至"+t._s(t.detTime))]),e("v-uni-view",{staticClass:"price-info"},[e("v-uni-text",{staticClass:"price"},[t._v("￥"+t._s(t.cardsOrderData.salePrice))]),e("v-uni-text",{staticClass:"num"},[t._v("×"+t._s(t.cardsOrderData.cardNum))])],1)],1)],1):t._e(),e("v-uni-view",{staticClass:"scope-application public-container"},[e("v-uni-text",{staticClass:"text-left"},[t._v("共"+t._s(t.cardsOrderData.cardNum)+"张礼卡")]),e("v-uni-text",{staticClass:"text-right",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.dialog=!0}}},[t._v("合计 ￥"+t._s(t.cardsOrderData.orderAmount))])],1),e("v-uni-view",{staticClass:"buyFoot"},[e("v-uni-view",{staticClass:"payment"},[t._v("实付款："),e("v-uni-text",{staticClass:"paymentPrice"},[t._v("¥"+t._s(t.cardsOrderData.orderAmount))])],1),e("v-uni-view",{staticClass:"buyBtn",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.goPay.apply(void 0,arguments)}}},[t._v("去付款")])],1),e("uni-popup",{ref:"authenticationPopup",attrs:{type:"center"}},[e("v-uni-view",{staticClass:"authenticationPopup"},[e("v-uni-view",{staticClass:"title"},[t._v("实名认证说明")]),e("v-uni-view",{staticClass:"dialog-main"},[e("v-uni-text",[t._v("为什么需要实名认证？")]),e("v-uni-text",[t._v("礼卡属于电子卡，商务厅规定：购买单张电子卡金额超过1000元需要进行实名认证。")]),e("v-uni-text",[t._v("你的身份证信息将加密保管，贝发集团保证信息安全，绝不对外泄露！")]),e("v-uni-view",[e("v-uni-text",[t._v("任何身份认证问题可联系我们：")]),e("v-uni-text",{staticClass:"tel",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.tel.apply(void 0,arguments)}}},[t._v("400-100-82466")])],1)],1),e("v-uni-view",{staticClass:"dialogSubmit",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.togglePopup(2)}}},[t._v("确定")])],1)],1)],1)},o=[]},be7b:function(t,a,e){"use strict";e.r(a);var i=e("6431"),n=e.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(o);a["default"]=n.a},c9a2:function(t,a,e){var i=e("4bad");a=i(!1),a.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-page-body[data-v-67597522]{background:#f5f5f5}.tips-info[data-v-67597522]{width:100%;background:#fff6e1;padding:%?26?% %?32?%;margin-top:%?88?%}.tips-info uni-text[data-v-67597522]{display:block;width:100%;line-height:1.4;padding-left:%?32?%;font-size:%?24?%;color:#ff7e18;background:url(http://beifa-mall.oss-cn-shanghai.aliyuncs.com/appletsImages/warning@2x.png) no-repeat;background-size:%?22?% %?22?%;background-position-y:%?6?%}\n/* 实名认证 */.realName-cont[data-v-67597522]{width:100%;background:#fff}.realName-tit[data-v-67597522]{display:block;width:100%;padding:0 %?24?%;font-size:%?28?%;color:#666;position:relative;background:#fff}.realName-tit .des[data-v-67597522]{display:block;width:%?150?%;color:#333;background:url(http://beifa-mall.oss-cn-shanghai.aliyuncs.com/appletsImages/wenh.png) no-repeat 100%;background-size:%?26?%}.realName-tit .info[data-v-67597522]{position:absolute;right:%?24?%;top:0;z-index:99;font-size:%?24?%;color:#666}.realName-tit[data-v-67597522],\n.realName-tit .des[data-v-67597522],\n.realName-tit .info[data-v-67597522],\n.realName-input[data-v-67597522]{height:%?88?%;line-height:%?88?%}.realName-input[data-v-67597522]{width:100%;position:relative}.realName-input uni-input[data-v-67597522]{display:block;width:100%;height:%?88?%;line-height:%?40?%;font-size:%?28?%;padding:%?24?% %?60?% %?24?% %?24?%}.realName-input uni-text[data-v-67597522]{display:block;height:%?88?%;width:%?26?%;position:absolute;top:0;right:%?24?%;z-index:99;background:url(http://beifa-mall.oss-cn-shanghai.aliyuncs.com/appletsImages/search_back@2x.png) no-repeat 50%;background-size:%?26?%}\n/*卡片详情*/.card-detail[data-v-67597522]{margin-bottom:%?18?%;background-color:#fff;padding:0 %?22?%;width:100%;height:%?204?%;margin-top:%?24?%}.card-detail .card-pic[data-v-67597522]{border:1px solid #dfdfdf;border-radius:%?10?%;width:%?180?%;height:%?180?%;position:relative;text-align:center;float:left;margin-right:%?28?%;margin-top:%?10?%}.card-detail .card-pic uni-text[data-v-67597522]{position:absolute;font-size:%?24?%;color:#353535;bottom:%?8?%;left:0;right:0;margin:auto}.card-detail .card-pic .card-img[data-v-67597522]{border-radius:%?10?%;width:80%;height:60%;position:absolute;left:0;right:0;margin:auto;bottom:%?16?%;top:0}.card-detail .card-info[data-v-67597522]{float:right;width:calc(100% - %?180?% - %?28?%)}.card-detail .card-info .info-title[data-v-67597522]{font-size:%?28?%;width:90%;min-height:%?36?%;color:#333;line-height:%?36?%;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;padding-top:%?18?%}.card-detail .card-info .remark[data-v-67597522]{font-size:%?26?%;color:#999;line-height:%?26?%;margin:%?8?% 0 %?26?%}.card-detail .card-info .price-info[data-v-67597522]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.card-detail .card-info .price-info .price[data-v-67597522]{font-size:%?36?%;line-height:1.3;color:#e61446}.card-detail .card-info .price-info .num[data-v-67597522]{font-size:%?28?%;color:#666;line-height:1.3}.scope-application[data-v-67597522]{height:%?90?%;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:0 %?24?%;display:-webkit-box;display:-webkit-flex;display:flex;line-height:%?28?%;background:#fff}.scope-application .text-left[data-v-67597522]{font-size:%?30?%;color:#333}.scope-application .text-right[data-v-67597522]{font-size:%?28?%;color:#686868}.buyFoot[data-v-67597522]{width:100%;height:%?100?%;position:absolute;bottom:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;background:#fff}.buyFoot .buyBtn[data-v-67597522]{width:%?230?%;height:%?100?%;line-height:%?100?%;background-color:#ff1558;color:#fff;text-align:center}.buyFoot .payment[data-v-67597522]{line-height:%?100?%;margin-right:%?30?%}.buyFoot .paymentPrice[data-v-67597522]{color:#ff1558}.authenticationPopup[data-v-67597522]{width:88%;height:auto;margin:0 auto;padding:%?20?% %?40?% %?80?%;background-color:#fff;border-radius:%?32?%}.authenticationPopup .title[data-v-67597522]{font-size:%?32?%;color:#333;text-align:center;line-height:1.3;width:100%;display:block;margin:%?30?% 0 %?40?%}.authenticationPopup .dialog-main[data-v-67597522]{font-size:%?28?%;color:#999;margin-bottom:%?70?%;line-height:1.5;text-align:justify}.authenticationPopup .dialog-main > uni-text[data-v-67597522]{display:block}.authenticationPopup .dialog-main .tel[data-v-67597522]{color:#ff4081}.authenticationPopup .dialogSubmit[data-v-67597522]{max-width:%?520?%;height:%?88?%;margin:0 auto;line-height:%?88?%;text-align:center;display:block;font-size:%?32?%;color:#fff;background:#ff1558;border-radius:%?50?%;margin-top:%?34?%}body.?%PAGE?%[data-v-67597522]{background:#f5f5f5}',""]),t.exports=a},e7775:function(t,a,e){"use strict";var i=e("3a03"),n=e.n(i);n.a},fcc5:function(t,a,e){"use strict";e.r(a);var i=e("b7c1"),n=e("be7b");for(var o in n)["default"].indexOf(o)<0&&function(t){e.d(a,t,(function(){return n[t]}))}(o);e("e7775");var s,r=e("f0c5"),d=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"67597522",null,!1,i["a"],s);a["default"]=d.exports}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-editPayPassword-index"],{"05d1":function(t,e,n){"use strict";n.r(e);var a=n("97c0"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},"19c0":function(t,e,n){"use strict";var a=n("e64c"),i=n.n(a);i.a},"97c0":function(t,e,n){"use strict";var a=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("5315")),o=(a(n("a057")),{data:function(){return{userInfo:{},countdown:{inter:"",count:0},params:{captcha:"",telephone:"",type:6},nextFlag:0,operateCode:"",payPwd:"",newPayPwd:"",aginPayPwd:""}},onShow:function(){this.zhuge.track("修改支付密码"),this.account()},methods:{account:function(){var t=this;i.default.account().then((function(e){200==e.data.code?(t.userInfo=e.data.data,t.params.telephone=e.data.data.telephone):uni.showToast({title:e.data.message,icon:"none"})}))},captcha:function(){this.countDownTime(),i.default.captcha({telephone:this.params.telephone,type:this.params.type}).then((function(t){200==t.data.code||uni.showToast({title:t.data.message,icon:"none"})}))},countDownTime:function(){var t=this;this.countdown.count=60,this.countdown.inter=setInterval((function(){t.countdown.count--,t.countdown.count||clearInterval(t.countdown.inter)}),1e3)},verifyCaptcha:function(){var t=this;this.params.captcha?i.default.verifyCaptcha(this.params).then((function(e){200==e.data.code?(t.nextFlag=1,t.operateCode=e.data.data):uni.showToast({title:e.data.message,icon:"none"})})):uni.showToast({title:"验证码不能为空!",icon:"none"})},valPayPwd:function(){var t=this;this.payPwd.length>=6&&i.default.valPayPwd({operateCode:this.operateCode,payPwd:this.payPwd,type:6}).then((function(e){200==e.data.code?(t.nextFlag=2,t.operateCode=e.data.data):uni.showToast({title:e.data.message,icon:"none"})}))},newPayPwdChange:function(){this.newPayPwd.length>=6&&(this.nextFlag=3)},aginPayPwdChange:function(){this.aginPayPwd.length>=6&&this.aginPayPwd!=this.newPayPwd&&(this.nextFlag=2,uni.showToast({title:"两次密码输入不一致，请重新设置",icon:"none"}),this.newPayPwd="",this.aginPayPwd="")},resetPayPwd:function(){var t=this;i.default.resetPayPwd({operateCode:this.operateCode,payPassword:this.newPayPwd}).then((function(e){200==e.data.code?(uni.showToast({title:"密码重置成功",icon:"none"}),t.goBack(1)):uni.showToast({title:e.data.message,icon:"none"})}))}}});e.default=o},"9a4b":function(t,e,n){"use strict";n.r(e);var a=n("a08d"),i=n("05d1");for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("19c0");var s,d=n("f0c5"),c=Object(d["a"])(i["default"],a["b"],a["c"],!1,null,"bfc2de74",null,!1,a["a"],s);e["default"]=c.exports},a057:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={checkPassword:function(t){return!(!this.isDiffStr(t)||!/^(?=.*[0-9].*)(?=.*[a-z].*)(?=.*[A-Z].*).{8,20}$/.test(t))},isDiffStr:function(t){return!!/^([a-zA-Z0-9]|[@#!_~\-\$\*]){0,20}$/.test(t)},checkPwdIntensity:function(t){return this.checkPassword(t)?t.length>=8&&t.length<=10?/[@#!$*_~-]/im.test(t)?"2":"1":t.length>=11&&t.length<=13?/[@#!$*_~-]/im.test(t)?"3":"2":t.length>=14&&t.length<=20?"3":void 0:"0"}};e.default=a},a08d:function(t,e,n){"use strict";var a;n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"page commonPageTitle"},[n("v-uni-view",{staticClass:"collectTitle"},[t.nextFlag?t._e():n("v-uni-view",{staticClass:"goBackBtn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goBack(1)}}}),t.nextFlag?n("v-uni-view",{staticClass:"cancel",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goBack(1)}}},[t._v("取消")]):t._e(),n("v-uni-view",{staticClass:"title"},[t._v("修改支付密码")])],1),t.nextFlag?t._e():n("v-uni-view",{staticClass:"editBox"},[n("v-uni-view",[t._v("本次操作需要短信确认")]),n("v-uni-view",[t._v("验证码将发送至手机"+t._s(t.userInfo.hiddenTelephone))]),n("v-uni-view",{staticClass:"setPwdCde"},[n("v-uni-input",{attrs:{type:"text",placeholderClass:"placeholder",placeholder:"请输入验证码"},model:{value:t.params.captcha,callback:function(e){t.$set(t.params,"captcha",e)},expression:"params.captcha"}}),t.countdown.count?t._e():n("v-uni-view",{staticClass:"sendCode",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.captcha.apply(void 0,arguments)}}},[t._v("获取验证码")]),t.countdown.count?n("v-uni-view",{staticClass:"countDown"},[t._v(t._s(t.countdown.count)+"秒后重新获取")]):t._e()],1),n("v-uni-view",{staticClass:"nextBtn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.verifyCaptcha.apply(void 0,arguments)}}},[t._v("下一步")])],1),1==t.nextFlag?n("v-uni-view",{staticClass:"surePswBox"},[n("v-uni-view",{staticClass:"verification"},[t._v("输入当前支付密码，以验证身份")]),n("v-uni-view",{staticClass:"passwordBox"},[t._l(6,(function(e,a){return n("v-uni-view",{key:a,staticClass:"everyPswBox"},[a<=(t.payPwd?t.payPwd.length-1:-1)?n("v-uni-text",[t._v("*")]):t._e()],1)})),n("v-uni-input",{attrs:{type:"number",maxlength:"6"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.valPayPwd.apply(void 0,arguments)}},model:{value:t.payPwd,callback:function(e){t.payPwd=e},expression:"payPwd"}})],2)],1):t._e(),2==t.nextFlag?n("v-uni-view",{staticClass:"surePswBox"},[n("v-uni-view",{staticClass:"verification"},[t._v("设置新支付密码，用于提现验证")]),n("v-uni-view",{staticClass:"passwordBox"},[t._l(6,(function(e,a){return n("v-uni-view",{key:a,staticClass:"everyPswBox"},[a<=(t.newPayPwd?t.newPayPwd.length-1:-1)?n("v-uni-text",[t._v("*")]):t._e()],1)})),n("v-uni-input",{attrs:{type:"number",maxlength:"6"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.newPayPwdChange.apply(void 0,arguments)}},model:{value:t.newPayPwd,callback:function(e){t.newPayPwd=e},expression:"newPayPwd"}})],2),n("v-uni-view",{staticClass:"pswHint"},[t._v("为了保护您的账号安全，支付密码和支付密码尽量不要相同")])],1):t._e(),3==t.nextFlag?n("v-uni-view",{staticClass:"surePswBox"},[n("v-uni-view",{staticClass:"verification"},[t._v("请再次确认支付密码")]),n("v-uni-view",{staticClass:"passwordBox"},[t._l(6,(function(e,a){return n("v-uni-view",{key:a,staticClass:"everyPswBox"},[a<=(t.aginPayPwd?t.aginPayPwd.length-1:-1)?n("v-uni-text",[t._v("*")]):t._e()],1)})),n("v-uni-input",{attrs:{type:"number",maxlength:"6"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.aginPayPwdChange.apply(void 0,arguments)}},model:{value:t.aginPayPwd,callback:function(e){t.aginPayPwd=e},expression:"aginPayPwd"}})],2),n("v-uni-view",{staticClass:"submitBtn",class:t.aginPayPwd.length<6?"disabled":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.resetPayPwd.apply(void 0,arguments)}}},[t._v("完成")])],1):t._e()],1)},o=[]},b6dd:function(t,e,n){var a=n("4bad");e=a(!1),e.push([t.i,".commonPageTitle[data-v-bfc2de74]{\npadding-top:%?88?%\n}.collectTitle[data-v-bfc2de74]{border-bottom:%?1?% solid #e6e6e6}.cancel[data-v-bfc2de74]{width:%?88?%;height:%?88?%;text-align:center;line-height:%?88?%}.editBox[data-v-bfc2de74]{width:100%;padding:%?112?% %?64?% 0;color:#333}.setPwdCde[data-v-bfc2de74]{width:100%;height:%?90?%;border-bottom:%?1?% solid #eee;display:-webkit-box;display:-webkit-flex;display:flex;margin-top:%?48?%}.setPwdCde uni-input[data-v-bfc2de74]{-webkit-box-flex:1;-webkit-flex:1;flex:1;height:100%;margin-right:%?22?%;line-height:%?90?%}.sendCode[data-v-bfc2de74]{width:%?160?%;text-align:right;font-size:%?30?%;line-height:%?88?%}.nextBtn[data-v-bfc2de74],.complete[data-v-bfc2de74]{width:100%;height:%?88?%;background:#ff1558;line-height:%?88?%;color:#fff;border-radius:%?100?%;margin-top:%?112?%;font-size:%?32?%;text-align:center}.countDown[data-v-bfc2de74]{width:%?210?%;font-size:%?28?%;line-height:%?88?%}.surePswBox[data-v-bfc2de74]{padding:%?100?% %?50?%}.verification[data-v-bfc2de74]{width:100%;font-size:%?36?%;color:#333;text-align:center;margin-bottom:%?94?%}.passwordBox[data-v-bfc2de74]{width:100%;height:%?100?%;display:-webkit-box;display:-webkit-flex;display:flex;line-height:%?100?%;position:relative}.everyPswBox[data-v-bfc2de74]{width:16%;margin-right:%?10?%;width:%?100?%;height:%?100?%;text-align:center;line-height:%?100?%;border:%?1?% solid #dbdbdb;color:#333;border-radius:%?16?%}.passwordBox uni-input[data-v-bfc2de74]{position:absolute;width:100%;height:%?100?%;color:#fff;font-size:0;opacity:.01}.pswHint[data-v-bfc2de74]{width:100%;text-align:center;font-size:%?24?%;color:#787878;margin-top:%?31?%}.submitBtn[data-v-bfc2de74]{width:100%;height:%?88?%;background-color:#ff1558;color:#fff;border-radius:%?100?%;text-align:center;line-height:%?88?%;font-size:%?32?%;margin-top:%?170?%}.submitBtn.disabled[data-v-bfc2de74]{background-color:#d8d8d8}",""]),t.exports=e},e64c:function(t,e,n){var a=n("b6dd");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("7a60f35c",a,!0,{sourceMap:!1,shadowMode:!1})}}]);
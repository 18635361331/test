(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-giftCardGoods-index"],{3163:function(a,e,t){var i=t("4bad");e=i(!1),e.push([a.i,".giftCardGoods[data-v-110ba6d4]{\npadding-top:%?88?%\n}.searchbox[data-v-110ba6d4]{width:100%;height:%?88?%;background:#fff;display:-webkit-box;display:-webkit-flex;display:flex}.goBack[data-v-110ba6d4]{width:%?80?%;height:%?88?%;background:url(http://beifa-mall.oss-cn-shanghai.aliyuncs.com/appletsImages/page_1@2x.png) no-repeat 50%;background-size:%?16?% %?28?%}.searchInput[data-v-110ba6d4]{width:calc(100% - %?168?%);height:%?60?%;margin-top:%?14?%;position:relative;border-radius:%?54?%;background:#f5f5f5;display:-webkit-box;display:-webkit-flex;display:flex}.searchInput.active[data-v-110ba6d4]{width:calc(100% - %?60?%);margin-left:%?20?%}.searchInput .inputBox[data-v-110ba6d4]{width:calc(100% - %?120?%);height:100%;font-size:%?24?%;line-height:%?60?%}.searchIcon[data-v-110ba6d4]{width:%?60?%;height:%?60?%;margin-left:%?24?%;background:url(http://beifa-mall.oss-cn-shanghai.aliyuncs.com/appletsImages/search@2x.png) no-repeat 50%;background-size:%?28?% %?30?%}.clearSearch[data-v-110ba6d4]{width:%?74?%;height:%?60?%;background:url(http://beifa-mall.oss-cn-shanghai.aliyuncs.com/appletsImages/group_2@2x.png) no-repeat 50%;background-size:%?26?% %?26?%}.typeSwitch[data-v-110ba6d4]{width:%?88?%;height:%?88?%;background:url(http://beifa-mall.oss-cn-shanghai.aliyuncs.com/appletsImages/class@2x.png) no-repeat 50%;background-size:%?46?% %?46?%}.typeSwitch.type[data-v-110ba6d4]{background:url(http://beifa-mall.oss-cn-shanghai.aliyuncs.com/appletsImages/icon_list@2x.png) no-repeat 50%;background-size:%?46?% %?46?%}.priceSort[data-v-110ba6d4]{width:100}.screen uni-text[data-v-110ba6d4]{display:inline-block;width:%?16?%;height:%?18?%;background:url(http://beifa-mall.oss-cn-shanghai.aliyuncs.com/appletsImages/fill_1@2x.png) no-repeat 50%;background-size:%?16?% %?18?%}.searchCondition[data-v-110ba6d4]{width:100%;height:%?88?%;display:-webkit-box;display:-webkit-flex;display:flex}.everySort[data-v-110ba6d4]{width:25%;text-align:center;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.everySort uni-text[data-v-110ba6d4]{margin-left:%?8?%}.priceSort uni-text[data-v-110ba6d4]{display:inline-block;width:%?10?%;height:%?16?%;background:url(http://beifa-mall.oss-cn-shanghai.aliyuncs.com/appletsImages/group_7copy5@2x.png) no-repeat 50%;background-size:%?10?% %?16?%}.priceSort.active uni-text[data-v-110ba6d4]{background:url(http://beifa-mall.oss-cn-shanghai.aliyuncs.com/appletsImages/path@2x.png) no-repeat 50%;-webkit-transform:rotate(180deg);transform:rotate(180deg);background-size:%?10?% %?16?%}.priceSort.active uni-text.active[data-v-110ba6d4]{background:url(http://beifa-mall.oss-cn-shanghai.aliyuncs.com/appletsImages/path@2x.png) no-repeat 50%;background-size:%?10?% %?16?%;-webkit-transform:rotate(0deg);transform:rotate(0deg)}.everySort.active[data-v-110ba6d4]{font-size:%?40?%;font-weight:700;-webkit-transition:all .2s;transition:all .2s}.cardName[data-v-110ba6d4]{width:100%;height:%?80?%;line-height:%?80?%;font-size:%?28?%;text-align:center;background-color:#fff6e1;color:#ff7e18;padding:0 %?36?%}.scrollViewGoods[data-v-110ba6d4]{height:calc(100vh - %?256?%);\nheight:calc(100vh - %?344?%);\nbackground:#f5f5f5}.drawerBox[data-v-110ba6d4]{position:relative}.drawerPrice[data-v-110ba6d4]{width:100%;padding:%?60?% 0 %?40?% %?28?%;font-size:%?34?%;line-height:%?30?%;color:#000;font-weight:700}.drawerInput[data-v-110ba6d4]{width:100%;padding:0 %?30?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.drawerLine[data-v-110ba6d4]{width:%?30?%;height:%?2?%;background:#787878;margin-top:%?30?%}.drawerInput uni-input[data-v-110ba6d4]{display:inline-block;width:%?250?%;padding:0 %?24?%;height:%?60?%;border-radius:%?100?%;background:#f5f5f5;text-align:center;line-height:%?60?%}.drawerBtn[data-v-110ba6d4]{width:100%;height:%?88?%;position:absolute;bottom:0;left:0;border-top:1px solid #e6e6e6;display:-webkit-box;display:-webkit-flex;display:flex}.drawerBtn uni-view[data-v-110ba6d4]{width:50%;text-align:center;line-height:%?88?%}.sureBtn[data-v-110ba6d4]{background:#ff1558;color:#fff}.notGoods[data-v-110ba6d4]{margin:0 auto;width:100%;margin-top:%?100?%;text-align:center}.notGoods uni-image[data-v-110ba6d4]{width:%?300?%}.notGoods uni-view[data-v-110ba6d4]{width:80%;font-size:%?32?%;color:#999;line-height:%?54?%;margin:%?30?% auto}",""]),a.exports=e},"5fe3":function(a,e,t){var i=t("3163");"string"===typeof i&&(i=[[a.i,i,""]]),i.locals&&(a.exports=i.locals);var s=t("4f06").default;s("f6aaee1a",i,!0,{sourceMap:!1,shadowMode:!1})},6242:function(a,e,t){"use strict";t.d(e,"b",(function(){return s})),t.d(e,"c",(function(){return r})),t.d(e,"a",(function(){return i}));var i={uniDrawer:t("6e16").default},s=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("v-uni-view",{staticClass:"page giftCardGoods"},[t("defaultTitle",{attrs:{dto:a.defaultTitleDto}}),t("v-uni-view",{staticClass:"searchbox"},[t("v-uni-view",{staticClass:"searchInput active"},[t("v-uni-view",{staticClass:"searchIcon"}),t("v-uni-view",{staticClass:"inputBox",on:{click:function(e){arguments[0]=e=a.$handleEvent(e),a.goToSearch.apply(void 0,arguments)}}},[a._v(a._s(a.searchValue?a.searchValue:"在礼卡适用商品中搜索"))]),t("v-uni-view",{staticClass:"clearSearch",on:{click:function(e){arguments[0]=e=a.$handleEvent(e),a.searchValue="",a.goToSearch()}}})],1),t("v-uni-view",{staticClass:"typeSwitch",class:a.typeSwitch?"type":"",on:{click:function(e){arguments[0]=e=a.$handleEvent(e),a.typeSwitch=!a.typeSwitch}}})],1),t("v-uni-view",{staticClass:"searchCondition"},[t("v-uni-view",{staticClass:"everySort",class:""==a.searchParams.orderBy?"active":"",on:{click:function(e){arguments[0]=e=a.$handleEvent(e),a.searchParams.orderBy="",a.searchParams.order="desc",a.seachReast()}}},[a._v("全部")]),t("v-uni-view",{staticClass:"everySort",class:"sales"==a.searchParams.orderBy?"active":"",on:{click:function(e){arguments[0]=e=a.$handleEvent(e),a.searchParams.orderBy="sales",a.searchParams.order="desc",a.seachReast()}}},[a._v("销量")]),t("v-uni-view",{staticClass:"everySort",class:"newProduct"==a.searchParams.orderBy?"active":"",on:{click:function(e){arguments[0]=e=a.$handleEvent(e),a.searchParams.orderBy="newProduct",a.searchParams.order="desc",a.seachReast()}}},[a._v("新品")]),t("v-uni-view",{staticClass:"everySort priceSort",class:"price"==a.searchParams.orderBy?"active":"",on:{click:function(e){arguments[0]=e=a.$handleEvent(e),a.searchParams.orderBy="price",a.searchParams.order="desc"==a.searchParams.order?"asc":"desc",a.seachReast()}}},[a._v("价格"),t("v-uni-text",{class:"desc"==a.searchParams.order?"active":""})],1),t("v-uni-view",{staticClass:"everySort screen",on:{click:function(e){arguments[0]=e=a.$handleEvent(e),a.openUniDrawer.apply(void 0,arguments)}}},[a._v("筛选"),t("v-uni-text")],1)],1),t("v-uni-view",{staticClass:"cardName ellipsis-one"},[a._v("以下商品可使用 "+a._s(a.cardName)+" 礼卡")]),a.goodsInfo.records.length?t("v-uni-scroll-view",{staticClass:"scrollViewGoods",attrs:{"scroll-top":a.scrollTop,"scroll-y":"true","lower-threshold":"150"},on:{scroll:function(e){arguments[0]=e=a.$handleEvent(e),a.scroll.apply(void 0,arguments)},scrolltolower:function(e){arguments[0]=e=a.$handleEvent(e),a.scrolltolower.apply(void 0,arguments)}}},[a.typeSwitch?a._e():t("singleGoods",{attrs:{goodsList:a.goodsInfo.records}}),a.typeSwitch?t("biserialGoods",{attrs:{goodsList:a.goodsInfo.records}}):a._e(),a.goodsInfo.totalPage<=a.pageInfo.pageNo?t("footNoMore"):a._e()],1):t("v-uni-view",{staticClass:"notGoods"},[t("v-uni-image",{attrs:{src:"http://beifa-mall.oss-cn-shanghai.aliyuncs.com/appletsImages/footprint_none@2x.png",mode:"widthFix"}}),t("v-uni-view",[a._v("没有找到相关商品，换个搜索词试试～")])],1),t("uni-drawer",{ref:"uniDrawer",attrs:{width:300,mode:"right"}},[t("v-uni-view",{staticClass:"drawerPrice"},[a._v("价格区间")]),t("v-uni-view",{staticClass:"drawerInput"},[t("v-uni-input",{attrs:{type:"number",placeholder:"低价格",placeholderClass:"placeholder"},model:{value:a.searchParams.priceRangeLeft,callback:function(e){a.$set(a.searchParams,"priceRangeLeft",e)},expression:"searchParams.priceRangeLeft"}}),t("v-uni-view",{staticClass:"drawerLine"}),t("v-uni-input",{attrs:{type:"number",placeholder:"高价格",placeholderClass:"placeholder"},model:{value:a.searchParams.priceRangeRight,callback:function(e){a.$set(a.searchParams,"priceRangeRight",e)},expression:"searchParams.priceRangeRight"}})],1),t("v-uni-view",{staticClass:"drawerBtn"},[t("v-uni-view",{staticClass:"resetBtn",on:{click:function(e){arguments[0]=e=a.$handleEvent(e),a.cancelPriceSearch.apply(void 0,arguments)}}},[a._v("重置")]),t("v-uni-view",{staticClass:"sureBtn",on:{click:function(e){arguments[0]=e=a.$handleEvent(e),a.sureSearch.apply(void 0,arguments)}}},[a._v("确定")])],1)],1)],1)},r=[]},"74e7":function(a,e,t){"use strict";var i=t("4ea4");t("99af"),t("a9e3"),t("ac1f"),t("5319"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=i(t("5530")),r=i(t("92c6")),o=i(t("49e2")),n=i(t("0e99")),c=i(t("1fd4")),d={data:function(){return{typeSwitch:!0,searchParams:{frontCategoryId:"",order:"desc",orderBy:"",brandId:"",priceRangeLeft:"",priceRangeRight:"",param:""},searchValue:"",pageInfo:{pageNo:1,pageSize:6},goodsInfo:{totalPage:"",records:[]},scrollTop:0,scrollOldTop:0,defaultTitleDto:{title:"礼卡可用商品"},cardName:""}},onLoad:function(){for(var a in this.searchParams)this.searchParams[a]=this.$Route.query[a]?this.$Route.query[a]:"";this.searchValue=this.$Route.query.searchValue?decodeURIComponent(this.$Route.query.searchValue):"",this.searchParams.order="desc",this.searchCustom()},methods:{searchCustom:function(a){var e=this;a||uni.showLoading({title:"加载中..."}),r.default.getCardItemList(this.$Route.query.batchId,(0,s.default)((0,s.default)({},this.searchParams),this.pageInfo)).then((function(t){if(uni.hideLoading(),200==t.data.code){for(var i=0;i<t.data.data.records.length;i++)t.data.data.records[i].unpromotionMinPrice=Number(t.data.data.records[i].defaultPrice);a?(e.goodsInfo.records=e.goodsInfo.records.concat(t.data.data.records),e.goodsInfo.totalPage=t.data.data.totalPage):e.goodsInfo=t.data.data}else uni.showToast({title:t.data.message,icon:"none"})}))},openUniDrawer:function(){this.$refs.uniDrawer.open()},scrolltolower:function(){this.pageInfo.pageNo>=this.goodsInfo.totalPage||(this.pageInfo.pageNo++,this.searchCustom(!0))},scroll:function(a){this.scrollOldTop=a.detail.scrollTop},cancelPriceSearch:function(){this.searchParams.priceRangeLeft="",this.searchParams.priceRangeRight="",this.seachReast()},sureSearch:function(){if(Number(this.searchParams.priceRangeLeft)>Number(this.searchParams.priceRangeRight)){var a=this.searchParams.priceRangeLeft;this.searchParams.priceRangeLeft=this.searchParams.priceRangeRight,this.searchParams.priceRangeRight=a}this.$refs.uniDrawer.close(),this.searchCustom()},seachReast:function(){var a=this;this.pageInfo.pageNo=1,this.scrollTop=this.scrollOldTop,this.$nextTick((function(){a.scrollTop=0,a.searchCustom()}))},goToSearch:function(){this.$Router.replace({path:"/pages/searchCardGoods/index",query:{batchId:this.$Route.query.batchId,cardName:this.$Route.query.cardName}})}},components:{singleGoods:o.default,biserialGoods:n.default,footNoMore:c.default},onShow:function(){this.zhuge.track("礼卡可用商品落地页"),this.cardName=this.$Route.query.cardName}};e.default=d},"954a":function(a,e,t){"use strict";t.r(e);var i=t("6242"),s=t("d89e");for(var r in s)["default"].indexOf(r)<0&&function(a){t.d(e,a,(function(){return s[a]}))}(r);t("e6b1");var o,n=t("f0c5"),c=Object(n["a"])(s["default"],i["b"],i["c"],!1,null,"110ba6d4",null,!1,i["a"],o);e["default"]=c.exports},d89e:function(a,e,t){"use strict";t.r(e);var i=t("74e7"),s=t.n(i);for(var r in i)["default"].indexOf(r)<0&&function(a){t.d(e,a,(function(){return i[a]}))}(r);e["default"]=s.a},e6b1:function(a,e,t){"use strict";var i=t("5fe3"),s=t.n(i);s.a}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-goodsList-index"],{2336:function(a,e,t){"use strict";var s=t("4ea4");t("99af"),t("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(t("986b")),i=s(t("49e2")),o=s(t("0e99")),n=s(t("1fd4")),c={data:function(){return{typeSwitch:!0,searchParams:{frontCategoryId:"",order:"desc",orderBy:"",brandId:"",priceRangeLeft:"",priceRangeRight:"",param:"",originWord:"",record:!0,customizeFlag:""},searchValue:"",pageInfo:{pageNo:1,pageSize:6},goodsInfo:{totalPage:"",records:[]},scrollTop:0,scrollOldTop:0,isWeiXinApplets:!1}},onLoad:function(){for(var a in this.searchParams)this.searchParams[a]=this.$Route.query[a]?this.$Route.query[a]:"";this.searchValue=this.$Route.query.searchValue?decodeURIComponent(this.$Route.query.searchValue):"",this.searchParams.order="desc",this.$Route.query.priceRangeLeft&&(this.searchParams.order="asc",this.searchParams.orderBy="price",this.searchParams.priceRangeRight=999999999,this.searchParams.customizeFlag=0),this.searchCustom()},methods:{searchCustom:function(a){var e=this;a||uni.showLoading({title:"加载中..."}),r.default.searchCustom(this.searchParams,this.pageInfo).then((function(t){if(uni.hideLoading(),200==t.data.code){for(var s=0;s<t.data.data.records.length;s++)t.data.data.records[s].unpromotionMinPrice=Number(t.data.data.records[s].defaultPrice);a?(e.goodsInfo.records=e.goodsInfo.records.concat(t.data.data.records),e.goodsInfo.totalPage=t.data.data.totalPage):e.goodsInfo=t.data.data}else uni.showToast({title:t.data.message,icon:"none"})}))},openUniDrawer:function(){this.$refs.uniDrawer.open()},scrolltolower:function(){this.pageInfo.pageNo>=this.goodsInfo.totalPage||(this.pageInfo.pageNo++,this.searchCustom(!0))},scroll:function(a){this.scrollOldTop=a.detail.scrollTop},cancelPriceSearch:function(){this.searchParams.priceRangeLeft="",this.searchParams.priceRangeRight="",this.seachReast()},sureSearch:function(){if(Number(this.searchParams.priceRangeLeft)>Number(this.searchParams.priceRangeRight)){var a=this.searchParams.priceRangeLeft;this.searchParams.priceRangeLeft=this.searchParams.priceRangeRight,this.searchParams.priceRangeRight=a}this.$refs.uniDrawer.close(),this.searchCustom()},seachReast:function(){var a=this;this.pageInfo.pageNo=1,this.scrollTop=this.scrollOldTop,this.$nextTick((function(){a.scrollTop=0,a.searchCustom()}))},goToSearch:function(){this.$Router.push({path:"/pages/search/index",query:{searchValue:this.searchValue}})}},components:{singleGoods:i.default,biserialGoods:o.default,footNoMore:n.default},onShow:function(){this.zhuge.track("商品落地页")}};e.default=c},"30fd":function(a,e,t){"use strict";t.r(e);var s=t("811d"),r=t("7a2f");for(var i in r)["default"].indexOf(i)<0&&function(a){t.d(e,a,(function(){return r[a]}))}(i);t("405d");var o,n=t("f0c5"),c=Object(n["a"])(r["default"],s["b"],s["c"],!1,null,"f798aad4",null,!1,s["a"],o);e["default"]=c.exports},"405d":function(a,e,t){"use strict";var s=t("6007"),r=t.n(s);r.a},6007:function(a,e,t){var s=t("9e2f");"string"===typeof s&&(s=[[a.i,s,""]]),s.locals&&(a.exports=s.locals);var r=t("4f06").default;r("2a96c088",s,!0,{sourceMap:!1,shadowMode:!1})},"7a2f":function(a,e,t){"use strict";t.r(e);var s=t("2336"),r=t.n(s);for(var i in s)["default"].indexOf(i)<0&&function(a){t.d(e,a,(function(){return s[a]}))}(i);e["default"]=r.a},"811d":function(a,e,t){"use strict";t.d(e,"b",(function(){return r})),t.d(e,"c",(function(){return i})),t.d(e,"a",(function(){return s}));var s={uniDrawer:t("6e16").default},r=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("v-uni-view",{staticClass:"page"},[t("v-uni-view",{staticClass:"searchbox"},[t("v-uni-view",{staticClass:"goBack",on:{click:function(e){arguments[0]=e=a.$handleEvent(e),a.goBack(1)}}}),t("v-uni-view",{staticClass:"searchInput",class:a.isWeiXinApplets?"active":""},[t("v-uni-view",{staticClass:"searchIcon"}),t("v-uni-view",{staticClass:"inputBox",on:{click:function(e){arguments[0]=e=a.$handleEvent(e),a.goToSearch.apply(void 0,arguments)}}},[a._v(a._s(a.searchValue?a.searchValue:"搜索您喜欢的"))]),t("v-uni-view",{staticClass:"clearSearch",on:{click:function(e){arguments[0]=e=a.$handleEvent(e),a.searchValue="",a.goToSearch()}}})],1),t("v-uni-view",{staticClass:"typeSwitch",class:a.typeSwitch?"type":"",on:{click:function(e){arguments[0]=e=a.$handleEvent(e),a.typeSwitch=!a.typeSwitch}}})],1),t("v-uni-view",{staticClass:"searchCondition"},[t("v-uni-view",{staticClass:"everySort",class:""==a.searchParams.orderBy?"active":"",on:{click:function(e){arguments[0]=e=a.$handleEvent(e),a.searchParams.orderBy="",a.searchParams.order="desc",a.seachReast()}}},[a._v("全部")]),t("v-uni-view",{staticClass:"everySort",class:"sales"==a.searchParams.orderBy?"active":"",on:{click:function(e){arguments[0]=e=a.$handleEvent(e),a.searchParams.orderBy="sales",a.searchParams.order="desc",a.seachReast()}}},[a._v("销量")]),t("v-uni-view",{staticClass:"everySort",class:"newProduct"==a.searchParams.orderBy?"active":"",on:{click:function(e){arguments[0]=e=a.$handleEvent(e),a.searchParams.orderBy="newProduct",a.searchParams.order="desc",a.seachReast()}}},[a._v("新品")]),t("v-uni-view",{staticClass:"everySort priceSort",class:"price"==a.searchParams.orderBy?"active":"",on:{click:function(e){arguments[0]=e=a.$handleEvent(e),a.searchParams.orderBy="price",a.searchParams.order="desc"==a.searchParams.order?"asc":"desc",a.seachReast()}}},[a._v("价格"),t("v-uni-text",{class:"desc"==a.searchParams.order?"active":""})],1),t("v-uni-view",{staticClass:"everySort screen",on:{click:function(e){arguments[0]=e=a.$handleEvent(e),a.openUniDrawer.apply(void 0,arguments)}}},[a._v("筛选"),t("v-uni-text")],1)],1),a.goodsInfo.records.length?t("v-uni-scroll-view",{staticClass:"scrollViewGoods",attrs:{"scroll-top":a.scrollTop,"scroll-y":"true","lower-threshold":"150"},on:{scroll:function(e){arguments[0]=e=a.$handleEvent(e),a.scroll.apply(void 0,arguments)},scrolltolower:function(e){arguments[0]=e=a.$handleEvent(e),a.scrolltolower.apply(void 0,arguments)}}},[a.typeSwitch?a._e():t("singleGoods",{attrs:{goodsList:a.goodsInfo.records}}),a.typeSwitch?t("biserialGoods",{attrs:{goodsList:a.goodsInfo.records}}):a._e(),a.goodsInfo.totalPage<=a.pageInfo.pageNo?t("footNoMore"):a._e()],1):t("v-uni-view",{staticClass:"notGoods"},[t("v-uni-image",{attrs:{src:"http://beifa-mall.oss-cn-shanghai.aliyuncs.com/appletsImages/footprint_none@2x.png",mode:"widthFix"}}),t("v-uni-view",[a._v("没有找到相关商品，换个搜索词试试～")])],1),t("uni-drawer",{ref:"uniDrawer",attrs:{width:300,mode:"right"}},[t("v-uni-view",{staticClass:"drawerPrice"},[a._v("价格区间")]),t("v-uni-view",{staticClass:"drawerInput"},[t("v-uni-input",{attrs:{type:"number",placeholder:"低价格",placeholderClass:"placeholder"},model:{value:a.searchParams.priceRangeLeft,callback:function(e){a.$set(a.searchParams,"priceRangeLeft",e)},expression:"searchParams.priceRangeLeft"}}),t("v-uni-view",{staticClass:"drawerLine"}),t("v-uni-input",{attrs:{type:"number",placeholder:"高价格",placeholderClass:"placeholder"},model:{value:a.searchParams.priceRangeRight,callback:function(e){a.$set(a.searchParams,"priceRangeRight",e)},expression:"searchParams.priceRangeRight"}})],1),t("v-uni-view",{staticClass:"drawerBtn"},[t("v-uni-view",{staticClass:"resetBtn",on:{click:function(e){arguments[0]=e=a.$handleEvent(e),a.cancelPriceSearch.apply(void 0,arguments)}}},[a._v("重置")]),t("v-uni-view",{staticClass:"sureBtn",on:{click:function(e){arguments[0]=e=a.$handleEvent(e),a.sureSearch.apply(void 0,arguments)}}},[a._v("确定")])],1)],1)],1)},i=[]},"986b":function(a,e,t){"use strict";var s=t("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(t("5530")),i=s(t("efb0")),o=s(t("b775")),n={searchCustom:function(a,e){return o.default.post(i.default.searchCustom,(0,r.default)((0,r.default)({},a),e))},historySearch:function(){return o.default.get(i.default.historySearch,{})},hotWords:function(){return o.default.get(i.default.hotWords,{})},linkWords:function(a){return o.default.post(i.default.linkWords,a)},delHistorySearch:function(){return o.default.delete(i.default.historySearch,{})},searchStore:function(a){return o.default.post(i.default.searchStore,a)},defaultWords:function(){return o.default.get(i.default.defaultWords,{})}};e.default=n},"9e2f":function(a,e,t){var s=t("4bad");e=s(!1),e.push([a.i,".searchbox[data-v-f798aad4]{width:100%;height:%?88?%;background:#fff;display:-webkit-box;display:-webkit-flex;display:flex}.goBack[data-v-f798aad4]{width:%?80?%;height:%?88?%;background:url(http://beifa-mall.oss-cn-shanghai.aliyuncs.com/appletsImages/page_1@2x.png) no-repeat 50%;background-size:%?16?% %?28?%}.searchInput[data-v-f798aad4]{width:calc(100% - %?168?%);height:%?60?%;margin-top:%?14?%;position:relative;border-radius:%?54?%;background:#f5f5f5;display:-webkit-box;display:-webkit-flex;display:flex}.searchInput.active[data-v-f798aad4]{width:calc(100% - %?60?%);margin-left:%?20?%}.searchInput .inputBox[data-v-f798aad4]{width:calc(100% - %?120?%);height:100%;font-size:%?24?%;line-height:%?60?%}.searchIcon[data-v-f798aad4]{width:%?60?%;height:%?60?%;margin-left:%?24?%;background:url(http://beifa-mall.oss-cn-shanghai.aliyuncs.com/appletsImages/search@2x.png) no-repeat 50%;background-size:%?28?% %?30?%}.clearSearch[data-v-f798aad4]{width:%?74?%;height:%?60?%;background:url(http://beifa-mall.oss-cn-shanghai.aliyuncs.com/appletsImages/group_2@2x.png) no-repeat 50%;background-size:%?26?% %?26?%}.typeSwitch[data-v-f798aad4]{width:%?88?%;height:%?88?%;background:url(http://beifa-mall.oss-cn-shanghai.aliyuncs.com/appletsImages/class@2x.png) no-repeat 50%;background-size:%?46?% %?46?%}.typeSwitch.type[data-v-f798aad4]{background:url(http://beifa-mall.oss-cn-shanghai.aliyuncs.com/appletsImages/icon_list@2x.png) no-repeat 50%;background-size:%?46?% %?46?%}.priceSort[data-v-f798aad4]{width:100}.screen uni-text[data-v-f798aad4]{display:inline-block;width:%?16?%;height:%?18?%;background:url(http://beifa-mall.oss-cn-shanghai.aliyuncs.com/appletsImages/fill_1@2x.png) no-repeat 50%;background-size:%?16?% %?18?%}.searchCondition[data-v-f798aad4]{width:100%;height:%?88?%;display:-webkit-box;display:-webkit-flex;display:flex}.everySort[data-v-f798aad4]{width:25%;text-align:center;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.everySort uni-text[data-v-f798aad4]{margin-left:%?8?%}.priceSort uni-text[data-v-f798aad4]{display:inline-block;width:%?10?%;height:%?16?%;background:url(http://beifa-mall.oss-cn-shanghai.aliyuncs.com/appletsImages/group_7copy5@2x.png) no-repeat 50%;background-size:%?10?% %?16?%}.priceSort.active uni-text[data-v-f798aad4]{background:url(http://beifa-mall.oss-cn-shanghai.aliyuncs.com/appletsImages/path@2x.png) no-repeat 50%;-webkit-transform:rotate(180deg);transform:rotate(180deg);background-size:%?10?% %?16?%}.priceSort.active uni-text.active[data-v-f798aad4]{background:url(http://beifa-mall.oss-cn-shanghai.aliyuncs.com/appletsImages/path@2x.png) no-repeat 50%;background-size:%?10?% %?16?%;-webkit-transform:rotate(0deg);transform:rotate(0deg)}.everySort.active[data-v-f798aad4]{font-size:%?40?%;font-weight:700;-webkit-transition:all .2s;transition:all .2s}.scrollViewGoods[data-v-f798aad4]{height:calc(100vh - %?176?%);background:#f5f5f5;padding-top:%?10?%}.drawerBox[data-v-f798aad4]{position:relative}.drawerPrice[data-v-f798aad4]{width:100%;padding:%?60?% 0 %?40?% %?28?%;font-size:%?34?%;line-height:%?30?%;color:#000;font-weight:700}.drawerInput[data-v-f798aad4]{width:100%;padding:0 %?30?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.drawerLine[data-v-f798aad4]{width:%?30?%;height:%?2?%;background:#787878;margin-top:%?30?%}.drawerInput uni-input[data-v-f798aad4]{display:inline-block;width:%?250?%;padding:0 %?24?%;height:%?60?%;border-radius:%?100?%;background:#f5f5f5;text-align:center;line-height:%?60?%}.drawerBtn[data-v-f798aad4]{width:100%;height:%?88?%;position:absolute;bottom:0;left:0;border-top:1px solid #e6e6e6;display:-webkit-box;display:-webkit-flex;display:flex}.drawerBtn uni-view[data-v-f798aad4]{width:50%;text-align:center;line-height:%?88?%}.sureBtn[data-v-f798aad4]{background:#ff1558;color:#fff}.notGoods[data-v-f798aad4]{margin:0 auto;width:100%;margin-top:%?100?%;text-align:center}.notGoods uni-image[data-v-f798aad4]{width:%?300?%}.notGoods uni-view[data-v-f798aad4]{width:80%;font-size:%?32?%;color:#999;line-height:%?54?%;margin:%?30?% auto}",""]),a.exports=e},efb0:function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s={searchCustom:"/search/custom/item",historySearch:"/search/custom/historySearch",hotWords:"/search/custom/hotWords",linkWords:"/search/custom/linkWords",searchStore:"/search/custom/store",defaultWords:"/search/custom/defaultWords"},r=s;e.default=r}}]);
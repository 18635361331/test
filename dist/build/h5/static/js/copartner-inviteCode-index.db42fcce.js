(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["copartner-inviteCode-index"],{"16c4":function(e,t,n){"use strict";n("c975"),n("ac1f"),n("5319"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{isScopedFlag:!1,authorizeFlag:!1}},mounted:function(){},methods:{previewImage:function(){if(this.shareImage.indexOf("http")>-1)uni.downloadFile({url:this.shareImage,success:function(e){200==e.statusCode&&uni.previewImage({urls:[e.tempFilePath],longPressActions:{itemList:["发送给朋友","保存图片","收藏"],success:function(e){},fail:function(e){}}})},fail:function(e){}});else{var e=this.shareImage.replace(/^data:image\/\w+;base64,/,""),t=wx.env.USER_DATA_PATH+"/hym_pay_qrcode.png";uni.getFileSystemManager().writeFile({filePath:t,data:e,encoding:"base64",success:function(e){uni.previewImage({urls:[t],longPressActions:{itemList:["发送给朋友","保存图片","收藏"],success:function(e){},fail:function(e){}}})},fail:function(e){}})}},previewDownLoad:function(){this.isScopedFlag=!1,this.getDownLoadScope()},getDownLoadScope:function(){var e=this;this.authorizeFlag?this.downloadFile():uni.authorize({scope:"scope.writePhotosAlbum",success:function(t){e.downloadFile()},fail:function(t){e.isScopedFlag||uni.showModal({title:"警告",content:"您点击了拒绝授权，将无法正常保存图片，点击确定重新获取授权",confirm:function(){e.getDownLoadScope()},cancel:function(){uni.showToast({title:"您点击了取消",icon:"none"})}}),e.isScopedFlag=!0}})},downloadFile:function(){if(this.shareImage.indexOf("http")>-1)uni.downloadFile({url:this.shareImage,success:function(e){200==e.statusCode?uni.saveImageToPhotosAlbum({filePath:e.tempFilePath,success:function(e){uni.showToast({title:"保存成功",icon:"none"})},fail:function(e){uni.showToast({title:"您取消了保存",icon:"none"})}}):uni.showToast({title:"临时文件生成失败",icon:"none"})}});else{var e=this.shareImage.replace(/^data:image\/\w+;base64,/,""),t=wx.env.USER_DATA_PATH+"/hym_pay_qrcode.png";uni.getFileSystemManager().writeFile({filePath:t,data:e,encoding:"base64",success:function(e){uni.saveImageToPhotosAlbum({filePath:t,success:function(e){uni.showToast({title:"保存成功",icon:"none"})},fail:function(e){uni.showToast({title:"临时文件生成失败",icon:"none"})}})},fail:function(e){uni.showToast({title:"临时文件生成失败",icon:"none"})}})}},uniGetSetting:function(){var e=this;uni.getSetting({success:function(t){t.authSetting["scope.writePhotosAlbum"],e.authorizeFlag=!1},fail:function(e){}})}}};t.default=i},"1e44":function(e,t,n){var i=n("4bad");t=i(!1),t.push([e.i,".commonPageTitle[data-v-79848f2d]{height:100vh;\npadding-top:%?88?%\n}.shareImg[data-v-79848f2d]{height:100%;margin:0 auto;display:block}.btnGroup[data-v-79848f2d]{width:100%;position:fixed;bottom:%?100?%;left:0;right:0;margin:auto;text-align:center;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.btnGroup uni-button[data-v-79848f2d]{width:%?330?%;font-size:%?28?%;font-weight:400;border-radius:%?36?%;height:%?70?%;line-height:%?70?%;margin:0 %?20?%}.postButton[data-v-79848f2d]{border:1px solid #fe325c;color:#fe325c;background:#fff}.shareButton[data-v-79848f2d]{background:#fe325c;color:#fff}",""]),e.exports=t},"22c4":function(e,t,n){"use strict";n.r(t);var i=n("b5ac"),a=n("8771");for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);n("9c7a");var s,c=n("f0c5"),u=Object(c["a"])(a["default"],i["b"],i["c"],!1,null,"79848f2d",null,!1,i["a"],s);t["default"]=u.exports},5721:function(e,t,n){var i=n("1e44");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("4f06").default;a("1c0f1b04",i,!0,{sourceMap:!1,shadowMode:!1})},8771:function(e,t,n){"use strict";n.r(t);var i=n("c4e9"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);t["default"]=a.a},"9c7a":function(e,t,n){"use strict";var i=n("5721"),a=n.n(i);a.a},b5ac:function(e,t,n){"use strict";var i;n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"page commonPageTitle"},[n("defaultTitle",{attrs:{dto:e.defaultTitleDto}}),n("v-uni-image",{staticClass:"shareImg",attrs:{src:e.shareImage,mode:"widthFix"}}),n("v-uni-view",{staticClass:"btnGroup"},[n("v-uni-button",{staticClass:"postButton",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.previewDownLoad.apply(void 0,arguments)}}},[e._v("保存邀请海报")]),n("v-uni-button",{staticClass:"shareButton",attrs:{type:"default","open-type":"share"}},[e._v("分享微信好友")])],1)],1)},o=[]},c4e9:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("16c4")),o=i(n("92c6")),s={mixins:[a.default],data:function(){return{imgBaseUrls:"",shareNumber:"",defaultTitleDto:{title:"邀请合伙人"},shareImage:""}},onShareAppMessage:function(){var e=JSON.parse(uni.getStorageSync("userInfo"));return{title:"["+(e.nickName?e.nickName:e.telephone)+"@你]快来成为文器库合伙人！！！",path:"/copartner/joinPartner/index?shareNumber="+this.shareNumber,imageUrl:"http://beifa-mall.oss-cn-shanghai.aliyuncs.com/appletsImages/sharePartner.png"}},methods:{generateInvitePoster:function(){var e=this;o.default.generateInvitePoster().then((function(t){200==t.data.code?e.shareImage=e.$config.imgBaseUrl+t.data.data:uni.showToast({title:t.data.message,icon:"none"})}))}},components:{},onShow:function(){this.zhuge.track("邀请合伙人-落地页"),this.shareNumber=uni.getStorageSync("shareNumber")?uni.getStorageSync("shareNumber"):"",this.imgBaseUrls=this.$config.imgBaseUrl,this.generateInvitePoster()}};t.default=s}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-seckillZone-index"],{"0a28":function(t,e,i){"use strict";var s;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return s}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"page commonPageTitle"},[i("defaultTitle",{attrs:{dto:t.defaultTitleDto}}),i("v-uni-scroll-view",{staticClass:"secKillCont",attrs:{"scroll-y":"true"}},[i("v-uni-view",{staticClass:"secKillContParent"},t._l(t.marketList,(function(e,s){return i("v-uni-view",{key:s,staticClass:"everyRowSeckill",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.seckilChange(e)}}},[i("v-uni-view",{staticClass:"everyRowTriangle"}),i("v-uni-text",[t._v(t._s(e.mainTitle))]),i("v-uni-text",{staticClass:"subTitle"},[t._v(t._s(e.subtitle))])],1)})),1)],1),i("v-uni-scroll-view",{staticClass:"scrollViewGoods",attrs:{"scroll-x":"true"}},[i("v-uni-view",{staticClass:"scrollBox"},t._l(t.seckillActivity.sessionList,(function(e,s){return i("v-uni-view",{key:s,staticClass:"everyRow",class:e.marketingSessionId==t.chooseItem.marketingSessionId?"active":"",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.sessionStartChange(e)}}},[i("v-uni-view",{staticClass:"top"},[t._v(t._s(t.$utils.formatDate(e.sessionStartTime,"hh:mm")))]),i("v-uni-view",{staticClass:"status"},[t._v(t._s(e.statusText))]),t.chooseItem.marketingSessionId==e.marketingSessionId?i("v-uni-view",{staticClass:"point"}):t._e()],1)})),1)],1),i("v-uni-view",{staticClass:"seckillImage"},[i("v-uni-view",{staticClass:"sessionsTitle"},[t._v(t._s(t.chooseItem.sessionMainTitle))]),i("v-uni-view",{staticClass:"sessionTime"},[t._v(t._s((new Date).getTime()<t.chooseItem.sessionStartTime?"距开始":"距结束")),i("v-uni-text",{staticClass:"timeText"}),i("v-uni-text",{staticClass:"timeBox"},[t._v(t._s(t.timeParams.hours))]),i("v-uni-text",{staticClass:"timeText"},[t._v(":")]),i("v-uni-text",{staticClass:"timeBox"},[t._v(t._s(t.timeParams.minute))]),i("v-uni-text",{staticClass:"timeText"},[t._v(":")]),i("v-uni-text",{staticClass:"timeBox"},[t._v(t._s(t.timeParams.seconds))])],1)],1),t.seckilGoodsList.records?i("v-uni-scroll-view",{staticClass:"goodsList",attrs:{"scroll-y":"true"},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.scrolltolower.apply(void 0,arguments)}}},t._l(t.seckilGoodsList.records,(function(e,s){return i("v-uni-view",{key:s,staticClass:"everyGoods",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goToGoodsDetails(e)}}},[i("v-uni-view",{staticClass:"goodsItemImage"},[i("v-uni-image",{attrs:{src:t.imgBaseUrls+e.itemImageUrl,mode:""}})],1),i("v-uni-view",{staticClass:"goodsItemInfo"},[i("v-uni-view",{staticClass:"goodItemTitle"},[t._v(t._s(e.itemName))]),e.salesVolumePercentage?i("v-uni-view",{staticClass:"progress"},[i("v-uni-view",{staticClass:"progressBox"},[i("v-uni-view",{staticClass:"progressChildren",style:{width:e.salesVolumePercentage+"%"}})],1),i("v-uni-view",{staticClass:"progressText"},[t._v("已售"+t._s(e.salesVolumePercentage)+"%")])],1):t._e(),i("v-uni-view",{staticClass:"goodsItemPrice"},[i("v-uni-text",{staticClass:"marketingPrice"},[t._v("￥"+t._s(e.minimumMarketingPrice))]),i("v-uni-text",{staticClass:"itemPrice"},[t._v("￥"+t._s(e.itemPrice))])],1),(new Date).getTime()<t.chooseItem.sessionStartTime?i("v-uni-view",{staticClass:"goodsItemBuyBtn remindMe"},[e.notificationFlag?i("v-uni-text",{on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.removeMarketingItemNotification(e)}}},[t._v("取消提醒")]):i("v-uni-text",{on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.addMarketingItemNotification(e)}}},[t._v("提醒我")])],1):i("v-uni-view",{staticClass:"goodsItemBuyBtn"},[e.salesVolumePercentage<100?i("v-uni-text",[t._v("去抢购")]):i("v-uni-text",[t._v("已抢完")])],1)],1)],1)})),1):t._e()],1)},n=[]},"23f5":function(t,e,i){var s=i("3764");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var a=i("4f06").default;a("819f1f2c",s,!0,{sourceMap:!1,shadowMode:!1})},3764:function(t,e,i){var s=i("4bad");e=s(!1),e.push([t.i,".commonPageTitle[data-v-9f083ccc]{\npadding-top:%?88?%;\nheight:100vh;background-color:#f4f4f4}.collectTitle[data-v-9f083ccc]{color:#fff;background-color:#172047}.secKillCont[data-v-9f083ccc]{width:100%;background-color:#172047;padding:%?24?%}.secKillContParent[data-v-9f083ccc]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:nowrap;flex-wrap:nowrap}.everyRowSeckill[data-v-9f083ccc]{width:%?678?%;height:%?60?%;position:relative;background-image:-webkit-linear-gradient(left,#ffdf8c,#f3ad69);background-image:linear-gradient(90deg,#ffdf8c,#f3ad69);display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border-radius:%?10?%}.everyRowTriangle[data-v-9f083ccc]{width:0;height:0;border:%?14?% solid transparent;position:absolute;bottom:0;left:0;right:0;margin:auto;border-bottom-color:#1f222d}.subTitle[data-v-9f083ccc]{font-size:%?22?%;color:#502105;margin-left:%?12?%}.scrollViewGoods[data-v-9f083ccc]{width:100%;height:%?120?%;white-space:nowrap;padding:0 %?42?%}.scrollBox[data-v-9f083ccc]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:nowrap;flex-wrap:nowrap}.everyRow[data-v-9f083ccc]{width:%?100?%;height:100%;color:#333;margin-right:%?40?%}.top[data-v-9f083ccc]{margin-top:%?11?%;font-size:%?40?%;line-height:%?56?%;text-align:center}.status[data-v-9f083ccc]{font-size:%?22?%;color:#999;margin-bottom:%?9?%;text-align:center}.point[data-v-9f083ccc]{width:%?8?%;height:%?8?%;border-radius:50%;background-color:#ff1558;margin:0 auto}.seckillImage[data-v-9f083ccc]{width:calc(100% - %?84?%);margin:0 auto;height:%?80?%;font-size:%?32?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;background:url(http://beifa-mall.oss-cn-shanghai.aliyuncs.com/appletsImages/home_seckill2@.png) no-repeat 50%;background-size:100% 100%;padding:0 %?24?%}.sessionTime[data-v-9f083ccc]{font-size:%?24?%;display:-webkit-box;display:-webkit-flex;display:flex}.timeBox[data-v-9f083ccc]{display:inline-block;width:%?36?%;height:%?36?%;border-radius:50%;background-color:#333;color:#fff;text-align:center;line-height:%?36?%;font-size:%?24?%}.timeText[data-v-9f083ccc]{margin:0 %?10?%}.goodsList[data-v-9f083ccc]{width:100%;height:calc(100% - %?340?%);background-color:#f4f4f4;padding:0 %?42?%}.everyGoods[data-v-9f083ccc]{margin-top:%?16?%;border-radius:%?16?%;background-color:#fff;display:-webkit-box;display:-webkit-flex;display:flex}.goodsItemImage[data-v-9f083ccc]{width:%?308?%;height:%?308?%;border-radius:%?16?%}.goodsItemImage uni-image[data-v-9f083ccc]{width:100%;height:100%}.goodsItemInfo[data-v-9f083ccc]{position:relative;padding:%?24?%;-webkit-box-flex:1;-webkit-flex:1;flex:1}.progress[data-v-9f083ccc]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:%?20?%;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;color:#666;margin-top:%?6?%;border-radius:%?6?%;overflow:hidden}.progressBox[data-v-9f083ccc]{width:%?222?%;height:%?6?%;background-color:#eee;position:relative}.progressChildren[data-v-9f083ccc]{position:absolute;top:0;left:0;height:100%;background-color:#ff1558}.goodsItemPrice[data-v-9f083ccc]{position:absolute;bottom:%?30?%}.marketingPrice[data-v-9f083ccc]{color:#ff1558}.itemPrice[data-v-9f083ccc]{margin-left:%?10?%;color:#999;font-size:%?22?%;text-decoration:line-through}.goodsItemBuyBtn[data-v-9f083ccc]{width:%?112?%;height:%?50?%;text-align:center;line-height:%?50?%;background-color:#ffdf8c;color:#381500;position:absolute;bottom:%?30?%;right:0;font-size:%?24?%;border-radius:%?100?% 0 0 %?100?%}.everyRow.active[data-v-9f083ccc]{color:#ff1558}.everyRow.active .status[data-v-9f083ccc]{color:#ff1558}.remindMe[data-v-9f083ccc]{background:-webkit-linear-gradient(right,#04c27a,#20e076);background:linear-gradient(270deg,#04c27a,#20e076);color:#fff}.moreGoods[data-v-9f083ccc]{margin-top:%?16?%;width:100%;height:%?88?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border-radius:%?16?%;margin-top:%?16?%;background-color:#fff}.moreGoods uni-text[data-v-9f083ccc]{font-size:%?24?%;margin-right:%?10?%}.arrowIcon[data-v-9f083ccc]{width:%?12?%;height:%?24?%;background:url(http://beifa-mall.oss-cn-shanghai.aliyuncs.com/appletsImages/seckill_more.png) no-repeat;background-size:100% 100%}",""]),t.exports=e},"688c":function(t,e,i){"use strict";var s=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a,n=s(i("ade3")),o=s(i("6d1a")),c=s(i("b775")),r=(a={marketingSessionItemFlag:function(t){return c.default.post(o.default.marketingSessionItemFlag+t,{})},nonDesignatedMarketing:function(){return c.default.post(o.default.nonDesignatedMarketing,{})},listSessionItems:function(t,e){return c.default.post(o.default.listSessionItems,{marketingSessionId:t,page:e})}},(0,n.default)(a,"marketingSessionItemFlag",(function(t){return c.default.post(o.default.marketingSessionItemFlag+t,{})})),(0,n.default)(a,"addMarketingItemNotification",(function(t){return c.default.post(o.default.addMarketingItemNotification,t)})),(0,n.default)(a,"removeMarketingItemNotification",(function(t){return c.default.post(o.default.removeMarketingItemNotification,t)})),(0,n.default)(a,"listMarketings",(function(){return c.default.post(o.default.listMarketings,{})})),(0,n.default)(a,"listMarketingSessionsByMarketingId",(function(t){return c.default.post(o.default.listMarketingSessionsByMarketingId+t,{})})),a);e.default=r},"6d1a":function(t,e,i){"use strict";var s=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a,n=s(i("ade3")),o=(a={marketingSessionItemFlag:"/marketing/consumer/skse/marketingSessionItemFlag/",nonDesignatedMarketing:"/marketing/consumer/skse/listMarketingSessions/nonDesignatedMarketing",listSessionItems:"/marketing/consumer/skse/listSessionItems"},(0,n.default)(a,"marketingSessionItemFlag","/marketing/consumer/skse/marketingSessionItemFlag/"),(0,n.default)(a,"addMarketingItemNotification","/marketing/consumer/skse/addMarketingItemNotification"),(0,n.default)(a,"removeMarketingItemNotification","/marketing/consumer/skse/removeMarketingItemNotification"),(0,n.default)(a,"listMarketings","/marketing/consumer/skse/listMarketings"),(0,n.default)(a,"listMarketingSessionsByMarketingId","/marketing/consumer/skse/listMarketingSessionsByMarketingId/"),a),c=o;e.default=c},"8c06":function(t,e,i){"use strict";var s=i("23f5"),a=i.n(s);a.a},b6c5:function(t,e,i){"use strict";i.r(e);var s=i("0a28"),a=i("fbde");for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n);i("8c06");var o,c=i("f0c5"),r=Object(c["a"])(a["default"],s["b"],s["c"],!1,null,"9f083ccc",null,!1,s["a"],o);e["default"]=r.exports},c90c:function(t,e,i){"use strict";var s=i("4ea4");i("99af"),i("e25e"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=s(i("688c")),n={data:function(){return{marketList:[],todayTime:new Date((new Date).toLocaleDateString()).getTime()+864e5-1,timeParams:{hours:"",minute:"",seconds:""},chooseItem:{},chooseItemActivity:{},seckillActivity:{},seckilGoodsList:{},imgBaseUrls:"",pageInfo:{pageNo:1,pageSize:10},defaultTitleDto:{title:"秒杀专区",bg:"starShopBackWrite.png"},markInterval:""}},methods:{listMarketings:function(){var t=this;a.default.listMarketings().then((function(e){200==e.data.code?(t.marketList=e.data.data,t.chooseItemActivity=e.data.data[0],t.listMarketingSessionsByMarketingId()):uni.showToast({title:e.data.message,icon:"none"})}))},seckilChange:function(t){this.pageInfo.pageNo=1,this.chooseItemActivity=t,this.listMarketingSessionsByMarketingId()},listMarketingSessionsByMarketingId:function(){var t=this;a.default.listMarketingSessionsByMarketingId(this.chooseItemActivity.marketingId).then((function(e){if(200==e.data.code){t.seckillActivity=e.data.data,t.chooseItem=t.seckillActivity.sessionList[0];for(var i=0;i<t.seckillActivity.sessionList.length;i++){var s=t.seckillActivity.sessionList[i].sessionStartTime,a=t.seckillActivity.sessionList[i].sessionEndTime;s<t.todayTime?a>(new Date).getTime()?t.$set(t.seckillActivity.sessionList[i],"statusText","抢购中"):t.$set(t.seckillActivity.sessionList[i],"statusText","即将开抢"):s<t.todayTime+864e5?t.$set(t.seckillActivity.sessionList[i],"statusText","明日开抢"):t.$set(t.seckillActivity.sessionList[i],"statusText","后天开抢")}t.judgeTime(),t.markInterval||(t.markInterval=setInterval((function(){t.judgeTime()}),1e3)),t.listSessionItems()}else uni.showToast({title:e.data.message,icon:"none"})}))},listSessionItems:function(t){var e=this;a.default.listSessionItems(this.chooseItem.marketingSessionId,this.pageInfo).then((function(i){200==i.data.code?i.data.data?t?(e.seckilGoodsList.records=e.seckilGoodsList.records.concat(i.data.data.records),e.seckilGoodsList.totalPage=i.data.data.totalPage):e.seckilGoodsList=i.data.data.itemPage:e.seckilGoodsList={}:uni.showToast({title:i.data.message,icon:"none"})}))},sessionStartChange:function(t){this.chooseItem=t,this.pageInfo.pageNo=1,this.judgeTime(),this.listSessionItems()},addMarketingItemNotification:function(t){var e={itemId:t.itemId,marketingId:this.seckillActivity.marketingId,marketingSessionId:this.chooseItem.marketingSessionId};a.default.addMarketingItemNotification(e).then((function(e){200==e.data.code?(uni.showToast({title:"设置成功",icon:"none"}),t.notificationFlag=1):uni.showToast({title:e.data.message,icon:"none"})}))},removeMarketingItemNotification:function(t){var e={itemId:t.itemId,marketingId:this.seckillActivity.marketingId,marketingSessionId:this.chooseItem.marketingSessionId};a.default.removeMarketingItemNotification(e).then((function(e){200==e.data.code?(uni.showToast({title:"取消成功",icon:"none"}),t.notificationFlag=0):uni.showToast({title:e.data.message,icon:"none"})}))},goToGoodsDetails:function(t){this.$Router.push({path:"/pages/goodsDetails/index",query:{goodsId:t.itemId,promotionId:this.seckillActivity.marketingId}})},judgeTime:function(){(new Date).getTime()<this.chooseItem.sessionStartTime?this.judgeTimeAccurate(this.chooseItem.sessionStartTime-(new Date).getTime()):this.judgeTimeAccurate(this.chooseItem.sessionEndTime-(new Date).getTime())},judgeTimeAccurate:function(t){this.timeParams.hours=parseInt(t/36e5,10)<10?"0"+parseInt(t/36e5,10):parseInt(t/36e5,10),this.timeParams.minute=parseInt(t/1e3/60%60,10)<10?"0"+parseInt(t/1e3/60%60,10):parseInt(t/1e3/60%60,10),this.timeParams.seconds=parseInt(t/1e3%60)<10?"0"+parseInt(t/1e3%60,10):parseInt(t/1e3%60)},scrolltolower:function(){this.pageInfo.pageNo<this.seckilGoodsList.totalPage&&(this.pageInfo.pageNo++,this.listSessionItems(!0))},clearIntervalTime:function(){this.markInterval&&(clearInterval(this.markInterval),this.markInterval=!1)}},mounted:function(){this.imgBaseUrls=this.$config.imgBaseUrl},onShow:function(){this.zhuge.track("秒杀专区-落地页"),this.listMarketings()},onHide:function(){this.clearIntervalTime()},onUnload:function(){this.clearIntervalTime()}};e.default=n},fbde:function(t,e,i){"use strict";i.r(e);var s=i("c90c"),a=i.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return s[t]}))}(n);e["default"]=a.a}}]);
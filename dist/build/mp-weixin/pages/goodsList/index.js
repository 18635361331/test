(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/goodsList/index"],{"30fd":function(e,a,r){"use strict";r.r(a);var t=r("7ebd"),o=r("7a2f");for(var s in o)["default"].indexOf(s)<0&&function(e){r.d(a,e,(function(){return o[e]}))}(s);r("cbf4");var n,c=r("f0c5"),i=Object(c["a"])(o["default"],t["b"],t["c"],!1,null,"391be700",null,!1,t["a"],n);a["default"]=i.exports},"7a2f":function(e,a,r){"use strict";r.r(a);var t=r("e54d"),o=r.n(t);for(var s in t)["default"].indexOf(s)<0&&function(e){r.d(a,e,(function(){return t[e]}))}(s);a["default"]=o.a},"7ebd":function(e,a,r){"use strict";r.d(a,"b",(function(){return o})),r.d(a,"c",(function(){return s})),r.d(a,"a",(function(){return t}));var t={uniDrawer:function(){return r.e("components/uni-drawer/uni-drawer").then(r.bind(null,"6e16"))}},o=function(){var e=this,a=e.$createElement;e._self._c;e._isMounted||(e.e0=function(a){e.searchValue="",e.goToSearch()},e.e1=function(a){e.typeSwitch=!e.typeSwitch},e.e2=function(a){e.searchParams.orderBy="",e.searchParams.order="desc",e.seachReast()},e.e3=function(a){e.searchParams.orderBy="sales",e.searchParams.order="desc",e.seachReast()},e.e4=function(a){e.searchParams.orderBy="newProduct",e.searchParams.order="desc",e.seachReast()},e.e5=function(a){e.searchParams.orderBy="price",e.searchParams.order="desc"==e.searchParams.order?"asc":"desc",e.seachReast()})},s=[]},bd0b:function(e,a,r){},c07c:function(e,a,r){"use strict";(function(e){r("6cdc");t(r("66fd"));var a=t(r("30fd"));function t(e){return e&&e.__esModule?e:{default:e}}e(a.default)}).call(this,r("543d")["createPage"])},cbf4:function(e,a,r){"use strict";var t=r("bd0b"),o=r.n(t);o.a},e54d:function(e,a,r){"use strict";(function(e){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var t=o(r("986b"));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(){Promise.all([r.e("common/vendor"),r.e("renovation/singleGoods/index")]).then(function(){return resolve(r("49e2"))}.bind(null,r)).catch(r.oe)},n=function(){Promise.all([r.e("common/vendor"),r.e("renovation/biserialGoods/index")]).then(function(){return resolve(r("0e99"))}.bind(null,r)).catch(r.oe)},c=function(){r.e("components/footNoMore/index").then(function(){return resolve(r("1fd4"))}.bind(null,r)).catch(r.oe)},i={data:function(){return{typeSwitch:!0,searchParams:{frontCategoryId:"",order:"desc",orderBy:"",brandId:"",priceRangeLeft:"",priceRangeRight:"",param:"",originWord:"",record:!0,customizeFlag:""},searchValue:"",pageInfo:{pageNo:1,pageSize:6},goodsInfo:{totalPage:"",records:[]},scrollTop:0,scrollOldTop:0,isWeiXinApplets:!1}},onLoad:function(){for(var e in this.searchParams)this.searchParams[e]=this.$Route.query[e]?this.$Route.query[e]:"";this.searchValue=this.$Route.query.searchValue?decodeURIComponent(this.$Route.query.searchValue):"",this.searchParams.order="desc",this.$Route.query.priceRangeLeft&&(this.searchParams.order="asc",this.searchParams.orderBy="price",this.searchParams.priceRangeRight=999999999,this.searchParams.customizeFlag=0),this.searchCustom()},methods:{searchCustom:function(a){var r=this;a||e.showLoading({title:"加载中..."}),t.default.searchCustom(this.searchParams,this.pageInfo).then((function(t){if(e.hideLoading(),200==t.data.code){for(var o=0;o<t.data.data.records.length;o++)t.data.data.records[o].unpromotionMinPrice=Number(t.data.data.records[o].defaultPrice);a?(r.goodsInfo.records=r.goodsInfo.records.concat(t.data.data.records),r.goodsInfo.totalPage=t.data.data.totalPage):r.goodsInfo=t.data.data}else e.showToast({title:t.data.message,icon:"none"})}))},openUniDrawer:function(){this.$refs.uniDrawer.open()},scrolltolower:function(){this.pageInfo.pageNo>=this.goodsInfo.totalPage||(this.pageInfo.pageNo++,this.searchCustom(!0))},scroll:function(e){this.scrollOldTop=e.detail.scrollTop},cancelPriceSearch:function(){this.searchParams.priceRangeLeft="",this.searchParams.priceRangeRight="",this.seachReast()},sureSearch:function(){if(Number(this.searchParams.priceRangeLeft)>Number(this.searchParams.priceRangeRight)){var e=this.searchParams.priceRangeLeft;this.searchParams.priceRangeLeft=this.searchParams.priceRangeRight,this.searchParams.priceRangeRight=e}this.$refs.uniDrawer.close(),this.searchCustom()},seachReast:function(){var e=this;this.pageInfo.pageNo=1,this.scrollTop=this.scrollOldTop,this.$nextTick((function(){e.scrollTop=0,e.searchCustom()}))},goToSearch:function(){this.$Router.push({path:"/pages/search/index",query:{searchValue:this.searchValue}})}},components:{singleGoods:s,biserialGoods:n,footNoMore:c},onShow:function(){this.isWeiXinApplets=!0,this.zhuge.track("商品落地页")}};a.default=i}).call(this,r("543d")["default"])}},[["c07c","common/runtime","common/vendor"]]]);
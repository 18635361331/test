(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/giftCardPay/index"],{"0b15":function(t,e,n){"use strict";(function(t){n("6cdc");a(n("66fd"));var e=a(n("97fe"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},2865:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(n("92c6")),i=o(n("2c57"));function o(t){return t&&t.__esModule?t:{default:t}}var u={data:function(){return{defaultTitleDto:{title:"支付方式"},typeFlag:1,payNum:0,isWxFlag:!0,submitBol:!0}},onLoad:function(){this.isWxFlag=!0,this.typeFlag=1},onShow:function(){this.giftcardAmount()},methods:{walletChange:function(t){this.typeFlag=t},closeAuthorize:function(){this.$refs.authorize.close()},submitPayChange:function(){var e=this;if(!this.submitBol)return!1;this.submitBol=!1,t.showLoading({title:"加载中..."}),t.login({success:function(t){e.buildMiniPrepPaySign(t.code)}}),this.submitBol=!0,t.hideLoading()},giftcardAmount:function(){var e=this;a.default.giftcardAmount(this.$Route.query.payId).then((function(n){200==n.data.code?e.payNum=n.data.data:t.showToast({title:n.data.message,icon:"none"})}))},buildMiniPrepPaySign:function(e){var n=this;i.default.buildMiniPrepPaySign({code:e,orderPayId:this.$Route.query.payId,orderType:"card"}).then((function(e){200==e.data.code?n.requestpayment(e.data.data):t.showToast({title:e.data.message,icon:"none"})}))},requestpayment:function(e){var n=this;t.requestPayment({provider:"payment",timeStamp:e.timeStamp,nonceStr:e.nonceStr,package:e.package,paySign:e.paySign,signType:e.signType,success:function(t){n.payCallBack(!0)},fail:function(t){n.payCallBack(!1)}})},payCallBack:function(e){var n=this;e?(t.showToast({title:"支付成功",icon:"none"}),this.$Router.replace({path:"/pages/payment/index",query:{type:"giftCard"}})):(t.showToast({title:"已取消支付,正在前往订单页",icon:"none"}),setTimeout((function(){n.$Router.replace({path:"/pages/myGiftCardOrderList/index"})}),500))}}};e.default=u}).call(this,n("543d")["default"])},"97fe":function(t,e,n){"use strict";n.r(e);var a=n("d6bb"),i=n("dfa5");for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("af5b");var u,c=n("f0c5"),r=Object(c["a"])(i["default"],a["b"],a["c"],!1,null,"67a2eecb",null,!1,a["a"],u);e["default"]=r.exports},af5b:function(t,e,n){"use strict";var a=n("ec9e"),i=n.n(a);i.a},d6bb:function(t,e,n){"use strict";var a;n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}));var i=function(){var t=this,e=t.$createElement;t._self._c},o=[]},dfa5:function(t,e,n){"use strict";n.r(e);var a=n("2865"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},ec9e:function(t,e,n){}},[["0b15","common/runtime","common/vendor"]]]);
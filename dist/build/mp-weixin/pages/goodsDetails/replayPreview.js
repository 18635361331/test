(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/goodsDetails/replayPreview"],{3025:function(e,i,t){"use strict";t.d(i,"b",(function(){return r})),t.d(i,"c",(function(){return n})),t.d(i,"a",(function(){return s}));var s={uniPopup:function(){return Promise.all([t.e("common/vendor"),t.e("components/uni-popup/uni-popup")]).then(t.bind(null,"1c89"))}},r=function(){var e=this,i=e.$createElement;e._self._c},n=[]},"409b":function(e,i,t){"use strict";t.r(i);var s=t("e746"),r=t.n(s);for(var n in s)["default"].indexOf(n)<0&&function(e){t.d(i,e,(function(){return s[e]}))}(n);i["default"]=r.a},"8b66":function(e,i,t){},9640:function(e,i,t){"use strict";var s=t("8b66"),r=t.n(s);r.a},e746:function(e,i,t){"use strict";(function(e){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=r(t("d084"));function r(e){return e&&e.__esModule?e:{default:e}}var n={props:["goodsInfoId"],data:function(){return{imgBaseUrls:this.$config.imgBaseUrl,imgIndex:0,records:[],swiperSlides:[],commentId:"",imageId:""}},methods:{closeRreviewPopup:function(){this.$refs.popup.close()},openRreviewPopup:function(e,i){this.commentId=e,this.imageId=i,this.$refs.popup.open(),this.getCommentList(e,null,i,1)},swiperChange:function(e){this.imgIndex<e.detail.current?1*this.swiperSlides[this.imgIndex].countSize>this.swiperSlides.length&&this.afterComment(this.imgIndex):this.imgIndex>e.detail.current&&1*this.swiperSlides[this.imgIndex].countSize>1&&this.beforeComment(this.imgIndex),this.imgIndex=e.detail.current},beforeComment:function(e){for(var i=0,t=0,s=0,r=this.swiperSlides.length-1;s<=r;s++)if(this.swiperSlides[s].image){i=this.swiperSlides[s].currentSize,t=s;break}t!=e-1&&t!=e||this.swiperSlides[0].image||this.laodMorePage({imageReqType:0,currentSize:i})},afterComment:function(e){for(var i=0,t=this.swiperSlides.length-1;t>=0;t--)if(this.swiperSlides[t].image){this.swiperSlides[t].currentSize,i=t;break}e+1!=i&&e!=i||this.swiperSlides[i].currentSize==this.swiperSlides[i].countSize||this.laodMorePage({imageReqType:2,currentSize:this.swiperSlides[i].currentSize})},getCommentList:function(i,t,r,n){var a=this,o={commentId:i,currentSize:t,imageId:r,imageReqType:n,itemId:this.goodsInfoId,type:"4"};s.default.findAppSkuCommentImagesById(o).then((function(i){if(200==i.data.code){if(i.data.data.goodsSkuDetailsCommentPictureDtos){var t=i.data.data.goodsSkuDetailsCommentPictureDtos;0==n?a.swiperSlidesUnshif(t,i.data.data):a.swiperSlidesPush(t,i.data.data,n)}}else e.showToast({title:i.data.message,icon:"none"})}))},swiperSlidesUnshif:function(e,i){for(var t=0,s=e.length;t<s;t++){var r={},n=parseInt(Number(e[t].currentSize)-1);r.image=e[t].image,r.description=i.description,r.saleFieldValue=i.saleFieldValue,r.userName=i.userName,r.currentSize=e[t].currentSize,r.countSize=e[t].countSize,r.commentId=e[t].commentId,r.imageId=e[t].id,this.swiperSlides[n]=r}},swiperSlidesPush:function(e,i,t){for(var s=0,r=e.length;s<r;s++){var n={},a=Number(e[s].currentSize);n.image=e[s].image,n.description=i.description,n.saleFieldValue=i.saleFieldValue,n.userName=i.userName,n.currentSize=e[s].currentSize,n.countSize=e[s].countSize,n.commentId=e[s].commentId,n.imageId=e[s].id,this.imageId==e[s].id&&(this.imgIndex=a-1),1==t?this.swiperSlides.push(n):this.swiperSlides[a]||this.swiperSlides.push(n)}if(1==t){1==this.swiperSlides.length&&(1*this.swiperSlides[0].currentSize<1*this.swiperSlides[0].countSize&&this.laodMorePage({imageReqType:2,currentSize:this.swiperSlides[0].currentSize}),1*this.swiperSlides[0].currentSize>1&&this.laodMorePage({imageReqType:0,currentSize:this.swiperSlides[0].currentSize}));var o=this.swiperSlides[0].currentSize-1;for(s=o;s>0;s--){var d={};d.currentSize=s,this.swiperSlides.unshift(d)}}},laodMorePage:function(e){var i=this.commentId;if(2==e.imageReqType){for(var t=this.swiperSlides.length-1;t>=0;t--)if(this.swiperSlides[t].image){i=this.swiperSlides[t].commentId;break}}else{t=0;for(var s=this.swiperSlides.length-1;t<s;t++)if(this.swiperSlides[t].image){i=this.swiperSlides[t].commentId;break}}this.getCommentList(i,e.currentSize,null,e.imageReqType)}}};i.default=n}).call(this,t("543d")["default"])},fc63:function(e,i,t){"use strict";t.r(i);var s=t("3025"),r=t("409b");for(var n in r)["default"].indexOf(n)<0&&function(e){t.d(i,e,(function(){return r[e]}))}(n);t("9640");var a,o=t("f0c5"),d=Object(o["a"])(r["default"],s["b"],s["c"],!1,null,"329090c6",null,!1,s["a"],a);i["default"]=d.exports}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'pages/goodsDetails/replayPreview-create-component',
    {
        'pages/goodsDetails/replayPreview-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("fc63"))
        })
    },
    [['pages/goodsDetails/replayPreview-create-component']]
]);

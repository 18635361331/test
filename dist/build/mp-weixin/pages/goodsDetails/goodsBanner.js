(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/goodsDetails/goodsBanner"],{"08dc":function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=a(t("a34a")),i=a(t("92c6")),s=(a(t("688c")),a(t("5315")),a(t("ff1f")),a(t("0d75"))),r=a(t("e6bc"));function a(e){return e&&e.__esModule?e:{default:e}}function c(e,n,t,o,i,s,r){try{var a=e[s](r),c=a.value}catch(l){return void t(l)}a.done?n(c):Promise.resolve(c).then(o,i)}function l(e){return function(){var n=this,t=arguments;return new Promise((function(o,i){var s=e.apply(n,t);function r(e){c(s,o,i,r,a,"next",e)}function a(e){c(s,o,i,r,a,"throw",e)}r(void 0)}))}}var u=function(){t.e("pages/goodsDetails/share").then(function(){return resolve(t("710b"))}.bind(null,t)).catch(t.oe)},g=function(){Promise.all([t.e("common/vendor"),t.e("pages/goodsDetails/memberInterests")]).then(function(){return resolve(t("5e88"))}.bind(null,t)).catch(t.oe)},d=function(){t.e("pages/goodsDetails/imgPreview").then(function(){return resolve(t("40ca"))}.bind(null,t)).catch(t.oe)},f={props:["goodsInfo","chooseSpceData","singleProduct","seckillInfo","goodsInfoId","memberInfo"],data:function(){return{imgBaseUrls:"",entrance:"",timeParams:{hours:"",minute:"",seconds:""},authorizeFlag:!0,shareImageList:"",setIntTime:"",swiperIndex:1,previewIndex:1,memberIconConfig:{},increaseReceive:!1}},methods:{openRreviewPopup:function(){this.previewIndex=this.swiperIndex,this.$refs.previewPopup.openRreviewPopup()},goToNewUser:function(){this.$Router.push({path:"/pages/newUser/index"})},swiperChange:function(e){this.swiperIndex=e.detail.current+1},entranceShow:function(){var n=this;i.default.entranceShow(this.goodsInfoId).then((function(t){200==t.data.code?n.entrance=t.data.data:e.showToast({title:t.data.message,icon:"none"})}))},getStockNumber:function(){return this.increaseReceive&&this.chooseSpceData.skuId?this.chooseSpceData.stockNumber:this.increaseReceive&&!this.chooseSpceData.skuId?this.goodsInfo.allStockNumber:this.chooseSpceData.stockNumber},getGoodsPrice:function(){return this.chooseSpceData.price&&!this.singleProduct.singlePromotion?this.chooseSpceData.price:this.chooseSpceData.price||this.singleProduct.singlePromotion?this.singleProduct.singlePromotion?this.singleProduct.singlePromotion.promotionPrice:void 0:this.goodsInfo.minPrice},getUnderline:function(){return!!this.goodsInfo.marketPrice&&this.goodsInfo.marketPrice},judgeTimeAccurate:function(e){this.timeParams.hours=parseInt(e/36e5,10)<10?"0"+parseInt(e/36e5,10):parseInt(e/36e5,10),this.timeParams.minute=parseInt(e/1e3/60%60,10)<10?"0"+parseInt(e/1e3/60%60,10):parseInt(e/1e3/60%60,10),this.timeParams.seconds=parseInt(e/1e3%60)<10?"0"+parseInt(e/1e3%60,10):parseInt(e/1e3%60)},openSharePopup:function(){var n=this;if(e.getStorageSync("sessionId")){e.showLoading({title:"生成中..."});var t="";t="weixinMini";var o={frontEndType:t,promotionType:this.goodsInfo.singlePromotionType,promotionId:this.goodsInfo.promotionId,itemId:this.goodsInfoId};s.default.generatePoster(o).then((function(t){200==t.data.code?(n.shareImageList=t.data.data,n.$refs.sharePopup.openSharePopup()):e.showToast({title:t.data.message,icon:"none"}),e.hideLoading()}))}else this.$Router.push({path:"/pages/login/index"})}},destroyed:function(){clearInterval(this.setIntTime)},mounted:function(){var e=this;return l(o.default.mark((function n(){var t,i;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.increaseReceive=!1,e.$Route.query.transferOrderId&&(e.increaseReceive=!0),e.imgBaseUrls=e.$config.imgBaseUrl,4!=e.memberInfo.plusFlag){n.next=10;break}return n.next=6,r.default.getPartner();case 6:for(t=n.sent,i=0;i<t.length;i++)(t[i].id=e.memberInfo.distributorTypeId)&&(e.memberIconConfig=t[i]);n.next=13;break;case 10:return n.next=12,r.default.getUserVip();case 12:e.memberIconConfig=n.sent;case 13:e.entranceShow(),setTimeout((function(){e.seckillInfo.marketingSessionEndTime&&((new Date).getTime()<e.seckillInfo.marketingSessionStartTime?(e.judgeTimeAccurate(e.seckillInfo.marketingSessionStartTime-(new Date).getTime()),e.setIntTime=setInterval((function(){if(e.seckillInfo.marketingSessionStartTime-(new Date).getTime()<=0)return clearInterval(e.setIntTime),void e.judgeTimeAccurate(e.seckillInfo.marketingSessionStartTime-(new Date).getTime());e.judgeTimeAccurate(e.seckillInfo.marketingSessionStartTime-(new Date).getTime())}),1e3)):(e.judgeTimeAccurate(e.seckillInfo.marketingSessionEndTime-(new Date).getTime()),e.setIntTime=setInterval((function(){if(e.seckillInfo.marketingSessionEndTime-(new Date).getTime()<=0)return clearInterval(e.setIntTime),void e.judgeTimeAccurate(e.seckillInfo.marketingSessionEndTime-(new Date).getTime());e.judgeTimeAccurate(e.seckillInfo.marketingSessionEndTime-(new Date).getTime())}),1e3)))}));case 15:case"end":return n.stop()}}),n)})))()},components:{share:u,imgPreview:d,memberInterests:g}};n.default=f}).call(this,t("543d")["default"])},"13ac":function(e,n,t){},"5fe2":function(e,n,t){"use strict";var o=t("13ac"),i=t.n(o);i.a},"6f0a":function(e,n,t){"use strict";var o;t.d(n,"b",(function(){return i})),t.d(n,"c",(function(){return s})),t.d(n,"a",(function(){return o}));var i=function(){var e=this,n=e.$createElement,t=(e._self._c,e.seckillInfo.marketingId?(new Date).getTime():null),o=e.seckillInfo.marketingId?(new Date).getTime():null,i=e.seckillInfo.marketingId?(new Date).getTime():null,s=e.seckillInfo.marketingId?Number(this.seckillInfo.marketingSessionStartTime):null,r=24==e.goodsInfo.singlePromotionType?e.getGoodsPrice():null,a=e.getUnderline(),c=24==e.goodsInfo.singlePromotionType&&a?e.getUnderline():null,l=(new Date).getTime(),u=(24!=e.goodsInfo.singlePromotionType&&!e.seckillInfo.marketingId||l<this.seckillInfo.marketingSessionStartTime)&&!e.goodsInfo.presaleFlag?e.getGoodsPrice():null,g=(24!=e.goodsInfo.singlePromotionType&&!e.seckillInfo.marketingId||l<this.seckillInfo.marketingSessionStartTime)&&!e.goodsInfo.presaleFlag?e.getUnderline():null,d=(24!=e.goodsInfo.singlePromotionType&&!e.seckillInfo.marketingId||l<this.seckillInfo.marketingSessionStartTime)&&!e.goodsInfo.presaleFlag&&g?e.getUnderline():null,f=e.goodsInfo.presaleInfo&&e.goodsInfo.presaleFlag?String(e.getGoodsPrice()).split("."):null,m=e.goodsInfo.presaleInfo&&e.goodsInfo.presaleFlag?String(e.getGoodsPrice()).split("."):null,I=e.goodsInfo.presaleInfo&&e.goodsInfo.presaleFlag&&m[1]?String(e.getGoodsPrice()).split("."):null,p=e.goodsInfo.presaleInfo&&e.goodsInfo.presaleFlag?e.getUnderline():null,h=e.goodsInfo.presaleInfo&&e.goodsInfo.presaleFlag&&p?e.getUnderline():null,k=e.getStockNumber(),T=k>9999?null:e.getStockNumber(),v=e.getStockNumber();e.$mp.data=Object.assign({},{$root:{g0:t,g1:o,g2:i,m0:s,m1:r,m2:a,m3:c,g3:l,m4:u,m5:g,m6:d,g4:f,g5:m,g6:I,m7:p,m8:h,m9:k,m10:T,m11:v}})},s=[]},b306:function(e,n,t){},eccd:function(e,n,t){"use strict";t.r(n);var o=t("08dc"),i=t.n(o);for(var s in o)["default"].indexOf(s)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(s);n["default"]=i.a},f890:function(e,n,t){"use strict";t.r(n);var o=t("6f0a"),i=t("eccd");for(var s in i)["default"].indexOf(s)<0&&function(e){t.d(n,e,(function(){return i[e]}))}(s);t("ff80"),t("5fe2");var r,a=t("f0c5"),c=Object(a["a"])(i["default"],o["b"],o["c"],!1,null,"b293e470",null,!1,o["a"],r);n["default"]=c.exports},ff80:function(e,n,t){"use strict";var o=t("b306"),i=t.n(o);i.a}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'pages/goodsDetails/goodsBanner-create-component',
    {
        'pages/goodsDetails/goodsBanner-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("f890"))
        })
    },
    [['pages/goodsDetails/goodsBanner-create-component']]
]);

(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/shopSearchList/index"],{2902:function(e,t,o){"use strict";o.r(t);var r=o("fab9"),a=o.n(r);for(var n in r)["default"].indexOf(n)<0&&function(e){o.d(t,e,(function(){return r[e]}))}(n);t["default"]=a.a},"345d":function(e,t,o){"use strict";var r=o("c83a"),a=o.n(r);a.a},bf5e:function(e,t,o){"use strict";(function(e){o("6cdc");r(o("66fd"));var t=r(o("f72c"));function r(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,o("543d")["createPage"])},c83a:function(e,t,o){},dc8c:function(e,t,o){"use strict";o.d(t,"b",(function(){return a})),o.d(t,"c",(function(){return n})),o.d(t,"a",(function(){return r}));var r={uniDrawer:function(){return o.e("components/uni-drawer/uni-drawer").then(o.bind(null,"6e16"))}},a=function(){var e=this,t=e.$createElement;e._self._c;e._isMounted||(e.e0=function(t){e.searchValue="",e.goToSearch()},e.e1=function(t){e.typeSwitch=!e.typeSwitch},e.e2=function(t){e.searchParams.orderBy="",e.searchParams.order="desc",e.seachReast()},e.e3=function(t){e.searchParams.orderBy="sales",e.searchParams.order="desc",e.seachReast()},e.e4=function(t){e.searchParams.orderBy="newProduct",e.searchParams.order="desc",e.seachReast()},e.e5=function(t){e.searchParams.orderBy="price",e.searchParams.order="desc"==e.searchParams.order?"asc":"desc",e.seachReast()})},n=[]},f72c:function(e,t,o){"use strict";o.r(t);var r=o("dc8c"),a=o("2902");for(var n in a)["default"].indexOf(n)<0&&function(e){o.d(t,e,(function(){return a[e]}))}(n);o("345d");var s,i=o("f0c5"),c=Object(i["a"])(a["default"],r["b"],r["c"],!1,null,"9306e6a8",null,!1,r["a"],s);t["default"]=c.exports},fab9:function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;a(o("986b"));var r=a(o("d084"));function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function s(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?n(Object(o),!0).forEach((function(t){i(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var c=function(){Promise.all([o.e("common/vendor"),o.e("renovation/singleGoods/index")]).then(function(){return resolve(o("49e2"))}.bind(null,o)).catch(o.oe)},d=function(){Promise.all([o.e("common/vendor"),o.e("renovation/biserialGoods/index")]).then(function(){return resolve(o("0e99"))}.bind(null,o)).catch(o.oe)},u=function(){o.e("components/footNoMore/index").then(function(){return resolve(o("1fd4"))}.bind(null,o)).catch(o.oe)},f={data:function(){return{typeSwitch:!0,searchParams:{frontCategoryId:"",order:"desc",orderBy:"",storeId:"",param:"",originWord:"",record:!0},searchValue:"",pageInfo:{pageNo:1,pageSize:6},goodsInfo:{totalPage:"",records:[]},scrollTop:0,scrollOldTop:0,isWeiXinApplets:!1}},methods:{bindGoodsList:function(t){var o=this;t||e.showLoading({title:"加载中..."}),r.default.bindGoodsList(this.searchParams,this.pageInfo).then((function(r){if(e.hideLoading(),200==r.data.code){for(var a=0;a<r.data.data.records.length;a++)r.data.data.records[a].unpromotionMinPrice=Number(r.data.data.records[a].defaultPrice);t?(o.goodsInfo.records=o.goodsInfo.records.concat(r.data.data.records),o.goodsInfo.totalPage=r.data.data.totalPage):o.goodsInfo=r.data.data}else e.showToast({title:r.data.message,icon:"none"})}))},storeGoodsList:function(t){var o=this;r.default.storeGoodsList(s(s({},this.searchParams),this.pageInfo)).then((function(r){200==r.data.code?t?(o.goodsInfo.records=o.goodsInfo.records.concat(r.data.data.records),o.goodsInfo.totalPage=r.data.data.totalPage):o.goodsInfo=r.data.data:e.showToast({title:r.data.message,icon:"none"})}))},openUniDrawer:function(){this.$refs.uniDrawer.open()},scrolltolower:function(){this.pageInfo.pageNo>=this.goodsInfo.totalPage||(this.pageInfo.pageNo++,this.$Route.query.frontCategoryId?this.bindGoodsList(!0):this.storeGoodsList(!0))},scroll:function(e){this.scrollOldTop=e.detail.scrollTop},cancelPriceSearch:function(){this.searchParams.priceRangeLeft="",this.searchParams.priceRangeRight="",this.seachReast()},sureSearch:function(){if(Number(this.searchParams.priceRangeLeft)>Number(this.searchParams.priceRangeRight)){var e=this.searchParams.priceRangeLeft;this.searchParams.priceRangeLeft=this.searchParams.priceRangeRight,this.searchParams.priceRangeRight=e}this.$refs.uniDrawer.close(),this.bindGoodsList()},seachReast:function(){var e=this;this.pageInfo.pageNo=1,this.scrollTop=this.scrollOldTop,this.$nextTick((function(){e.scrollTop=0,e.bindGoodsList()}))},goToSearch:function(){this.goBack(1)}},components:{singleGoods:c,biserialGoods:d,footNoMore:u},onShow:function(){for(var e in this.isWeiXinApplets=!0,this.zhuge.track("店铺搜索结果落地页"),this.searchParams)this.searchParams[e]=this.$Route.query[e]?this.$Route.query[e]:"";this.pageInfo.pageNo=1,this.searchValue=this.$Route.query.searchValue?decodeURIComponent(this.$Route.query.searchValue):"",this.searchParams.order="desc",this.$Route.query.frontCategoryId?this.bindGoodsList():this.storeGoodsList()}};t.default=f}).call(this,o("543d")["default"])}},[["bf5e","common/runtime","common/vendor"]]]);
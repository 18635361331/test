<view class="page commonPageTitle data-v-5a7ef5bd"><default-title vue-id="2b6a4b78-1" dto="{{defaultTitleDto}}" class="data-v-5a7ef5bd" bind:__l="__l"></default-title><view class="orderPrice data-v-5a7ef5bd">应付<block wx:if="{{payInfo.payedSummary}}"><text class="orderAmount data-v-5a7ef5bd">{{"￥"+(surplusMoney?surplusMoney:"")}}</text></block><block wx:else><text class="orderAmount data-v-5a7ef5bd">{{"￥"+(payInfo.orderAmount?payInfo.orderAmount:"")}}</text></block><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="orderDetailsBtn data-v-5a7ef5bd" bindtap="__e">{{''+(payFlag?"收起":"详情")+''}}<text class="{{['data-v-5a7ef5bd',payFlag?'active':'']}}"></text></view></view><block wx:if="{{payFlag}}"><view class="orderPriceMain data-v-5a7ef5bd"><view class="everyRow data-v-5a7ef5bd"><text class="data-v-5a7ef5bd">商品金额</text><text class="data-v-5a7ef5bd">{{"￥"+payInfo.orderSummary.goodsAmount}}</text></view><view class="everyRow data-v-5a7ef5bd"><text class="data-v-5a7ef5bd">运费</text><text class="data-v-5a7ef5bd">{{"￥"+payInfo.orderSummary.freightAmount}}</text></view><view class="everyRow data-v-5a7ef5bd"><text class="data-v-5a7ef5bd">库豆抵扣</text><text class="data-v-5a7ef5bd">{{"-￥"+payInfo.orderSummary.goldAmount}}</text></view><view class="everyRow data-v-5a7ef5bd"><text class="data-v-5a7ef5bd">积分抵扣</text><text class="data-v-5a7ef5bd">{{"-￥"+payInfo.orderSummary.scorePayedAmount}}</text></view></view></block><view class="myWalletHead data-v-5a7ef5bd">文器库商城支付</view><block wx:if="{{!payInfo.payedSummary}}"><view class="myWalletInfo data-v-5a7ef5bd"><block wx:if="{{payInfo.memberAsset&&payInfo.memberAsset.balance<=0}}"><view class="mask data-v-5a7ef5bd"></view></block><view class="walletIcon data-v-5a7ef5bd"></view><view class="walletText data-v-5a7ef5bd"><view class="walletType data-v-5a7ef5bd">账户余额</view><view class="walletPrice data-v-5a7ef5bd">{{'余额￥'+(payInfo.memberAsset?payInfo.memberAsset.accountBalance:0)+" 可用￥"+(payInfo.memberAsset.balance?payInfo.memberAsset.balance:0)+''}}</view></view><block wx:if="{{$root.g0!='-1'}}"><view class="payPrice data-v-5a7ef5bd">{{'￥'+payInfo.memberAsset.balanceUseMoney+''}}</view></block><view data-event-opts="{{[['tap',[['accountChange']]]]}}" class="{{['payChooseBtn data-v-5a7ef5bd',$root.g1!='-1'?'active':'']}}" catchtap="__e"></view></view></block><block wx:if="{{payInfo.payedSummary&&payInfo.payedSummary.balanceAmount}}"><view class="myWalletInfo data-v-5a7ef5bd"><view class="walletIcon data-v-5a7ef5bd"></view><view class="walletText data-v-5a7ef5bd"><view class="walletType data-v-5a7ef5bd">账户余额</view></view><view class="payPrice data-v-5a7ef5bd">{{'￥'+(payInfo.payedSummary.balanceAmount?payInfo.payedSummary.balanceAmount:0)+''}}</view></view></block><block wx:if="{{payInfo.memberAsset&&!payInfo.payedSummary}}"><view data-event-opts="{{[['tap',[['openGiftCardPopup',['$event']]]]]}}" class="myWalletInfo data-v-5a7ef5bd" bindtap="__e"><block wx:if="{{payInfo.memberAsset.cardAmount<=0}}"><view class="mask data-v-5a7ef5bd"></view></block><view class="walletIcon icon_m data-v-5a7ef5bd"></view><view class="walletText data-v-5a7ef5bd"><view class="walletType data-v-5a7ef5bd">礼卡</view><view class="walletPrice data-v-5a7ef5bd">{{'余额￥'+payInfo.memberAsset.accountCard+" 可用￥"+payInfo.memberAsset.cardAmount+''}}</view></view><block wx:if="{{$root.g2!='-1'}}"><view class="payPrice data-v-5a7ef5bd">{{'￥'+payInfo.memberAsset.cardUseMoney+''}}</view></block><block wx:if="{{!this.payInfo.payedSummary}}"><view data-event-opts="{{[['tap',[['giftChange',['$event']]]]]}}" class="{{['payChooseBtn data-v-5a7ef5bd',$root.g3!='-1'?'active':'']}}" catchtap="__e"></view></block></view></block><block wx:if="{{payInfo.payedSummary&&payInfo.payedSummary.cardAmount}}"><view data-event-opts="{{[['tap',[['openGiftCardPopup',['$event']]]]]}}" class="myWalletInfo data-v-5a7ef5bd" bindtap="__e"><view class="walletIcon icon_m data-v-5a7ef5bd"></view><view class="walletText data-v-5a7ef5bd"><view class="walletType data-v-5a7ef5bd">礼卡</view></view><view class="payPrice data-v-5a7ef5bd">{{'-￥'+payInfo.payedSummary.cardAmount+''}}</view></view></block><view class="myWalletHead data-v-5a7ef5bd">其它方式支付</view><block wx:if="{{isWxFlag}}"><view class="payType data-v-5a7ef5bd"><block wx:if="{{surplusMoney<=0}}"><view class="mask data-v-5a7ef5bd"></view></block><view class="weixinIcon data-v-5a7ef5bd"></view><view class="payText data-v-5a7ef5bd">微信</view><block wx:if="{{$root.g4!='-1'}}"><view class="payPrice data-v-5a7ef5bd">{{'￥'+$root.g5+''}}</view></block><view data-event-opts="{{[['tap',[['outsideStationChange',['微信']]]]]}}" class="{{['payChooseBtn data-v-5a7ef5bd',$root.g6!='-1'?'active':'']}}" bindtap="__e"></view></view></block><block wx:if="{{payInfo.payedSummary}}"><view data-event-opts="{{[['tap',[['openPswPopup',['$event']]]]]}}" class="surePayBtn data-v-5a7ef5bd" bindtap="__e">{{''+(chooseTypeList.length>1?"组合":chooseTypeList[0])+"支付￥"+surplusMoney+'元'}}</view></block><block wx:else><view data-event-opts="{{[['tap',[['openPswPopup',['$event']]]]]}}" class="surePayBtn data-v-5a7ef5bd" bindtap="__e">{{''+(chooseTypeList.length>1?"组合":chooseTypeList[0])+"支付￥"+(payInfo.orderAmount?payInfo.orderAmount:"")+'元'}}</view></block><psw-popup bind:openForgetPopup="__e" bind:submitPay="__e" vue-id="2b6a4b78-2" data-ref="pswPopup" data-event-opts="{{[['^openForgetPopup',[['openForgetPopup']]],['^submitPay',[['setSubmitPsw']]]]}}" class="data-v-5a7ef5bd vue-ref" bind:__l="__l"></psw-popup><set-pay-pwd vue-id="2b6a4b78-3" payInfo="{{payInfo}}" data-ref="setPayPwd" data-event-opts="{{[['^openPswPopup',[['openPswPopup']]],['^submitPay',[['setSubmitPsw']]]]}}" bind:openPswPopup="__e" bind:submitPay="__e" class="data-v-5a7ef5bd vue-ref" bind:__l="__l"></set-pay-pwd><forget-pay-psw vue-id="2b6a4b78-4" payInfo="{{payInfo}}" data-ref="forgetPayPsw" data-event-opts="{{[['^openPswPopup',[['openPswPopup']]],['^submitPay',[['setSubmitPsw']]]]}}" bind:openPswPopup="__e" bind:submitPay="__e" class="data-v-5a7ef5bd vue-ref" bind:__l="__l"></forget-pay-psw><verification-code vue-id="2b6a4b78-5" payInfo="{{payInfo}}" isSendSMS="{{true}}" data-ref="verificationCode" data-event-opts="{{[['^codeSubmit',[['codeSubmit']]]]}}" bind:codeSubmit="__e" class="data-v-5a7ef5bd vue-ref" bind:__l="__l"></verification-code><card-list vue-id="2b6a4b78-6" cardInfo="{{cardInfo}}" payInfo="{{payInfo}}" data-ref="giftCard" data-event-opts="{{[['^cardAmountChange',[['cardAmountChange']]]]}}" bind:cardAmountChange="__e" class="data-v-5a7ef5bd vue-ref" bind:__l="__l"></card-list><block wx:if="{{hideFMCanvas!=undefined&&!hideFMCanvas}}"><view class="data-v-5a7ef5bd"><canvas style="margin-top:200rpx;" canvas-id="tdcanvas" class="data-v-5a7ef5bd"></canvas></view></block></view>
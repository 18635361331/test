(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/goodsCustomized/cusAttr/index"],{"305f":function(t,s,o){"use strict";o.r(s);var e=o("f763"),i=o.n(e);for(var a in e)["default"].indexOf(a)<0&&function(t){o.d(s,t,(function(){return e[t]}))}(a);s["default"]=i.a},3882:function(t,s,o){},"5fbd":function(t,s,o){"use strict";var e=o("3882"),i=o.n(e);i.a},"6d2b":function(t,s,o){"use strict";o.r(s);var e=o("f046"),i=o("305f");for(var a in i)["default"].indexOf(a)<0&&function(t){o.d(s,t,(function(){return i[t]}))}(a);o("5fbd");var n,c=o("f0c5"),h=Object(c["a"])(i["default"],e["b"],e["c"],!1,null,"35afee24",null,!1,e["a"],n);s["default"]=h.exports},f046:function(t,s,o){"use strict";o.d(s,"b",(function(){return i})),o.d(s,"c",(function(){return a})),o.d(s,"a",(function(){return e}));var e={uniPopup:function(){return Promise.all([o.e("common/vendor"),o.e("components/uni-popup/uni-popup")]).then(o.bind(null,"1c89"))}},i=function(){var t=this,s=t.$createElement;t._self._c},a=[]},f763:function(t,s,o){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var e=function(){o.e("pages/goodsCustomized/skuChoose/index").then(function(){return resolve(o("4410"))}.bind(null,o)).catch(o.oe)},i={props:["goodsInfo","chooseSpceData"],data:function(){return{}},methods:{openSkuPopup:function(){this.$refs.skuPopup.open()},closeSkuPopup:function(){this.$refs.skuPopup.close()},initSpecVal:function(){if(this.goodsInfo.attrSpecList.length){for(var t=0;t<this.goodsInfo.attrSpecList.length;t++)1==this.goodsInfo.attrSpecList[t].valueDTOList.length?(this.$set(this.goodsInfo.attrSpecList[t],"chooseAttrValueId",this.goodsInfo.attrSpecList[t].valueDTOList[0].attrValueId),this.$set(this.goodsInfo.attrSpecList[t],"chooseAttrValue",this.goodsInfo.attrSpecList[t].valueDTOList[0].attrValue),this.chooseSpceData.checkList.push(this.goodsInfo.attrSpecList[t].valueDTOList[0].attrValue)):(this.$set(this.goodsInfo.attrSpecList[t],"chooseAttrValueId",null),this.$set(this.goodsInfo.attrSpecList[t],"chooseAttrValue",null),this.chooseSpceData.checkList.push(null));this.setSpceName()}else this.setSkuInfo(0),this.chooseSpceData.skuId=this.goodsInfo.skuList[0].skuId;this.updateMsg(this.goodsInfo,this.chooseSpceData)},setSpceName:function(){var t=this.skuArrNullNum(this.chooseSpceData.checkList);if(0==t)this.$set(this.chooseSpceData,"name","已选："+this.chooseSpceData.checkList.join(" "));else{this.$set(this.chooseSpceData,"name","请选择");for(var s=0;s<this.goodsInfo.attrSpecList.length;s++)this.goodsInfo.attrSpecList[s].chooseAttrValue||this.$set(this.chooseSpceData,"name",this.chooseSpceData.name+this.goodsInfo.attrSpecList[s].attrName)}this.goodsInfo.skuList.length&&(this.resetFlag(),this.stcokFlagSet()),this.updateMsg(this.goodsInfo,this.chooseSpceData)},resetFlag:function(){for(var t in this.goodsInfo.attrSpecList)for(var s in this.goodsInfo.attrSpecList[t].valueDTOList)this.$set(this.goodsInfo.attrSpecList[t].valueDTOList[s],"flag",!1);this.updateMsg(this.goodsInfo,this.chooseSpceData)},stcokFlagSet:function(){for(var t=this,s=[],o=0;o<this.goodsInfo.attrSpecList.length;o++)this.goodsInfo.attrSpecList[o].chooseAttrValueId?s.push(this.goodsInfo.attrSpecList[o].chooseAttrValueId):o;if(0==this.skuArrNullNum(this.chooseSpceData.checkList))for(var e=0;e<this.goodsInfo.skuList.length;e++)this.goodsInfo.skuList[e].attrValueDTOList&&function(){var o=t.goodsInfo.skuList[e].attrValueDTOList.map((function(t){return t.attrValueId}));s.filter((function(t){return o.indexOf(t)>-1})).length==s.length&&t.setSkuInfo(e)}();this.updateMsg(this.goodsInfo,this.chooseSpceData)},cancelSetSpce:function(t){this.goodsInfo.attrSpecList[t].chooseAttrValueId="",this.goodsInfo.attrSpecList[t].chooseAttrValue="",this.chooseSpceData.checkList[t]=null,this.chooseSpceData.price=0,this.chooseSpceData.skuId="",this.setSpceName(),this.stcokFlagSet(),this.$emit("updataMsg",this.goodsInfo,this.chooseSpceData)},setSkuInfo:function(t){if(this.goodsInfo.skuList[t]){if(this.$set(this.chooseSpceData,"minOrderNum",this.goodsInfo.skuList[t].minOrderNum),this.chooseSpceData.number<this.goodsInfo.skuList[t].minOrderNum&&this.$set(this.chooseSpceData,"number",this.goodsInfo.skuList[t].minOrderNum),this.$set(this.chooseSpceData,"checkIndex",t),this.goodsInfo.skuList[t].priceLadder){for(var s=!1,o=0;o<this.goodsInfo.skuList[t].priceLadder.length;o++)if(this.goodsInfo.skuList[t].priceLadder[o].number>=this.chooseSpceData.number){if(s=!0,this.goodsInfo.skuList[t].priceLadder[o].number==this.chooseSpceData.number){this.$set(this.chooseSpceData,"price",this.goodsInfo.skuList[t].priceLadder[o].originPrice),this.$set(this.chooseSpceData,"memberPrice",this.goodsInfo.skuList[t].priceLadder[o].price);break}o>0?(this.$set(this.chooseSpceData,"price",this.goodsInfo.skuList[t].priceLadder[o-1].originPrice),this.$set(this.chooseSpceData,"memberPrice",this.goodsInfo.skuList[t].priceLadder[o-1].price)):(this.$set(this.chooseSpceData,"price",this.goodsInfo.skuList[t].priceLadder[o].originPrice),this.$set(this.chooseSpceData,"memberPrice",this.goodsInfo.skuList[t].priceLadder[o].price));break}if(!s){var e=this.goodsInfo.skuList[t].priceLadder.length-1;this.$set(this.chooseSpceData,"price",this.goodsInfo.skuList[t].priceLadder[e].originPrice),this.$set(this.chooseSpceData,"memberPrice",this.goodsInfo.skuList[t].priceLadder[e].price)}}this.$set(this.chooseSpceData,"skuId",this.goodsInfo.skuList[t].skuId)}this.updateMsg(this.goodsInfo,this.chooseSpceData)},setDefaultSpec:function(t){for(var s=0;s<this.goodsInfo.skuList.length;s++)if(this.goodsInfo.skuList[s].skuId==t){this.setSkuInfo(s);for(var o=0;o<this.goodsInfo.skuList[s].attrValueDTOList.length;o++)for(var e=0;e<this.goodsInfo.attrSpecList.length;e++)this.goodsInfo.attrSpecList[e].attrId==this.goodsInfo.skuList[s].attrValueDTOList[o].attrId&&(this.$set(this.goodsInfo.attrSpecList[e],"chooseAttrValueId",this.goodsInfo.skuList[s].attrValueDTOList[o].attrValueId),this.$set(this.goodsInfo.attrSpecList[e],"chooseAttrValue",this.goodsInfo.skuList[s].attrValueDTOList[o].attrValue),this.chooseSpceData.checkList[e]=this.goodsInfo.skuList[s].attrValueDTOList[o].attrValue)}this.goodsInfo.attrSpecList.length||this.setSkuInfo(0),this.setSpceName()},skuArrNullNum:function(t){var s=0;for(var o in t)t[o]||s++;return s},goToMake:function(){this.$emit("goToMake")},updateMsg:function(t,s){this.$emit("updateSku",s),this.$emit("UpdateGoodsInfo",t)}},mounted:function(){this.initSpecVal()},components:{skuChoose:e}};s.default=i}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'pages/goodsCustomized/cusAttr/index-create-component',
    {
        'pages/goodsCustomized/cusAttr/index-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("6d2b"))
        })
    },
    [['pages/goodsCustomized/cusAttr/index-create-component']]
]);

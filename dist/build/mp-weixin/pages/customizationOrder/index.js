(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/customizationOrder/index"],{"00dd":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o}));var o={uniPopup:function(){return Promise.all([n.e("common/vendor"),n.e("components/uni-popup/uni-popup")]).then(n.bind(null,"1c89"))}},r=function(){var e=this,t=e.$createElement;e._self._c;e._isMounted||(e.e0=function(t,n){var o=arguments[arguments.length-1].currentTarget.dataset,r=o.eventParams||o["event-params"];n=r.item;e.orderType=n.type,e.chooseChange()})},a=[]},2298:function(e,t,n){"use strict";(function(e){n("6cdc");o(n("66fd"));var t=o(n("6dbb7"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},"56ce":function(e,t,n){},"64c2":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("27f3")),r=a(n("1087"));function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(){Promise.all([n.e("common/vendor"),n.e("pages/customizationOrder/orderInfo")]).then(function(){return resolve(n("9c1e"))}.bind(null,n)).catch(n.oe)},d=function(){n.e("components/defaultPopup/index").then(function(){return resolve(n("ac2a"))}.bind(null,n)).catch(n.oe)},f={mixins:[o.default],data:function(){return{defaultTitleDto:{title:"定制订单"},order:[{type:"",name:"全部"},{type:10,name:"待确认"},{type:20,name:"待付款"},{type:30,name:"生产中"},{type:40,name:"待收货"}],orderType:"",pageInfo:{pageNo:1,pageSize:6},orderInfoParams:"",scrollTop:0,checkIndex:""}},methods:{scrolltolower:function(){this.pageInfo.pageNo>=this.orderInfoParams.totalPage||(this.pageInfo.pageNo++,this.queryOrders(!0))},chooseChange:function(){var e=this;this.pageInfo.pageNo=1,this.$nextTick((function(){e.scrollTop=0})),this.queryOrders()},queryOrders:function(t){var n=this;e.showLoading({title:"加载中..."});var o=u(u({},this.pageInfo),{},{orderState:this.orderType?this.orderType:""});r.default.listOrderPage(o).then((function(o){e.hideLoading(),200==o.data.code?(o.data.data.records.map=o.data.data.records.map((function(e){return e.goodsList.map=e.goodsList.map((function(e){return e.deliveryDaysMap=e.deliveryDays?n.$utils.getDHours(e.deliveryDays):"",e})),e})),t?n.orderInfoParams.records=n.orderInfoParams.records.concat(o.data.data.records):n.orderInfoParams=o.data.data):e.showToast({title:o.data.message,icon:"none"})}))},cancelOrder:function(e){this.checkIndex=e,this.$refs.cancelPopup.open()},cancelOk:function(){this.$refs.cancelPopup.close()},goToPay:function(e){2==e.payType?this.$Router.replace({path:"/pages/customizationOrder/paySuccess",query:{payType:2,type:1,orderId:e.id,qiyuKefuGroupId:e.qiyuKefuGroupId?e.qiyuKefuGroupId:""}}):this.goDetail(e)},sureOk:function(){var t=this;this.$refs.cancelPopup.close(),r.default.cancelCusOrder(this.orderInfoParams.records[this.checkIndex].id).then((function(n){200==n.data.code?(t.orderInfoParams.records[t.checkIndex].orderState=0,e.showToast({title:"取消成功",icon:"none"})):e.showToast({title:n.data.message,icon:"none"})}))},goDetail:function(e){this.$Router.push({path:"/pages/customizationOrder/detail",query:{id:e.id,qiyuKefuGroupId:e.qiyuKefuGroupId?e.qiyuKefuGroupId:""}})}},onLoad:function(){this.$Route.query.state&&(this.orderType=this.$Route.query.state)},onShow:function(){this.chooseChange()},components:{orderInfo:s,defaultPopup:d}};t.default=f}).call(this,n("543d")["default"])},"6dbb7":function(e,t,n){"use strict";n.r(t);var o=n("00dd"),r=n("bb78");for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("a53f");var i,u=n("f0c5"),c=Object(u["a"])(r["default"],o["b"],o["c"],!1,null,"55e255f2",null,!1,o["a"],i);t["default"]=c.exports},a53f:function(e,t,n){"use strict";var o=n("56ce"),r=n.n(o);r.a},bb78:function(e,t,n){"use strict";n.r(t);var o=n("64c2"),r=n.n(o);for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a);t["default"]=r.a}},[["2298","common/runtime","common/vendor"]]]);
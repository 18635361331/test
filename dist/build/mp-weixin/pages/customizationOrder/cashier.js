(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/customizationOrder/cashier"],{"0035":function(e,t,n){"use strict";n.r(t);var a=n("a151"),i=n("4b14");for(var u in i)["default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(u);n("d9eb");var o,r=n("f0c5"),c=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,"9bc33900",null,!1,a["a"],o);t["default"]=c.exports},"4b14":function(e,t,n){"use strict";n.r(t);var a=n("f623"),i=n.n(a);for(var u in a)["default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(u);t["default"]=i.a},a151:function(e,t,n){"use strict";var a;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return a}));var i=function(){var e=this,t=e.$createElement;e._self._c},u=[]},d9eb:function(e,t,n){"use strict";var a=n("eb05"),i=n.n(a);i.a},eb05:function(e,t,n){},f01b:function(e,t,n){"use strict";(function(e){n("6cdc");a(n("66fd"));var t=a(n("0035"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},f623:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n("2c57")),i=o(n("1087")),u=o(n("6b82"));function o(e){return e&&e.__esModule?e:{default:e}}var r={mixins:[u.default],data:function(){return{defaultTitleDto:{title:"收银台"},payInfo:{},payType:"wx"}},methods:{changeType:function(e){this.payType=e},submitPayOrder:function(){var t=this;i.default.submitPayOrder({payId:this.payInfo.payId,payType:2}).then((function(n){200==n.data.code?t.$Router.replace({path:"/pages/customizationOrder/paySuccess",query:{payType:2,type:1,orderId:t.$Route.query.orderId,qiyuKefuGroupId:t.$Route.query.qiyuKefuGroupId}}):e.showToast({title:n.data.message,icon:"none"})}))},pay:function(){var t=this;"wx"==this.payType?e.login({success:function(e){t.buildMiniPrepPaySign(e.code)}}):this.submitPayOrder()},buildMiniPrepPaySign:function(t){var n=this;a.default.buildMiniPrepPaySign({code:t,orderPayId:this.payInfo.payId,orderType:"customize"}).then((function(t){200==t.data.code?n.requestpayment(t.data.data):e.showToast({title:t.data.message,icon:"none"})}))},requestpayment:function(t){var n=this;e.requestPayment({provider:"payment",timeStamp:t.timeStamp,nonceStr:t.nonceStr,package:t.package,paySign:t.paySign,signType:t.signType,success:function(t){e.showToast({title:"支付成功",icon:"none"}),n.$Router.replace({path:"/pages/customizationOrder/paySuccess",query:{payType:1,type:2,orderId:n.$Route.query.orderId,qiyuKefuGroupId:n.$Route.query.qiyuKefuGroupId}})},fail:function(t){e.showToast({title:"已取消支付,正在前往订单页",icon:"none"}),setTimeout((function(){n.goBack(1)}),500)}})},buildPayOrder:function(){var t=this;i.default.buildPayOrder({orderIdList:[this.$Route.query.orderId],invoiceType:this.$Route.query.invoiceType}).then((function(n){200==n.data.code?t.payInfo=n.data.data:e.showToast({title:n.data.message,icon:"none"})}))}},mounted:function(){this.buildPayOrder()},onLoad:function(){this.fmagentInit()}};t.default=r}).call(this,n("543d")["default"])}},[["f01b","common/runtime","common/vendor"]]]);